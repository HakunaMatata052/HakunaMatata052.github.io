<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Dobby</title>
  
  <subtitle>Dobby is a free elf!</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://hakunamatata052.github.io/"/>
  <updated>2021-04-16T07:01:37.767Z</updated>
  <id>https://hakunamatata052.github.io/</id>
  
  <author>
    <name>Hakunamatata</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ACT常用开发套路</title>
    <link href="https://hakunamatata052.github.io/2021/04/16/ulink/"/>
    <id>https://hakunamatata052.github.io/2021/04/16/ulink/</id>
    <published>2021-04-16T06:13:00.000Z</published>
    <updated>2021-04-16T07:01:37.767Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="1d8f24bd95b314142a784760270e5065dc29d549c1ece2781b0727895693e149">1a025ead7a8c78ef8c16dfac148f767a2a97cf95de574d59133935e779f2b8623b264d897941efc83f35e6cb20adc3eeae9c6ddc0c41c92d928723e068361ee8ccbabf805fbb387a227bee78b70dcc3f1d5ece8e78747210a8d09a05e60db14a8d8f6a3b7cdb11e211d91f83012cc56d7669b27f3476871a537d61e3d62b89eab1953a65d40a5ba3d04bed7a44b60dbf78d3da38b5dc7326a40a64153a70b13cd419d80bb1ecc1d69ef5955b635664bd1da3cffb6dfa25122bdde2edfbc8a1c18d6fa37a127116610f0d1c2d2e90a687b55b82aa533353ee4dac883ff471f7bde10b9c86d88d48853d08cf97e172bfaa156fe720980ffe02202fb3e593060828b87dc76813203fc84555573bba2a9edd1180879d060ee19772d21229c00b3968857d552d01747c4cc113e46024102ed62ed6cbab3ea6f7791834050628fa39e8d2740621fc94871cd43b65f54c31d45c01b2161bc18ea1c06856cfae4b0c8b4e89e0fcf52bbf70036fcd835a5314e2a6a0e7e57e9bc0b949030eda4162c0595839744b2d01b129f2dc5c82c97e1a2367c2b02905e6a27f0196301cfd732ce32d9d354c534668774e1f074ba6b42d4c0118b6852a23f823f0d01e3d980d61aaa3ba117a4e81b3a434f6f362881678f8fad6e096d48e288646015d7e9c1331f30fd07b26fbd8b64e7a3c2c303f16d31d187e6433c958663cd41fb74236929ef0186cedaea2d9a3955dd99c87ab9b280e6842cae7506908bdd6efc71cf2d2a09d4603726e45dac333a0b6f8567b198a9293c063b8e79b6cede88f56ec9dccb112f472fb40e1b8601819c2e62a48b921354fadc8014ddef96aea5d241d80e8de56462aafd4f9da46165ebef566aa98e7a7ac39496879aa39b1be4c3728f034f5cd881694ddb5c4116795860d8f016a66bbbd71adfad31b87d6597d5c5eb6f9580fe0ae5366bc52b62721186fddbb80bb2cd56a0b121713cf4d88824e19a1da15ebc88f054c2961d889982c24667cf0dad7271e0018c7e1d23a22c5178e5e6503de364d91f78f9a1cadf3ed7bd6d824c95733ecc26f67e7cf3eea0b475b053c9c2af6e468b495fcfed3c534259c64ec6ab594451fc450931a47ee4d51b8ad247e977ebb458bec1c052b3d94e87f32b2a1f994324efdf3726291b0c6cbb9332bfcd342518a38e85ed9f9d2b71da861fe3e16f11dc34730d89004bea0170a70cf2bdc6a67e8f87aa7d003158ee844269d892f02d00d2892ec5eb5b3840d06b7702a04d599ffbffb92d3e47ecc6e4cdf6751f98b98cc28215c421c66b04730c80fda7f7684dbbcb85fff4303c0ea92ca822f78083531b260b2fdcfcf40eae3d2b71a2de1cd3219e627c094f57929cda5b62d155b2bc43e262315faed5cf497f7d9f08c998023e00e35fd8f6a7ea3dbfc01d8b1febbc629afc8260b7f995a988681c4ab212a687b6b92a20d7c741b4099dbd21cacba039224078b72074e31d692503149cdae2974da6d0ded3eebbccf504dbfd139d313e4c8e1a29b78d430bfc3db8503474154a32c61305372719a4f67a9247fcf25cbc6a373902f0a320523aff818c179e3fcfe157ed1f11dd6464a4d2c76de86450529dc53b6cd9c8a7103a4229cbf8be12e5c99fb2dc126c955dd2d14037c6d023de11fca7da21d632d4e7e5fe400227318aee93d085c475437b038c804ac420f46afcc2e1986cec4fccb1fb425998c37b8f94c3fa37b92a10a84e039acd2a99e8d56d67749759ccfe0be7df8bbcb04751d5045cd97f9b012f15f198cf16f5edce71ffe3fef1eebadacef8055e25632724f734a43f8b856bc984331b4a6c637b14edd437ee810ececc1480a296d0735d285a8d9fa9f6c6e747ce5a6f4a5e4f8e080ecf842fbbd0c5323fcad1774396366f18d98b4cd47ef64c17cf074ee816d3aea9dd5f24299541d91163cafda1b3e0cdbcac1ab76d9a9b92d393b1d9d05ebbfe43b32270552babe9916d41f5d5052c5b808e507deffecb8288fb681e0185ed3e0ec2eba3cfd2289c30e06c302e62f51555933f0e5dd560a5771b1c4104d139eea9a37a0dc7e92da7214cf789a85cc9de7aae6079cfb78170f4d0913d46e0b192046660288842cac0a97c7a337337d126409861c3ccf5c0fda624314a6cded23d1e398462b24f4b9c970f984d38c0da910a370937a29582b9447bdff56d31786b6829cad2ee062f6b7f86eba53676ee8664e9d66c700fa0f94028d6ca71578f1dcc3c3ac5bd0f40d05764ad5226a01471361dd3023dc82b6b9b061471a78b43f6c49dd9ec2271adee3693e7006e88067a1560b61ba8fdbfc674b4f69bd449c9f4bd2a34c9ebb5b64f273169044693b35d51b8a2e70331e4ac15aa89f31bf46096ddcc4a4928ac6197e160f6e47eaceae8bb56c5df6a75f7ecf14a51373b50a616834b29d40b181f5ce0296d8a16b8a7ed5ea0a8c0947f93bf61bfbdb3ba5d7d1f47f1f4530374f61d88fd3417bd84e79482904786514e934c0b10311c1c0e1f444b5ebc7db34e5e8cbeafeca67143634770357781e2131e7d7dbad9198c4b7d1252d3fe66d7f92cb71c30318159dc759f1cfbbc5e5737cef0c3d3ed55d593effd89aada14d2fde30ed2d8d2d05720fbe259844bc9136259c3125d0e07a3b44dabc5ad746682b0e660de2b3191d4d00481b3963158a7cfb274a6b4e0d3a2d10eb7d39a256b7995eb48b8e612579ed3f1626e255aaf42b5e2dc19bf75dc8e189143474b20f8888f894eabc6455132281bc5d24a707761a529495f720b9a038c44b201d530ddbdf0eee8cac364a433395f8c08d9fb1268107aae1fef79717e74c7d18ba581de4a81eea1bd0024997b0373be1769c7407aae62ea773fd613963ca1d4cad9baea8e59b88b197e32da34d8b508bf62aa33b01a10eb4afa5916b8408b99352bb307df187223fac76cdc29033a933862e0309db9143c599caa0482f92fce3927e3dbfe2ea4e518008f854631579e0bc2785e8b0e917f33c121a0017aa981726cd6de94fc330f2483cb909692e2c2d669d1d8800ac26b07892cfbb7dbb0791a1f4138a177498afeef3a7280352e6c48f9ce66247f62ec6080c7d45a1656ae333dc7aa0fea45f5624c4bb3d927723a2852be7b01e88882412fc420e0fc2e73503eaae62945b6babbb7d3268005c183838e5e9f8b90ef15034b7d99fdd77acd525e6213bcf07607cd862e223d7e661a72fb73c3ae5ac05fc39e726810a0f0824d447455ca9149a414ed9023dd7b372cdb56d117ad9638d4f7b44a69d7bf2a793ebbd84dd1936fbe9e88a66b7ec28e1c5998d41564ffa6066e20a862ffef51bfdecab880c8aa16b517837d72531c6531cde2aae10847626aa1bf3c93e5975e588e0087dfb246f53d8bb199b3ce3da48e64cd623c2dedba464fa90317d8aaef1cc13cc9785bb400cd14854e905c8cd5bef40aafa3096c5da591278385d04e0b5c1c51ea58e2c8e0dd295e6077f546faaaf096fccd9344f66c1b1a4f5b29a777a2c70e2757636680c2d66a70b347b93de9f8795e070c09e42cb99b4791ac12a1f5f75e6f52eff263b8ad92f6435a7c568f5a5b2e77afc8821c3dda391ee652913b19c2a3d5bdf3cc033dd809e46c5982d24cf73a2a0d5008cf06843c1ba9b0ef4407cbd5f5acd448d576e99a2acc5bdb018cc5ad7e35313629ac9b6a732456197f5757539a36f89803b29b52c43aa4a43ab2d6b0a66a7c98c62bd15ed8a03c6c07f0bdd74196de96bd06c17daa37e90ffee34f45e1b75f0f606dd8181ab4e19bc5dfc5b7f3e02b19365e554d02db058b05866c3b8b0b19bb0d9a90ddc142ccc995cbc61aacc0806ad22b1e98d615b69a53a39cfcf3c589d5811ad57aa31bc962f81d36d2fa0530ed1dd7c08383053da025c91b62245fe62405253a42ff0382aa6bcdf8a116091e63990209bc18e88a437f9e6a4b76c26e9ea503394f357ad537459719a7bae8fb08d3fc8506f62af42239641d5c8ca535959d198a1563a3b5b1f14da5c4275f49254a4ab36023d19ff8bd480d6194409cac9bd0fbfc88b0eade2a4c46bc2d84a7813be2734a560957236c86ce8af8f243f41da4a4ae976e56dd29e8bb9841588fbd599c958f3abd434050b557cb826a930a14d4d7f068b87694e834194dc125cbb801bfd30418bc2a19716804ecb71b958fb4c3916b5dccef141c14bcac361a730c2185db5df5aa0f1ddc8ff8c1cc839b79c7448dcb81dba29bb9049e8515b5864854fe872f7169a2960a39a7569abed114b6c2943a39ee65424c0565e3d4c703fac524a7e75db3141bd15e6448d6f2191e8bf38bca1c7042c8b7cd8aa0e23988e3f733fa397e21f0c2698e8ab9a54de2811bf9c33cc44ef924409419f65d31aaf768d8975a96feef201ccc84af562a6a910e94ebd955735dfc01708e0ea8d55927e7d7aa0d5b9d4221d3cc7046f872927d2e1dda849ceab49fece5a2c240a377592619a4004058b0dfb6ff0d86f11bf9eb407432303b2c43fe3b17277bd2cdfa049eb227709948136d120dc04d48baffbd459bc22faff7d8a6554415aee30fa05316e9f662dedcc26aef46619132609fc4f94264abc237f51368d418da75bd45bb621017dd446e8ded80e10d081e3a537c32cc082849c579dbddad7e55f9d3327123189467d37ab1b2ac07e171c5f736438de1f50b6a161df583ed78cbfaa0da8c5e1a391484774e83f05c21562001eb4cb72c29cba43a631085637a865206aabd86cba851f9b6fb07eacc76b329d5bb64c0fbf030f0c5641fbe9f17a02e819181d6d46e73184c2fdb6e9b38e61939891f4aa3cae79badd0dae2491f05e42945fddd5f7d49e743fdaf7b487f1811a01a9dc85754d337647f4b7f95168a643e607f09d40e390974e620749d88a69e18020c8a5e28b941da1badc8381c8fdfb609aecddb898fc86fc5f7a89542a312efef4d27522538465bb1514c6b2b9584bd8591be0c0abb1b3a9a1430c5dfae1d40157ff983c9d39095bc6b46f743cbda3bb816989c00ddf880977568abb33895b92b0b5f9545cc952f96dcc294e7e3720b64338941b11f301bd3c5a4181779caac13f5f669e32baa9367ed7d2bd18c9c344ecac83f8055ffe20f3b54dca4283ceab7cee86532166bba9dd23249116c03e42ae50eb59e485e12a6d9ead89dfb70b653a04382ea366e5b5f4caa599ba8a58bf95bbc1f4ec9f023860908fef7d2585020697940118c3b69c5293c513154baa15ab023cd8037dd7fc04fffdd3b08bf76638ed876b349e93086ff9dbb02d35bd01f2dcb6d0d5cf1ccacb2f6e3e94b64457ee4a52dd6434208368abc6ca7351c4f1e4e0d7e6da4593291c56c983ea689631672bdc6c5d454bc5149645cf55a410a6af8ecfcef5f55f5d273b7da0c20eb34885c45e3b54885c27f24c7e3d057b59cf31b6ea818d7349124e330d0230a006012f3e7ae74844fa48eb96bbe352c5c4c85ffcaa22d9f8595ec9e856324c4bd24aa55596bdea181aeb1d6e07eaaa33e1e1f78e7be02f0b5528604b850955659e20f7a67d90df367225b84e0b73a163065d58f51ec72375c0c243ae2e646f23df3444e839cefcf189c6a2b1eb96d0636046a7edac9bd1f3d812be243849698dabffe0500aa68d9eea196afbc3750888a7daf5169e6954e183c58e08ba7f1dc26da184989ac2de9073e0f6df016f3589b98d00bb8b2146d125034bd0f1db6c4306737b635406f74fe29fb4db62673881354f07d9dada571d7aa08937fa29d23a20f256d584683a1ec40c6907aff02e6404f0547b9c8740697382146b6311c90add4c6ea2994e2970eb26b084e07ed3ad15e40ceefd792474f4890894e643a2efdc7256cb69143d37ed64f045657acec9b7d9fa71c7d309e8e0cbedbfe2a684864a34db3e0c11d1542e8830b61a283d9fecc67532c0feaa3e8c64628eb5ad0190e991a9454a26999788eb138f5d9c17c60fe501d4cddccd8dfe1c5a971920ff11200788e545b1b4a8e6d7da8c8206d500eae267e90f918e21cf3ee6de2cf6b3af14f5d640d3ae1abe2e0579a7571715e1403e880815c015fd7d1f051de85e1cfec81dfce48e34bcc88f60e5b20ea38a7d9d49c03f1009fb1a848e999362ac661e44bcf0a46aed34c436d40b9d210f85aa54f1efe52c498d968e9e00887ee667dd61dedff52c1fbf3ad7e36166a1b25eb8385428a566e4fac15789fb5db4c8000331f82be13816b7879b7f540c377e4d0439d33af76def46d3d9f5c183217db86ae00ec66aeb69d064052be88054476b176f4ba08e26fdda937975dc2ae6aa937ac4c5c5967b1dedab8146f57e1cd64fceb6c24e18f9e6251b8f7decc42705b48458256d1e64a233d6e7bdd8f2b957bb8fda1cc4359d8bf4fe870dba6fc3ea59b0b8ba50bf72a53e7b0a23a9ca37b947b64e0c996a2cdce700995da9cb683e8a54b13f139c95c58b58622f1673217e36b80e076170c642ad60811dc0364898010e5c1a1959a4145efe6b5e0cbaf773d4f1368e4d5fbcbdee4e21c5412b87469bbc654ce7a6e4437aacf6538e841ab99d2f8da435002586ccdcfcc7dc57be03a4c16ccc2b55a3eef065be8bfd28cbe2bda09584da2ab940704b08c54e7a805683bd3cb080de2ee623a16efb9bcb0890f9a48afecc247f4a1941d35cffb7059d1318228141bf648ab7f9ca29afcba3288d82b48240e52f251721353e6f757036071730e3de08164fc698764ab4b3429e82dcd8edb53e41d7ab5fd9cc3b64146086ddbf6ef583fe9e1800c0eb667fe3fe0b96660c62dbd9badf30e330c8a657d5b707f66890a7b2ea25525d154e266ff226a472dc7d7667eaaaa5d3553196c1484a4103518177e8e9b5202149c845026bac266ddec1c9fc231901cac19002a9513fa042fc089a6fb422e0df6677d2fed5cb8ddd547720f58af8e24540b3063e5dd98c962bb7852756572947429bac47e99f595cfbd335fc1dbd14197e5374130f93ad7a8c1997efb90b872e7e2847500566192b8f9f1e7a2c722ffe85ac694a972e30bfe194e5818f2c7e5cdb2b44684b52381fad8911e26ff2f375d0beccc911b1b8b6f357f3afe751e50c5b55690a56401766081d8d4465613e3ea4528561d2155e7439fd0c0d367a251d36e5db8f5faefa6cd1a12ef3b710b02ff1e2afc107f6e838f62a15d2b7b7f9b849d8ae984364d924bdbad9d88f09b3041e57eb874c6a649862fe669133000db70958fa846846c5af99e5f67024381a2811641602650fa4a1e3373646885b675e9fa6163926386d8735db2555f85a2d6b52f186e4e3a8969531f3430b0be7c056f89d120b0d1531090a51fc621a22389b5b8f8447508b45c46a8aa2fc50447470c6e1d8278609a91b2b227736041cef3d42f7ad5de1ead5118ef1689aca3bdfd8610b54bac0b3d153a7e5d8355fade7f7876690ccfef68906732a6e285761a693508b7e55f8b7015029c780c993019c6e09b5651f86fa1ef21f762608eeb132433e19963ce6d92ee33cc6b1321445f35d30e4159bdce8618c359cdd587f5b0438717653782ac3342883fd9caa23addb0cb4936c82620578d38d89e14d26ae7b22f7e2c60c78d1e447abfe70e0cc64b43ddc7427621e39af84086a4b0a8f94ae234583bec8e744876586209833c065bb38f44d7a6df9996c6dc52dbadf7bcb7de64a142cdf4e39460e4d7d062d53ce0cd98160699112de0ae53220c3b04c77893c37c11826c74ce50057b7a8044504dc980e03aff81d876a3af2e2f3c9eacf9eb98be82d758a115d4a96430ee5c7fe69c68d9269a1cce7accf1bdf785a2d9b44d8639446e15a0a9470432751b2f5737bf4e63400352bb71331f2751b0e34b3508eb554831fb0a653a507ad9c1a2d075f9de557f2bc424d263cc6a1080c96f2b5fddb41a0b15c72b175f3b3ef9465b1a3218cd11773b3751ff52bbb6943f5bcf4c480d7532403aa1cf38ef31491144c4cbad09acc3165206974bb74f6d789883dadecf75a07fb46e89b63d82ca5f39607ece4e92970aabab4c695789991adfb7130d72f441163945b7f705904989bc2b39a02c74de90cad0ba5b41bde61437fdbbdf4470d8e93500108d026728c263571fd8d358e5d4d9f60d08bf16f55799fde3339271fa2abd9fc7360e2e9889de9beb9c474fcaa6d43789e74fd523e66156942df15002769a7830b0ff6c19f4282a7e1698bf448f75d232527e423e38c412670b23d7f30a2bf7ac7d2e9fd088b4a061dc5e250fb2aad5516ea480e7f04a5cd3e1fa3a320d72677174a13706913b9a778f874838842e104b7f79b9f6e45d791dccfb4dd1c9a66a70e01f44379393a54221241978848773ea701646160116dd86f9fd43ed12143128485a2fa97e2aa238885aec74bb781e0a9c694f2ba0de947918fc8775d4afbb5b97b9b57dfbd0afbec28e4dc2067664b899b8ffe8fb6890f1d0ba92316cd2bfcae2853db5da3028d1c8f3ad56bf420ec9c73ee5ffe46ad9920011a6c5f870986a96615f49d9968050ddc8baf2ddf36c8d581002a8dda1767b741f0c2841e031760d16e834c810d8b35f9c48e50cb45134f1fd78106e9ef7bfe8c76a9ee36795e9c7087c42aad6275238dc11267782c8f673f56c146b0a2eae504cf6a26c71b910e095ee539f902509f3c4276d8b507aadd8fc24d1cb00d1d0c1a48a74cbbfe94f2efb630424d46fe0303251a2a25df8a5211dbf46b02c20acad3479fbe114079eb3ecfc931aba521eb8c769af8271a85c0b0c7d10f2f3a0180ca481e1f25e748f5ca0b512d3712bc718834feb1cad954a32325516c34d9bf4c112c1ec30d61079b32a0422e95b87d9aeba6f73c640f5611b7069fb563b439d574871e9f7fb31c0208816c791ea55f71f9c50b2afc86be30ab29125bd9e288e2e38003169536301597cf5d5e0e0e09e4d865092aff1d1d55ccf9bbc93279d589dc7c72ae3fee4143e1c1088c3c4bd390316c23644b756630ca4fd656e2b4d609f31beeb68bbccc89f703d7c5a9c4464b2aa2f957eb9cb3c63696f21e1536a588c816b9557286571de812ef20c5d7376eb1b4c1de502c203ffdbc5e32b66ff73c22b9a11b46ef0bf4524832db729f4f8dbd2e29c8013c89722073e76e6d211f8175e40803b121ec0ae72c5d7f357650fec5ab45f5655208228dcf73143e714f29c842a211697509bca70ef404256c71f38f32d5ee820c960f172eaf67e8d429b9e0a246e85ff0cd1df8d0869dcdec96cb45fa4f1cf4b9267508f7e723ba482591144d5036a949b0c34a80884a09634dd129f1f248cd63cdda1e4f236692aee096ec6ebb35c72195c268b655ba521042805b80e7b59d0f43db8cc19825bead4e02c163ba4abb5d19d07e677373c46a9ddbf5458422b2c28cebc1542c2952780070b5600c2a9ff9ef9039e6e21fc06bf31eed29bdf3e04eb57d5c582c8110cb2c8195a4387b38f860c32929e059580f3b38d95a71f70bd8b38bb4fe266459886e66c84ceae03dc9bc9137546d09bd3cf9d079a6709f59483b3d42155406a542e3602361d433d4122cb1f79cdbdd451eda847a1f6248eef75edded34e9a18f34d19cafece247d09a53aeb396239a8a94cd86e0d02e00fcd2e384664bff8c21a0e531194c8ed57304e2e1adea571aad0503eb2962e0953c56eaa0f38a1044e33c68b5fe197521ac4f0c497287691a03d11541aa65ba7a5b78bc8877ad1ce741368fe0b523468aa001964b594457958a2d4321ec25c4ee223bbf11e5753bbb31ec3c27138a9c66e26f43d7ea0dd74c9177102e76d8ae3bd4556e04bbed34e131f49bf93d558bd5b797caa8fa2f4e3950d2699c09cd9f91f56e685cff44d1b710fa6daf68291e2105ac529f08c9864aa179f00f7a785b27504f95714e068ac43fc20b4fce1f6b17552b1f44ea6fcb5c6407699d7f6684a6aacabd1acfe90b88e9e3c7ceb0f2e32498348422ad746f9ea939d0cff8e32610265b9bdd3baf5769db4cda5db69279f6243eddea1d6a0c269ae2d886a4e9f6385055752250fe40def2f6f5176171686e55c39783d3db21d77671ea753b0c55e7d0d2d3a0aa797f5ed56cec8608f67af1034f710743f069af532959f7acb548e3db325ca4a4ec97399dea2f7507ccf0ba058f77211e1f30d5b07133c3bea70bba2d51713fdd59f08c9eef391a2edf70a22d879a161bda8df7757df2e7f684e4a8a5aaf9c003a61bf124178bb30041f7759aa9348baf3e38fa7e371ea6ee6d2a6f8419297555001024212e7416b3a2fc31b03026750cda7b4a9d79c8063864ccb95eb74ca7372813c2ad8bd9f19d124c0b96b5a31fbe9c22ff077b8ab7c665b7ce2c46564242c273a1a535ec9a470e482ea0753f2c6fc0b62353074945f00b38ecb02732bcb01d2b36527a8271fc26d867edf4acf868107dc89593d36e996f9625bbc7e7b7d999cbb4dfa406901403c945f72c555d99bce45ecd4fc4dcc514b4476b06ecf17ed09922622730bf344d3b8109ba8160f109d9603d30768ffdf481270dc63ba096d4c4fbf27406bcea40faf014704e077ca27d54a84cdcd41c9f48903333658e05d3c4c005650266cf8c6af7ae04af0134609ab82e9e3cf18331f9d60b59770ac11aab2968de0f8a988dbd440b13dfdf8ef45df023a9aaecf5aadbf5c5d63f7489a5871fb6db11defb9ba4cf590a1f66d0d3c99dad5435d56f43584cbb16a8b07c670fcaf6468cb3737f8c4db28ee4f315708dcdf622b6e83a198eb43c16db0265a132cb76ea22423b87f78486ef74024220de3128ad1426779ddf6416ef9418b85488bd0a405492ba8113117c51c941f1d69472f29d76156654ec9b8a1fe2b29f84e3eed245f3621bffbbe71049da58f67358f9e87850a05c981c8b913717a79b648f8b6356a3b221ffca9443a6a3cb2e28fa2d48862e43c61c89833f05d6222b6087b524fa520146b0932bfaf49cf3454948a41a5747fb0f1e68e1ffd6abb13a8101b10f2051fb82cb7cb9e83108e8c0a6f9178127b0d557c2178071ea58954f4e0999a97799d59c9dc8d52d913481e40b4251c2c4494dea275a974ee2ec1000a63768973a452f3149ed7d16641a65036b0e6ee732bea0511f30b596d6787e671aa9501020b6ecc400c6947ec59a47ee50f58d190d22843fed8d015816549ffbb636cfe6487e18f6444d233e14a429ec55d7384c9d6913a5b189722054f44ba1d9848f7599bc4a66db62acb08575d97c5962b85bdae38e6e3b71676df43251fe5a1bcdb47544acd097fcef591c43fd2c791e812311bd12baf457d816db5b59f0269dc3d625f88bdec505f504de55683ceda6b80c74fc1b17e6580d1d3e7b97c1aea8698a3a69f9ac90d087d8c92c754de9ce76b9ff60d018fd21863d785d6c67cab70dcc6f8b9aa9e10c4ed8e2c2d70ab90db91e77587f6738138f79d183bdafc0f50213c1e8a18b5654460ed73b2ab7dc630b89737ac723bb12a230a4056affe86ac8a1440e6530f599395da1d736607507ce72f4b31d4089addd86fd2ebe8d362a45aacec4085d854958a6423271b211a6e6aa483e070a86e46d299c6b514e5dd46140d148a44c780bfefbba1ea5493863288f947a63bde8b0a35dbc577e0c11145248d9e9530e4f1aa87022e246ad6074bd04617414cbd11664cb0ece8d729138f09728065c58d2d5af0948a9674a92b7f64fc25d76c5a1fe2d516ef57e650dd112b214d1c06cb8b850676afc8236f93f0b6776cf0feefd1a0572ecfb4c0d2212777c917b9727d27bd25267b6229aef1b22fdcb6b95caac1e6a0d1ed53f1fa5e0f98fa12e085a9d6dea1e0889d71c0b4a28f1a04724a5834e2b2ba18fffe6a97bdcc59b5f2d6c8a1ca8903f75fb40a2043b647e83863c6adfd788ae6bdaa1b293288a8131ac3e85c93fc8d9c234fbe22f7bb27772f1677515141eb723e42f421fad693c3cf59599e348c93565429afe34de6625bdf37c1439acfc73d46c97b651ba0fa70bf578f8c43e538fa90dec76959542f9c436addb32d473e46ac5660d7e44a0eb4e971df2405df9eb9d91608ccdceaa8fb92f055f09d46ce3a8f60877455feefc5f53dd264b555a40255a97a4b4b306c8f97ff8ad0acc9cc9710e00d14297bf90dc7cfe80073766a55ee67bad50c81ab1c57bd496dac63ea8fde801d9da4f64ccb254457a7880deba0fc28a95cd652b72d04939c98081a2734e194d35baff0b758157db87bbf7ee9ed6e76560052854eacfbbbdebbb4861ec17f32cc19f1f397c6ead82c797d6854161e9e1e97f85627bb3fb851eda441495a93a6244e5b17d141822331c857e176b00ca01c53305f626ed466042b05aaba61d9f629ee42588eb4f853d3e841fc404ecf4090fba9123930080835586a049e59ff6b79e192220d36eed7e2d40cb5bc993b9b42dd0b41f157438da9000378009b4795990c06a8f60b488344c68ab4084b896941bb1748e1f0c90fe08f20e7ba21389853274ab13f938e36af6d263446437db69e7aac2341a5e62a51eaa012fb2390aa4b5912ff92ec84289d0116d12ebc3edba31078008aa1085bd3dd8cf06fb63428678411862027035614415a26d2d00c00d9185c12b6e2f2580ef2fae1b1442bc679acaa30087b3b3f38afec6016d56bfb03f4d889de46495275e6fc49fb824e184e64c5b46dff944dca1d9b9e90db2c02294fed9c62024851ce46d6315d4911f5db589dbc61c71a2bbada093e94f3a756d76af5493b8fbe0e5fcdd4690901cbd8ad03230d2a9693565a42cc2a3f4d2c5aec14e3b5c990a55e6707ec1eab454cf9afb056906071592f130a7f21cde8cca441f329ac899b51761e1ff7f9f8cc0cc0250ee0ed311f7d4ea3879425f783fc6d0bfdf87b59ef3b65320a0574d74d79bbd3840c9e3e85eed8922640aaded31052988fa369c052eedce82837fda2c6d0dc71f089b7f1ca0c9c5105cebbfd3725b06e383f0a831fe50d57d1e8535b1960d97e4d910151e8e781473bd2aa6137cdc9d5cb5b5b61960baae2a1c3d5039776b3649248a5624e11495ef5ed71f242244d707e54360c831b6813cbf9a82796d16b22cd7538233c06e6da90ccb3917b53f3a7ade16180cd449d78a3ee180ae6aff7a6836bb59694ecd294b7b2db24f07f7cf24dc69dd2195c4f65131be243a77721ff3a4ae53af160ab7e8a585b404781a2e31ee965fb076b73531bb50ee0070cbbe02483596635ebbf992be7a8da6dac71a8a9664464675b5777883e4496ec90a770b9a7f02e15384bfea3cb2b18bde04eb594d6d7e6f9d9f5b268fec3bf3116394ccc5683d9f53737e9cd1e55e7b709a4b507f4f09d0ddd6675fadab2c2edc10562686cb6a4ada027db87aa6d9ed6ef9de0c1d5a9f7d1847c523bdb9d96ad16a4e0855d6a2e3e7879ce2726934fcb269ff63b3f6b3ac268bd0e7971bdef4f5ed44ec2919f2b027ad18cb4cf2dd44f708f05dbb6c5296346de9ff2da9e1fe2de051d1891346a318188a65066658b39a8d3e5011a09b4b705662908ed9d21a35cfa43149de9dbb7a6ad4803c971c1b8e9d7236e2162ffc2ae46de2681da8a6e93ab94a071e26382f94d333a66ac8265bb60e60495bd2a2508eb7083a511a96786cd552da8e45ea1fb90e4d0aa973e91091a03c960787c9ba31b73b1ae5d42dec66f676ad0c0068782a156be156ee609615ad666e3ec6f39bb0abafc037d63ff8a02007ec0856e4da8e94709d1a7de348f409da171a483e24cfd5bfbfb701c5c99a383ae735baad4f143723137d7b05853ac47a4ddcb08153c349753585732ef380c44423e0bc782123cc892a2eb5e156cd598ea86fed49280c0684ab888165b0f52d341cf37b9ebeebcd4bf1d28930772e969e47532cb83f977ebe48cafd0e596e950577d4865fff9041d4696cd4d8c96d45ccd5f254b75af7ed05a13aa825c1497fba42cebfc3489c942dd8414306636d3e28b853cd26833c0fe225873f5292a4d824ec50016ae81a50fda6e923ef01f8c4e83511f595ca3a347c15f88637ae688dbf82177e38fe3a0a6618f98bdea29506eaf2d4c297067eafece273548d2dbf95dcba88fed8dbddc0300b768585cf0fa2663d1376470ceb2da1eeccd51ebe1d29aa7da66f3bb6e2e6658c6451f71f2f7b8a721cd1c405ef73b71780391223174d18448d1327a48667ee1d4f051b8292b61683937089e45b30553b90e83b29827ff31ecda5b0c5c1a5e0a96dfe3985718d4db27c3eeb97661d63bae7d9f14e0eaf2b1e4b2bf665bd4674e93484a383a1c5416199183e9115d7f97cf45fbc5ac2ce1585038cd777e8f067912a055f457fd08cbc8f6508ea397f361d03f6d7dac7695f4cc4a671c663478347ae65d959863599f7cd552f55921eb33ff5a813562011efc5968d535276885318812f9f53971a4cd02733cf155e4ce74564d9e938e11d08d9c3ea18458c60b5d97c002ec7cfaf86aec5087b5cbb50dc1ab64491ba3a845461072a83fb9a13607f53ba9198f9a69bcd90d7ce326d2fc852a28c2d70e87e33b479afc60a6ac6d260f6935010fc124eb1b6b21620687a9a44eadcb8621c68b7bf16ebae586d765e7075e305ee6a80c2f2f5a6465fa2aedaaf56b911a8276f02ee3038a23c5b09fe9a58558369c61befd26402c0a5021352eb6baa09f79ee39ea71e929bdd8c5ea2a5072df7f8f69fb2505d1994eb87c2173f4f2f88dd1ea50b0fd0075fffbce16679e8ab71fb7ab626842b1185dc8ef912e21a1785b152f2da80fb11e0fa39d867d3136a4354fa0e88764318e4d8191a73947504d980a9073ba300c1c9a77fbf5ab6efd1c335f28663631e7d622633f1e654f33ccc8bcfb22d292b5b65a2e13bfebaad8e92a6c421d891c090e231e2ab4ce9f1f11b09092f958a7546dac5b56a9870ce177ebf54798a737d04f16b1be3248c073eb8bc9dbf8a8ccc5640b89725a57837421abbf43e9332a072205f6035f95a961af6788d5a490c73ccec5a81535685d57350a3f1c651706cfb72a9c2d779e3780d76d9c0fe70256989351c223af6f8328791d642f5b4e419fa6dafb0c2f57caf8dc1679f508e7d35a320175174e26d0c68cd1530c438e71122f695a6a71c516c290c4fefd185dfcd605a6a2eda0b1841db169eeb72e6f0d02cd7e53c7d367f3dd8daa1105adef5cc5a4204697c534cfaa304ab8f780149d449d90500f1c3feecb4ad492a0d6981918a6a50dd481ee4200fa56adeb5f2df954874f8e840a9085a3b5452b7311610eb7e3bf989f0be537aeb97bab1fdafe8e06c3e92548b4629902d5ed24a35b065f8ebc932fc821a9e11400f280779147fc136e59bf50779f20883d68a748146f58b5813cca921ffe91175955f2496b5e97eb1be17ac1f7bfbc8219a4a8090ec334c467fae1d324916edc2da64dfdf5b429c95a7d1e23830a34921c2a0498486c07aef4b8a8340a5ef234f74589a47ee756fa51256b42743ad7f8629966afbfae090d05780eb88c0b283c582a3025712ac1c4acf1d0a548e88a6c5b1fad62877d46ecaf6c45b61f400b2d8674bf1ba392bba0fde609c2e087b39a3d5c80f0dcae50767e0172469f6ff8d3c18fb155cd7535d39627aed200984f943be1236196a9dec8ffd0ae1e6ca51bc55c9339b2f592a8e5b7b7058814b332a6f22f1cc13734696bb2acc52a811c2911a02be41de92c9926332001ed564e7300438211d34882c9abe4ca2035571340ae3d60181ad52de97c56daab0919e062377a86d5a467b81b3626cd5b9320c9d99bcbc0e1353f190d0a30a7339c8b6f921cf2e2a88eec93d6dfdc7458ed2ad382a2b009c522a211c9fd3ae7ae9d238f8b7070002e94d7613a6a3f7919e35d7327b068d1afe0a39acda71b669999ff637ad61171367e851ce1c62fe67a1182cc0841672e6170e12536cf54f66a71158ece2aa3104e8b326c5cb91b3a5aad6a22aca3840ae38733e9b14777ef24f6b04941a63d9d267195568533ecc2d220b5f7c79ee83a075951a35a15db26de2fa20d3169c7584983a281982376dbab8bef48e9a6cd664f8ce6c29755571bd736da58c0fac072f94f5467900d0d0b33038068ac0d6aedf8ed1d907b1542c89b3f49107800bd038e305912de9fcc0d45cc322c690b18571b7924933a55fe9c56f033aecc5e1b018577e60a77f5f9edcf5fbb647f9752ebd63730f8fcaf6424121528764842d833f692d2a0d866cb35890cba4f04ae0aacd1fe3adcf8109826b4f88a1a64752e370696ccdacfa6dd459ad7a9d7d1ffd3152dad84bba60db0ed095b1f7696f2c89b4292ed5b9f358fa5d051387d632d71dda19e8e59d4269a25a6935b04a102c50c4680c375450e4f4f8a141f5f5598742d5f66c962e3ee883125df652434ad0e9a179f2fb4d4cabf0b891599ad72794f9268609ba45275f196f23a8b2efd07acdede0b57b9d3157149a9f08d9c35582b14f011c10d241a5c0578d3d84310cc446068fe6b4c2238cf4a83387c9b82acd1b7e943bbb160d0fa1298f0731fbc5dfbb01d93fa0208b10db402be7b6dd3501473645eb576d8f4e176b4d6686b6618a6a6ab6e9217a9eb13096a2a28d4c9c1c5f7b2fb7222f0c3cd8fd4d1e0fd5636ad40375b1fa12d994dc018e1a671eb65b353944236a09d088f59bc8ee0f5c7b744786beb493291ce81059bdb5fbc6499b8873df2a722ef7bb99bf8552cf684066f778da707137817629b2f5f32e4cba7e408dc196bd90c9d18b2c86fe65d95f6d40270b7126d1f7b9349b1136418931527c0838cfa1846ef6089e2ecbdb436c92ef4ed89ed674562929668a78dfdd88af7d6979cc0fb33e02cb99c299970e19c13c076b72ccb8996897288c9f23516262b7a6cc955eb0d729a1b15638418c7a019dde5ae4c3b93340b4c047483c03c551ec0bde0b7860185039aa76901ddc12b392e9ed2fa45fa66b81704efd0094c76c4b05432d151a643c1ecd8693502408ccfe6bb5fb46775ff3bc2a897bc279678e6a997ca3943312e6a72676bd87bc2a8ebe1428a330209f8f604212e8c0e3124d9e97db04de0f917a0d17e23e1f09d6c73716caf3880295560909eedc05186f4ce6ebf0a476cb5f7c6bb2a307e0299107601cf6b76da811a62b1ad5ec928e31ae2a24b4c0e01670e772d299ee0a6a8764a6e927e1a7430d9fc318f05d32af42ac1071b59e4572bf3649bb992735604641394eeddc99341997833e5023ae0164bbb662e8d509440da02bcc3f8db7ca8ffc301284ac94c1de9eeeff7ab91c325ae7cdb7a64ddcad73acd5fe6ae6bdb003b493c05bff6f38f89458375443a644a2aa3324ec80d60fa4820a4b0cca04c3ba45e5fabd93414b635e7de108ec1eaeeae1691e08d51e36c36ca3fc1dfb1cc8f618f81b9b695e21d6995df822b858b000ac9a315f893c669f8d811284994612ee1aec38e1e8d0a5e4f91f10d3557c6d3ec9f376e15902622f3a3c645da770f0dbb5785667fce81666e2c4e1036b12d5cd4d8c34e735a67ae74f95a88df69c538c61f86517ee6cc63068e5dce1c226064b67cb84098ea3b5d1bac33e4a0bffd3a7bef0f36a2f8170f9c95a8be840762e7c5d98e47b3753ef273597f9a21f682df6bc0ec91ad2313946055ac3b6d7c44fdabbbb680446fdfe6634a5e0d868b31bcf52365ebdc46aeeae4e23f5b44d37623f765ce8321a5b8986d189f65134ce5147feba69f2f103a7aefad56f1c8283a5f1996b231bd0b444b93f4f3e48d5b153b91b84334960824cabbc21f3ece8c4c22aad51078c1bffb566357eff3abf876192af76f8faec7995e414bbbaf9419ec83894825f0e89cbcac707a1ea438f956bd47f2ab530d1a8933da14435a8ec4704a2a1365ffeb85f4a005fee77ae6e50773c88727e9546e49c27854919ff9963c613e379907af58af9f96ddb6a9357a3e4a60d78664db471025701a31924a91a3cb3b87cb04cb768617a6e571c7e9087fda803f05483a00f454b4b0b2e80c486ddc1a80a9ff6452b37e7c87e6d784b33b08ef5b92518f95b67f462d75646fc07b3c7d5ac1db2b8ac0924fa6bc0215fb9d75bec11d52c2bbd03c9bf7916c3f1d03952165af992620b7965c870e999f6a8319d1536bd7c309d6749db1d9b1c0073c7d6d580ab354388e3e07c384d09dbe2acea80e05fd1c135f066cbba65b6c8112fb44361b18a0ebfbdeb6af312e68c5f55d9164bbd074d4c1631d4859dd5ff4a9fbbbd6399599416b6bee5355a60afa4067e76ee2022fb7af0584e48b52d07474ddff8a51a40fce014e52631328bdca13ef567acbe41b0f887f6a4789b0fa5cab439b1b46ef187605677fd68e3b97f4ebbcbcc8187d321a77a9420ec5d9c69fcfddb6bf9849a8a27ef2b15ef914f4f0e33480d3b2f45e303e77e79e52f982a6c76b45eed3657fa6e977182e3b21285b6ad6b8fa63eb71e738b2d2f343388eea49567ea9d8c50b58c77aca2a073a19c6d1f57ff18f7d2331101e1b8c2a87cc7ea6de18a9ab3c21d78ac7bbc74a87328a1adbdb8ea9828a1efd5e87265621b96474435845a41c00803f288e5ab371fd8b965f1ccee487c0729bbed83f292246a4020662dc95751e6f3ae011d095f5fa2c3f93ca7f2e03137f2aa916ffcdf8d9e0c5f456cff2ff40d221f975d4eefe4c8ec50cfba6be7468e6618682b6b03a222b089c9148a029a377142f1d774bcb90867306474e9cf7d26e9767924b9dfbe0a870737fcfbc98f86af4bd3c86a0c4069f7a78af28f619ad5bad566386d73e3fd2b5fbddaa30f0b116a9e75c9531587a9619d44f1c61a4e95c2a552cf6ec1b825a1eab7873f8c6ab95fd072226702cbd4bd4e1e8b6881a42353c787d6e5e26a013b1ba2cb32c379fcef174632ac3a3ad2f389480c61c3dfe36fd98888af416f17e04521a9866ba4662d8ea1284f34dc0fb3ee4418c2a8823f4c96e84ff7463f81f817004010e89b41da34f771f3da1f792bad901300128a524ae1c83ee6e1ea5ec4943c5ecd5204a56eb75da84ea175681d29ce173ee37512a19cd0e83a51fec73caa97ef0aaeba9083f7f0b2e7406c96372d22b7a9805a0702036935a38d23bf1c2e523ff81f45adb63c55a16a55cd65538171c9db038c69e995c9867640c3cbf9c6a38f80cc4b2231ccb27b6fdf1590a2b1ed8c0af6aa2ed3af420de37d31bc0082f46f9747df60f79f99243b32f05533849ccc7ec0d996284a07e5b018356df8bf43a7226adb6302d7ee4f8e54f69f7f9225ebe3483804437d3dd694d8d666e79681e9b9f0ecb62db1a5b368ae997d24f0199dd5337e3a76f6b7e9582e36d9af5c8e5bcce7f6c94a1f5c9a4d612b39c7bcd74740dfdd9071783a3614aa617e80de0e6daab9a27d41c711194d3b5382247158a3784f118fb743333ddf3d8ba0d593918061e60fe64c22f18e107827f5ea47d673f82731c64ecb292fa09e8fd1cb091b11255b2f7421c40e71d5a2e682fb781f68c0c550f386428e9f0033c72a7c813521459d63167f71001a92a2849cb679ad8c86eee8fde3260d064211ecfe234a4a1e7ed16d693f74e8af293b1cf0cfad073386df4117dde9526ad2074dc2a830a66a9eebf1ba8cd2ae8fd39fb9f73f7d13481279b99930ace493e1e12e5847f45c8a366cd498b3d953b1847084bdff24a30b3faa33bfb9982b8450d6759a51425804044cd5a98007efec0fd3f40952b66ca6b231460235bc7c92d089deb9c12c8af48b0d42dd3ff6091550a222ec1206e08045f4f3148c2558204924c4b3c4857770cd098390a5ec6af42add2b1064ba11f1bd79a86c1bd3b606029a0fdea2ea7f7f47dfbe4ead3a52c2bfcd23be0a1aa0814c675c289c4f5c5f2ea81de8c0f24b828546aaa90ac3fee923d730f611c1344b3952e9a871c0dccea72938cf4747135850737241f6bde5b98cb017cecccadab7f04d334220736fdf10359de18779824453a3f7eeef3d5e90f5d8ff2d97d61d8117176b1120a0b28d34fb5afb457142f17ace54d37a3bf59629541e3d544c10533f24c83153444b037992c96d26c15634d879d6f78477f185af41d5b210512a7e8b5b57ea0eb3206da04f000f13d1cb4562f108be1ee9d407fe1dbb99d52ee4d1eaf387eecbe9336170fe38942a3201242d87887b3766d5380f6f4cd0b5b3374bc0d70db84067b9a28caba22ba9f5f07696fa4c496709d799b9a3a7a25f43c5d3127b4b3f264b0f63ff1a4b52c81a46833a088e98c2f3c62d991d3a255aea9acbdecf9774b48c3a8a7a5c72e0b850bc886261c165d689a696b5e875a98846e47c2c92705e578ea59f7fd99c85da23734a6c5fa65a5e48b70cd050ce4f614c9bf79a04ad40f983ce6eccbdae7ab2fbdc4265b2cee74d5ee376c49cc7af0824a2775a22adbfc53fd96e141dc413d5346d523b878e070cb1bc5d44b689193d50555c0adadd3914460bdffe32e23ab2a3b3e3e4a955f6a138dd646b370f6521ad03307defc19dc3a1862aa8c62428cff255d4ccd65ebef5b63940c3f0f9b315dc1324bdd4a2576dee6396d17e9fe651afee4698a27ff75d095daa07d3b1a555d640a84fee668afd0b07badc7e400f285f98f04f6a44dc2b9e304c28cb6a4adb9a9667246675ac78054d4f85791d3c89172f8b7ef3f8d84bcaca8eb87ccce2c91fbed5f36b4d6bbed2d14eb2269ac49cb384beb9b04c57b0766d093481882094bbdb0581d9915ca509dc6bdfdb6d6535daf2e4f2a629e39f9cd5ca06a3601909bb91093eccf2cc0f1342bd67fe2b0859e9b0b2bb2696342d5b10d2908a98d57e771e99ef5bb368f115dd137baee1fd1baaecff766539ad313bf9ce51faa4a42149521053822c4c8aa409342ef4bd9c2512fc482847a4c1f404806a6e95f528a620da5a2c7165753091dba28fcc2a3c1c018d427b27525c8a345510a2287a7225e227a919eb82a431262dc92b43788ff3d9ffbbc88c9af3dc10d33edd9719d6daff8b78a648a3162740653079153d24e3e54b99abb616e062dc4c03f875c40fb977b4e9d28d4ad85bcc632c06b2394dba17cd30aa3d8db5bbca863836c89f8046cc4aa5626c479ee5a7a739d50df0429ff6befa2eff75a26c44e99770448f5288570d244bce18db5486e128c99ed42db55ca2a6d234a485b0c74be95bba724494b827d17ec7f39c1fbd18a3211f3aab2e0914ceec66e4c863297ff71b32a5cfc24366994486e988769b3bb9925d00cfae17835e61e661a6ccba20460dc4c8b100cb0f21a196524881999aba96e8fcb814ca4d618ecf6238a8dc3f1b16a1d52eca099537251251f68a9b900e901bdd7bf3c6977e33e5c33438006291afbc1278de4a9a45613a3f84bad4f628e03fbf97d539313b2b3abb89dfd3926e5bc1caa7240e3d9a6aec45e9d8234f0457f1814aaa6357be17f1471552c4f98606d532aef51decdaf688cccfb460f791a45eb23d0fc714c087605b93e04c2623755a2f72b94d2e6f4b62bcd17e0e95eb68fb6a7064f9be53340f54926ff6cc86ea0e0a3a2f1024f70f9ef65bacd2646cb8b5dc17c76bc63d78dac969f518ad9bd0c137290772930d1b3f3e4f80c9cce539d08ad0be334b40144054202643110434425ae868144aaa85772cde5781802d3ca58580688efdb754836569b8ccb8866ff51a32d0524e51c57dc9ddcf4e6399960ea7cedd0330ff51ae3cce0c3224c16cd73f194b94d7ee893673553ad1333b5d8d44ff2d00bef55a45fd8adad7196a0631390555968b035ac1a04f003d067bb4a207284751af19c65d0d0c5a113d55afa4b2ead623c4ab198d88c6ceccdb46aa0837fb0999e9bec624fbb0e400f5cc5b8aae66665bafc4e361ee5d929cd853a6976497b646f5468cc4396b0fa3abd8c6d8974c6a497c44a45877a35fff81847bd97b2383e973b4559079381ad733b4d173757bc3bb26917a68e04869826d35a241e3d25437390f6bc0f81d02952b4db945483f340f1c021a23b1a3c020ad854514fe87d6a6f4a9553d8ca4d8c1658d4f435ce47c5b3ef23ed6b7d3d1238a0756771e9ebbd09b9a7510434f0d9b28e3d56fe07213764967aeeca8f8bf53eb6935d0b13e4369f5ab4de07f46202f41b178fcb36d91dedd8ba474f7d0f8ba77c891baa0b5d32fa576847d5e22924f158811eaf4c36ff3d48ca88441c160944f19d7c7c228639b24505fab2a70fe238ba49ebfa0988588f1db2521b2bd1ccb70c3fa3c5669b2de24445169f41656996d80cab9a55f146fe22644c4c5408c4d7b22bf4f8a799a6bf975a04690d57fd1b945006e7e549217fb4aa8e3ec340875fe68e0bb811cc6be0b3797729121cffec174d655a0db26cdbb8922f069b8b924cd835e7681f754d560a34f151cf8f417344f21b6d02a7860e0a9f238892425cbc5b07a06e503d93008b30e5901403d98ae75972abff8e201285ba4b9749a452410e3c608db2feb6cd326712bc07db7ef021b84430f98269762542bf809029a0aeade8aea15eb79363f81c75b8290c3f4447bab452361f2c67142b29a568fe39d5b01194aeaf877ec653b6e79cf31d09c6f391ed1e5e8075c1b5e9cca0c4ff00764831d7f8461ff848eb70f40c5561c3c89692188076e1d06e27c4454496df8403e9effb88683ce60716343b724fc21712aa4cf0d980f2b759f9ba77d16e64a0ba8ee1ee42a357b7f1d94d94de4808799a5e2a4786d675119c375237cd4ab46101d52e36b92c0039f3bebe1b51dfda3b500f520d5b87b0689a014b1159a82e965f2d3a63c9396786956b116641a53b97a36be30018cdb43db77fd56452adc707b7122dfa2a9591b3efc4a71a68c2b32f3a3a163e5202b2f8688c97998b2391ee412a363e7fa5b585de3c4e2a71178eade608b6931972ee9e2fa875330b2f01f4d89bcb5ef35fd657bcdf24ed2ba03592dd5353e2564dd61ad4a90f1d21ffa946ced422d1b6bd654492db4e228d7ef983831b63c2972b72381fb8e39876b59dbc3af9b0d40ee7f724b17b2092de78887ee392f9d6356deb4c10ca850458bbe26e04d22495afd4983b92d71a0125c9075495141a1ffba0f25e3f69a23ad79f9f9fe41bf0a5679a3a462787dd569d7e26697742acf5a83cb00e7816c76e615584bde3a217ae94df3c013a830027c854c62df39dc50d019782c5e67d9c3f1d720b1b81442ba4ad6b099813ef66cb13459376d52831457f609ac32413745b139c975d31c107e7b08ffa27a8c25f7161dc07af926a61086d05ba643d20e331f58ce44ff1ad7eb41920866e590b9a86444d34eb3f2659e0b726f1e5eea3fb659cb28e6c0c57fe5d6459e0da789d035cc5d00b175892fea9411a4805fc666e5aa8692f15da851af971fa5a1a36513f7eeac97c081db0b1aa8b213045fffe3e916e4092b499deb3c225410df80ed34008c5469dfe61a85fac623af710d7b9211a1f3aa4300dd15903a2d24af52f0a13532705682736598df6bdae2bccedb404764e3ee995e5a2f00a50f43cd2bcc412a2ef1f75a26bc95083983f86a29a5620917536e503774ed91ac64cd05c40d7e6f1bea9e0bbee566b0e75102c3d4725457ae4e1ed021a8fe2512c98b616aa50a409ee8a356fbe469b2cb5455ff59f42d5b8cddb9a94856245f1dffd5b5818f02d8a629bd83925fb6c5c8962cf379d22e7e06c9f3f90e948a6428744fc78df495f87fde78e7ad5bc20f207c4afb611064812cdc7d169c0ad3337d9660ce4ac4fc33e6bb4e92a01d896327965081ebe7418bd3f787e30c57f1927003c49510a1082d8a11434939085d21cdc08bbadf2e4babf34a6ec1349881b2abd37286795833519ea79017f1495ffab3ef94516cdb19913d88fac5b2ba7c3876c4b2c7f1946bdb0dafeb3ecb47fafd8be048fd576fa7877720496667f326f5cbd4911d38cd164655592d77be72de3c5efeaf3ff4531d6b50630dbe3ea5974ff93c38ba726bc93af533df101fbf95ad4774f332b3d0d5f16384308698e08753909b07407e998a9a047adc7ba2a3a3a4879990cb100a3eb7e13bf3ad78a75c457d8f4f62c0d92a559d38876ab41f32d55011ad66d8d7e56b780b007fc51b16e0b0631217ed1cd22b2a2e1184ec77fadf366256e9d48d59fbdfb046dac742bbd399134f414916026dfea0ba77ca9fddbadf0e792f88c7619d7af19a3ad15f801781d7f58d4d58acf112816b2298bd80016dbd55d50fc39ace89f63da130663609d978a4ad0a336d07e57aa737ccec1489c937c794b775ecd3eee72f16f8b8ce0577ccd87845f9cd328ee4146d3225bad44822e49f6cb20b84310c78342f812330d6f091d888233edcb06e83b0aa9cba890d7358986e7b6557701e6df33826258ddfad1b995bee8d1795621ca8a922c2e12d2beb917bf6fa293ed04540d729cac72f9246b5b01261fdb5c50895a808f16633f2797e4a29296d85aac54b07044ba38f99d818ff9bd8280b53d627becd433b2eee0de0dcfeb66ada7ce815bca8cbd18625fc364ea6bee9a3d16e947a4b49438b2e04634cd5c12188814087563d0231015af514f00af373f57baadd06bfa102a9517d90fbe096f3d8bc3ac005c55d5e1987ad9d28da98ed7b07f22dad58a5f0803527e3aec9dd4d3e3e53c79cdc2a69c3f44e65b4954e1195c321f842ad7c4c93f49a8a82c5441cb493a012e4b3b31a5517aa6ea3d3cb10c583ee51afd1155696f409bc11ad6c90eefb91fb0c6f65403cd75119be02dddf4161831ba6d13bc3315f645e40031821240934387ab8596668ff666e4b9bff912f1240de17b0255ac8a3098c19cfb3e40c9315cd085ee970e088792a8804e3e58bbd1efa82eb1d5a5413cfb720873a70f56f40948c1b356ca5689107bc52862bf2c644b3baa88ed840f9e05cf9a8ffc132575ccb3f852541fcf9fe13cdf5e9529271d5d02583b9011e5ca026979376ead0a71fb3356b51f2153b1c2a730951bfb06e97e9250c1da8b2cc56290af2425f04ed71ec89e0821912ad71e579d69ee527f2b48248be04d39b3c07a113d0473bbed25377cdd83142f206e1e19414395c17c300a69b9bf76ec509f75697bea8c00438ff3d399fcaea6492d2bdd969e404640b04eb5499c904059ec115039644dcd24fda9b2bfdba48c5232da937d601ca748aa7080976570df5dd4e65af390c1201fa3cededcfae3cc3088c80bfeae4c10ae7b9967a0014b9641d27270bb727a503c0413775e473ccfd22bf06d7ea589a51393b4d01256d8a2cfa8c93c1e081b21306bb18f1b29b5e90ade20b2aa75676bcfde6ac1084e30e4b22c79a50134b60fafe8c90ea59d789129649897c8d19f9b2e849c4842854191b4a3c0612066cd6fe1dc41079d9b68f4c81cbc8094188b3e02bb5364b0dd0036f957637625c9983d40013b5f1833acac814d244bfc11606f7280c7eb1c3beb7b59d42ff40ae7a9ca4d5e1dd3fd7a07fb6d28f5bc8c4b86536d3f3cc60e97b8f7162d945244da8b2af23f1aa603b41500f4fe5743ac7c96bf0d8df38d0a1dce8bf19ec3ef36f6dbd8ece42e31ee0a0bae253863c3dc2fd9c76473d2481895e49221ca6289b789131e008b40cd7c1f1ef0650b883c0563896725b0eedeed6ea66a48cd1b8c1754e91139df1638a42952dff49f30b4e872c40eb6e9972da77d7bb207f8207df2c6a73970fe5fc43be775aefdf28dd56b965814f5bee12402fd3ecf12807deaa2e8d3372a8a408a182103cdff416753d80c1d5d5074613b02ac228c7b1d28696d8ee0d0df20ad5d271243e8ac76db9308d11fdd3d745cd69347edd343bbaf8b6ab5aae7a8421b7e1e81fed07199fcbd8124897e4acadb5880020803d1cfd7cc2bb38f3226f92e6f940457dcbe2315d</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">请输入密码.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      请输入密码.
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>小程序和H5中input在光标位置中插入</title>
    <link href="https://hakunamatata052.github.io/2021/04/16/cursor-position-insert/"/>
    <id>https://hakunamatata052.github.io/2021/04/16/cursor-position-insert/</id>
    <published>2021-04-16T02:25:36.000Z</published>
    <updated>2021-04-16T06:11:38.078Z</updated>
    
    <content type="html"><![CDATA[<p>最近遇到一个需要是聊天添加表情功能，本来很简单，点就表情追加到input内容里即可。<br>但是表情只能追加到字符串最后面，这就很恼火。<br>有没有办法在光标制定位置插入呢？当然有，只不过小程序做法和H5略有区别，这里两种都介绍一下。</p><a id="more"></a><p><img src="/images/IMG_6928.PNG" alt="安装成功"></p><h1 id="首先是H5"><a href="#首先是H5" class="headerlink" title="首先是H5"></a>首先是H5</h1><p>这里我直接抛出代码，原理也很简单，主要利用的是input和textarea中的setSelectionRange属性获取光标位置。这里不做过多解释，主要看下小程序<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>无标题文档<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">setCaret</span>(<span class="params">textObj</span>) </span>&#123;</span></span><br><span class="line">            if (textObj.createTextRange) &#123;</span><br><span class="line"><span class="javascript">                textObj.caretPos = <span class="built_in">document</span>.selection.createRange().duplicate();</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">insertAtCaret</span>(<span class="params">textObj, textFeildValue</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (<span class="built_in">document</span>.all) &#123;</span></span><br><span class="line">                if (textObj.createTextRange &amp;&amp; textObj.caretPos) &#123;</span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> caretPos = textObj.caretPos;</span></span><br><span class="line"><span class="javascript">                    caretPos.text = caretPos.text.charAt(caretPos.text.length - <span class="number">1</span>) == <span class="string">'   '</span> ? textFeildValue + <span class="string">'   '</span> : textFeildValue;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line">                    textObj.value = textFeildValue;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="number">1</span>)</span></span><br><span class="line">                if (textObj.setSelectionRange) &#123;</span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> rangeStart = textObj.selectionStart;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> rangeEnd = textObj.selectionEnd;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> tempStr1 = textObj.value.substring(<span class="number">0</span>, rangeStart);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> tempStr2 = textObj.value.substring(rangeEnd);</span></span><br><span class="line">                    textObj.value = tempStr1 + textFeildValue + tempStr2;</span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">"This   version   of   Mozilla   based   browser   does   not   support   setSelectionRange"</span>);</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"form1"</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">onsubmit</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"text/plain"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"textarea"</span> <span class="attr">name</span>=<span class="string">"tarea"</span> <span class="attr">rows</span>=<span class="string">""</span> <span class="attr">cols</span>=<span class="string">""</span> <span class="attr">style</span>=<span class="string">"width:300px;height:120px;"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">onselect</span>=<span class="string">"setCaret(this);"</span> <span class="attr">onclick</span>=<span class="string">"setCaret(this);"</span> <span class="attr">onkeyup</span>=<span class="string">"setCaret(this);"</span>&gt;</span>例子例子例子例子例子<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"textfield"</span> <span class="attr">style</span>=<span class="string">"width:220px;"</span> <span class="attr">value</span>=<span class="string">"插入FireFox"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"插入"</span> <span class="attr">onclick</span>=<span class="string">"insertAtCaret(this.form.tarea,this.form.textfield.value);"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">contenteditable</span>=<span class="string">"true"</span> <span class="attr">style</span>=<span class="string">"border:1px solid #ccc; width:300px; height:200px;"</span>&gt;</span>sljfldjfldf<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h1><p>小程序需要在textarea或input中绑定失焦事件<code>bindblur=&quot;onBlur&quot;</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"textarea"</span> <span class="attr">auto-focus</span>=<span class="string">"true"</span> <span class="attr">placeholder</span>=<span class="string">"请输入文章内容"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;content&#125;&#125;"</span> <span class="attr">bindinput</span>=<span class="string">"onInput"</span> <span class="attr">bindblur</span>=<span class="string">"onBlur"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p>然后在失焦事件获取失焦时光标的位置，即光标在文本域中的下标<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">onBlur(e) &#123;</span><br><span class="line">  <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">    cursor: e.detail.cursor</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><p>然后在插入表情的实践中将表情插入文本域字符串中（也就是表情的点击事件中）<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">inputGif(e) &#123;</span><br><span class="line">  <span class="keyword">const</span> index = e.currentTarget.dataset.index</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      content: <span class="keyword">this</span>.data.content.slice(<span class="number">0</span>, <span class="keyword">this</span>.data.cursor) + <span class="keyword">this</span>.data.gif[index].code + <span class="keyword">this</span>.data.content.slice(<span class="keyword">this</span>.data.cursor)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><p>这里我使用了<code>setTimeout</code>延时了100ms执行，原因是如果执行，失焦实践是在点击事件之后触发的，就会出现插入的位置是上一次失焦时的位置，所以需要插入时延迟100ms先让文本域失焦并设置好光标位置，再执行插入。<br>至此小程序的光标制定位置插入内容就完成了，有木有很简单。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近遇到一个需要是聊天添加表情功能，本来很简单，点就表情追加到input内容里即可。&lt;br&gt;但是表情只能追加到字符串最后面，这就很恼火。&lt;br&gt;有没有办法在光标制定位置插入呢？当然有，只不过小程序做法和H5略有区别，这里两种都介绍一下。&lt;/p&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="nimiapp" scheme="https://hakunamatata052.github.io/categories/JS/nimiapp/"/>
    
    
      <category term="setSelectionRange" scheme="https://hakunamatata052.github.io/tags/setSelectionRange/"/>
    
      <category term="光标位置插入" scheme="https://hakunamatata052.github.io/tags/%E5%85%89%E6%A0%87%E4%BD%8D%E7%BD%AE%E6%8F%92%E5%85%A5/"/>
    
  </entry>
  
  <entry>
    <title>使用uniapp打包H5时使用微信SDK</title>
    <link href="https://hakunamatata052.github.io/2021/03/13/uniapp-wxSDK/"/>
    <id>https://hakunamatata052.github.io/2021/03/13/uniapp-wxSDK/</id>
    <published>2021-03-13T02:25:36.000Z</published>
    <updated>2021-04-16T02:02:53.932Z</updated>
    
    <content type="html"><![CDATA[<h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>原本的一个需求是开发微信小程序，但是因为产品变更需求，需要重新改为H5，为了重构页面和前端逻辑不做太大改动，所以决定先把小程序改为uniapp，在用uniapp打包为H5<br>因为uniapp里的方法和小程序类似，所以代码复用率高。<br>有了思路之后就开始着手进行。<br><a id="more"></a></p><h2 id="第一步：将微信小程序转为uniapp"><a href="#第一步：将微信小程序转为uniapp" class="headerlink" title="第一步：将微信小程序转为uniapp"></a>第一步：将微信小程序转为uniapp</h2><p>这里使用的是官方出的一款插件<code>miniprogram-to-uniapp</code></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>使用命令行进行全局安装</p><p>windows:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install miniprogram-to-uniapp -g</span><br></pre></td></tr></table></figure></p><p>mac &amp; Linux:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install miniprogram-to-uniapp -g</span><br></pre></td></tr></table></figure></p><h3 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h3><p>使用命令<code>wtu -V</code>验证是否安装成功，返回版本号说明安装成功</p><p><img src="/images/WX20210312-111605@2x.png" alt="安装成功"></p><h3 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h3><p>使用命令<code>wtu -i 小程序根目录路径</code>进行转换<br>小程序根目录路径可以是绝对路径，也可以是命令行打开的相对路径<br><img src="/images/WX20210312-112000@2x.png" alt="转换成功"><br>转换成功后在小程序目录同级目录下会生成一个<code>文件名_uni</code>的文件夹</p><p>这里存放的就是转换后的uniapp，你可以是用Hbuilder打开，或者使用官方脚手架然后用vscode打开，笔者使用的后者。</p><h2 id="第二步引入微信SDK"><a href="#第二步引入微信SDK" class="headerlink" title="第二步引入微信SDK"></a>第二步引入微信SDK</h2><p>由于我们小程序内获取的登录态是小程序的，如果改成微信内登录的H5，需要将登录态转换为微信H5的登录态。<br>这里就需要用到微信的SDK。<br>由于笔者使用的uniapp脚手架，所以需要修改<code>public</code>目录下的<code>index.html</code>文件，即H5的模版文件。（Hbuilder打开的话需要在配置文件中配置模版文件）</p><h3 id="引入微信SDK"><a href="#引入微信SDK" class="headerlink" title="引入微信SDK"></a>引入微信SDK</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://res.wx.qq.com/open/js/jweixin-1.2.0.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后在你需要调用的组建里配置微信SDK<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wx.config(&#123;</span><br><span class="line">    debug: <span class="literal">true</span>, <span class="comment">// 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。</span></span><br><span class="line">    appId: <span class="string">''</span>, <span class="comment">// 必填，企业号的唯一标识，此处填写企业号corpid</span></span><br><span class="line">    timestamp: , <span class="comment">// 必填，生成签名的时间戳</span></span><br><span class="line">    nonceStr: <span class="string">''</span>, <span class="comment">// 必填，生成签名的随机串</span></span><br><span class="line">    signature: <span class="string">''</span>,<span class="comment">// 必填，签名，见附录1</span></span><br><span class="line">    jsApiList: [] <span class="comment">// 必填，需要使用的JS接口列表，所有JS接口列表见附录2</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>这个时候问题就来了！<br>执行会发现<code>wx</code>对象中没有<code>config</code>方法,但是wx对象是存在的？</p><h1 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h1><p>原来是因为uniapp中已经向window中声明了一个wx变量，这个wx变量是小程序的wx对象而不是微信SDK的。<br>因为uniapp在打包时将<code>app.js</code>打包在了<code>&lt;/body&gt;</code>之前，所以我们引入的微信SDK的变量被uniapp的覆盖了。</p><h1 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h1><p>找到原因就好办了，直接将SDK在<code>&lt;/body&gt;</code>之后<code>&lt;/html&gt;</code>之前引入。</p><p>再跑一下，完美解决！</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>这里找问题原因花了很长时间，因为引入js方式，登录态检测这些我都简化叙述了，还用到了各种抓包，本地代理线上文件。但是思路就是遇到问题可以想想多种解决方案，多打断点，多console。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;起因&quot;&gt;&lt;a href=&quot;#起因&quot; class=&quot;headerlink&quot; title=&quot;起因&quot;&gt;&lt;/a&gt;起因&lt;/h1&gt;&lt;p&gt;原本的一个需求是开发微信小程序，但是因为产品变更需求，需要重新改为H5，为了重构页面和前端逻辑不做太大改动，所以决定先把小程序改为uniapp，在用uniapp打包为H5&lt;br&gt;因为uniapp里的方法和小程序类似，所以代码复用率高。&lt;br&gt;有了思路之后就开始着手进行。&lt;br&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="uniapp" scheme="https://hakunamatata052.github.io/categories/JS/uniapp/"/>
    
    
      <category term="uniapp" scheme="https://hakunamatata052.github.io/tags/uniapp/"/>
    
      <category term="微信SDK" scheme="https://hakunamatata052.github.io/tags/%E5%BE%AE%E4%BF%A1SDK/"/>
    
  </entry>
  
  <entry>
    <title>html转jsx</title>
    <link href="https://hakunamatata052.github.io/2020/08/31/html2jsx/"/>
    <id>https://hakunamatata052.github.io/2020/08/31/html2jsx/</id>
    <published>2020-08-31T02:18:00.000Z</published>
    <updated>2020-08-31T02:36:36.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="初衷"><a href="#初衷" class="headerlink" title="初衷"></a>初衷</h1><p>之前做的一个阿里需求，是将原有的HTML的静态页面重构成前后分离的项目，要求是用dva-cli脚手架来开发<br>那么就牵扯到一个问题就是这么多的HTML页面肯定不能手动转成jsx语法啊。<br>毕竟差别还是有很多的，尤其是写div的类名<br>我们知道，在普通HTML中是这样写div和类名的<br><a id="more"></a><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"demo div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>但是在jsx语法中尤其是同一div上应用了多个类名，jsx写起来会很让热挠头<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className=&#123;[styles.demo,styles.div1].join(<span class="string">' '</span>)&#125;&gt;&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure></p><p>于是乎就做了一个小工具，可以将html转换为jsx语法，这里需要注意一下styles是我引入的less后赋值的变量名<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">'../assets/css/index.css'</span></span><br></pre></td></tr></table></figure></p><h1 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h1><p>左边输入html点击转换会自动生成在右边的文本域中</p><iframe src="/2020/08/31/html2jsx/html2jsx.html" width="600" height="300" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe><h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><p>这个小Demo的原理非常简单，就是通过正则匹配到所有<code>class=“”</code>里的内容，然后通过<code>replace</code>方法替换<br>值得注意的是<code>replace</code>方法的第二个参数可以传一个固定的字符串，也可以传一个函数，函数的返回值作为替换的内容<br>这里我们不能把类名替换成固定的值，而是需要将类名做处理，所有在<code>replace</code>第二个参数中传入一个函数，函数的参数，就是匹配到的内容<br>获得内容就很好办了，先把类名用空格拆分成数组，然后写个jsx中的格式即可</p><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">submit</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> con = <span class="built_in">document</span>.getElementById(<span class="string">'text'</span>).value            </span><br><span class="line">    con = con.replace(<span class="regexp">/class=".*?"/ig</span>, value =&gt;&#123;</span><br><span class="line">        value = value.replace(<span class="string">'class="'</span>,<span class="string">''</span>).replace(<span class="string">'"'</span>,<span class="string">''</span>)</span><br><span class="line">        value = value.split(<span class="string">' '</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(value)</span><br><span class="line">        <span class="keyword">if</span>(value.length&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            value = value.map(<span class="function"><span class="params">item</span>=&gt;</span><span class="string">`styles.<span class="subst">$&#123;item&#125;</span>`</span>)</span><br><span class="line">            value = <span class="string">`[<span class="subst">$&#123;value.join(<span class="string">','</span>)&#125;</span>].join(' ')`</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            value = <span class="string">`styles.<span class="subst">$&#123;value&#125;</span>`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`className=&#123;<span class="subst">$&#123;value&#125;</span>&#125;`</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'text2'</span>).value = con</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;初衷&quot;&gt;&lt;a href=&quot;#初衷&quot; class=&quot;headerlink&quot; title=&quot;初衷&quot;&gt;&lt;/a&gt;初衷&lt;/h1&gt;&lt;p&gt;之前做的一个阿里需求，是将原有的HTML的静态页面重构成前后分离的项目，要求是用dva-cli脚手架来开发&lt;br&gt;那么就牵扯到一个问题就是这么多的HTML页面肯定不能手动转成jsx语法啊。&lt;br&gt;毕竟差别还是有很多的，尤其是写div的类名&lt;br&gt;我们知道，在普通HTML中是这样写div和类名的&lt;br&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="react" scheme="https://hakunamatata052.github.io/categories/JS/react/"/>
    
    
      <category term="react jsx" scheme="https://hakunamatata052.github.io/tags/react-jsx/"/>
    
  </entry>
  
  <entry>
    <title>Three.js设置DIV跟随场景的两种方法</title>
    <link href="https://hakunamatata052.github.io/2020/08/26/three-sprite-css2d/"/>
    <id>https://hakunamatata052.github.io/2020/08/26/three-sprite-css2d/</id>
    <published>2020-08-26T07:39:00.000Z</published>
    <updated>2020-08-26T08:57:16.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="方法一：使用Sprite对象"><a href="#方法一：使用Sprite对象" class="headerlink" title="方法一：使用Sprite对象"></a>方法一：使用Sprite对象</h1><p>首先实例化一个SpriteMaterial，设置好材质或颜色，可以是透明的<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> spriteMap = <span class="keyword">new</span> TextureLoader().load(<span class="string">"./static/img/img.png"</span>);</span><br><span class="line"><span class="keyword">let</span> pinMaterial = <span class="keyword">new</span> SpriteMaterial(&#123;</span><br><span class="line">    map: spriteMap</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>然后创建一个div或者绑定html上现有的div元素,设置好默认的位置属性，可以用css来设置默认样式<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">Div.className = <span class="string">'text'</span></span><br><span class="line">Div.id = <span class="string">"text"</span></span><br><span class="line">Div.style.left = <span class="number">0</span> + <span class="string">'px'</span></span><br><span class="line">Div.style.top = <span class="number">0</span> + <span class="string">'px'</span></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(Div)</span><br></pre></td></tr></table></figure></p><p>然后声明一个坐标点并初始化，之后用来保存每次改变后的坐标点<br><a id="more"></a><br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> circleData: Vector3</span><br><span class="line">...</span><br><span class="line"><span class="keyword">this</span>.circleData = <span class="keyword">new</span> Vector3(<span class="number">-0.2</span>, <span class="number">2.3</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure></p><p>接着创建一个创建一个Sprite对象（这里我使用的是webpack引用依赖的方式，因此不需要THREE.Sprite）,并设置坐标点是初始化的坐标点<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pin: Sprite = <span class="keyword">new</span> Sprite(pinMaterial);</span><br><span class="line">pin.position.set(</span><br><span class="line">    <span class="keyword">this</span>.circleData.x,</span><br><span class="line">    <span class="keyword">this</span>.circleData.y,</span><br><span class="line">    <span class="keyword">this</span>.circleData.z</span><br><span class="line">);</span><br><span class="line">pin.scale.set(<span class="number">0.3</span>, <span class="number">0.3</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure></p><p>然后写一个方法用来更新坐标点并设置div的坐标，其原理是每次render时使用Vector3中的project方法将Sprite对象中的世界坐标点转换为屏幕坐标点，并且改变div的css位置信息<br>project接受一个参数是相机实例<br>最后通过一个固定公式转换成屏幕坐标点<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> textShow(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> worldVector = <span class="keyword">new</span> Vector3(</span><br><span class="line">        <span class="keyword">this</span>.circleData.x,</span><br><span class="line">        <span class="keyword">this</span>.circleData.y,</span><br><span class="line">        <span class="keyword">this</span>.circleData.z</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">let</span> standardVector = worldVector.project(<span class="keyword">this</span>.camera);</span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="built_in">Math</span>.round(standardVector.x * a + a);</span><br><span class="line">    <span class="keyword">let</span> y = <span class="built_in">Math</span>.round(-standardVector.y * b + b);</span><br><span class="line">    <span class="keyword">let</span> Div: HTMLElement = <span class="built_in">document</span>.getElementById(<span class="string">'text'</span>)</span><br><span class="line">    Div.style.left = x + <span class="number">30</span> + <span class="string">"px"</span>;</span><br><span class="line">    Div.style.top = y + <span class="string">"px"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>最后在render方法中调用textShow方法即可<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> render(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.render());</span><br><span class="line">    <span class="keyword">this</span>.textShow();</span><br><span class="line">    <span class="keyword">this</span>.renderer.render(<span class="keyword">this</span>.scene, <span class="keyword">this</span>.camera); <span class="comment">// 必须放在这个位置</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="方法二：使用CSS2DObject和CSS2DRenderer渲染器"><a href="#方法二：使用CSS2DObject和CSS2DRenderer渲染器" class="headerlink" title="方法二：使用CSS2DObject和CSS2DRenderer渲染器"></a>方法二：使用CSS2DObject和CSS2DRenderer渲染器</h1><p>这个方法的原理是将dom元素通过CSS2DObject方法转换为three对象，然后利用CSS2DRenderer渲染器将其渲染在页面上<br>首先引入CSS2DObject和CSS2DRenderer<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; CSS2DObject, CSS2DRenderer &#125; <span class="keyword">from</span> <span class="string">"three/examples/jsm/renderers/CSS2DRenderer"</span>;</span><br></pre></td></tr></table></figure></p><p>接着声明一个CSS2DRenderer<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> labelRenderer: CSS2DRenderer</span><br></pre></td></tr></table></figure></p><p>新建一个div设置一些类名或者样式，然后将div传入CSS2DObject对象的实例中<br>将实例add进场景，再声明一个CSS2DRenderer，通过setSize方法设置渲染器的大小<br>通过labelRenderer.domElement来设置被转换成three对象之后的dom元素的样式<br>最后将labelRenderer.domElement对象appendChild到你想要的元素中<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Div: HTMLElement = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">Div.id = <span class="string">'trace'</span></span><br><span class="line">Div.className = <span class="string">'text'</span></span><br><span class="line">Div.textContent = <span class="string">"CSS2D方法"</span></span><br><span class="line"><span class="keyword">var</span> moonLabel = <span class="keyword">new</span> CSS2DObject(Div);</span><br><span class="line">moonLabel.position.set(<span class="number">0</span>, <span class="number">-3</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">this</span>.scene.add(moonLabel);</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.labelRenderer = <span class="keyword">new</span> CSS2DRenderer();</span><br><span class="line"><span class="keyword">this</span>.labelRenderer.setSize(<span class="built_in">window</span>.innerWidth, <span class="built_in">window</span>.innerHeight);</span><br><span class="line"><span class="keyword">this</span>.labelRenderer.domElement.style.position = <span class="string">'absolute'</span>;</span><br><span class="line"><span class="keyword">this</span>.labelRenderer.domElement.style.top = <span class="number">0</span> + <span class="string">'px'</span>;        </span><br><span class="line"><span class="built_in">document</span>.body.appendChild(<span class="keyword">this</span>.labelRenderer.domElement)</span><br></pre></td></tr></table></figure></p><p>最后直接再render方法中执行labelRenderer的render，传入场景和相机<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.labelRenderer.render(<span class="keyword">this</span>.scene, <span class="keyword">this</span>.camera);</span><br></pre></td></tr></table></figure></p><p>这里有个问题，如果场景有<code>OrbitControls</code>控制器，那么将会失效，因为CSS2DRenderer会先生成有个和渲染大小一样的div（就是setSize方法设置的大小）<br>如果能正常显示出div那么它的<code>z-index</code>是高于WebGLRenderer渲染出的canvas的层级，这样<code>OrbitControls</code>控制器就会失效<br>解决方法也很简单粗暴：给这个生成出来的div给一个<code>pointer-events: none;</code>样式即可</p><p>相比之下，我觉得方案二还是更简单一点，但是如果需要设置多个或不确定数量的div，那么可以使用第一个，使用for循环来处理</p><h1 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h1><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./assets/less/index.less'</span></span><br><span class="line"><span class="keyword">import</span> &#123; OrbitControls &#125; <span class="keyword">from</span> <span class="string">'three/examples/jsm/controls/OrbitControls'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Scene, PerspectiveCamera, WebGLRenderer, AmbientLight, DirectionalLight, AnimationMixer, AnimationAction, BoxGeometry, MeshBasicMaterial, Mesh, DoubleSide, Clock, Raycaster, Vector2, Vector3, Group, TextureLoader, Sprite, SpriteMaterial, LoopOnce &#125; <span class="keyword">from</span> <span class="string">"three"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; GLTFLoader, GLTF &#125; <span class="keyword">from</span> <span class="string">"three/examples/jsm/loaders/GLTFLoader"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; CSS2DObject, CSS2DRenderer &#125; <span class="keyword">from</span> <span class="string">"three/examples/jsm/renderers/CSS2DRenderer"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> Three &#123;</span><br><span class="line">    <span class="keyword">private</span> scene: Scene</span><br><span class="line">    <span class="keyword">private</span> camera: PerspectiveCamera</span><br><span class="line">    <span class="keyword">private</span> renderer: WebGLRenderer</span><br><span class="line">    <span class="keyword">private</span> controls: OrbitControls</span><br><span class="line">    <span class="keyword">private</span> mixer: AnimationMixer</span><br><span class="line">    <span class="keyword">private</span> clock: Clock</span><br><span class="line">    <span class="keyword">private</span> mainGroup: Group</span><br><span class="line">    <span class="keyword">private</span> circleGroup: Group</span><br><span class="line">    <span class="keyword">private</span> $<span class="built_in">window</span>: HTMLElement</span><br><span class="line">    <span class="keyword">private</span> fov: <span class="built_in">number</span></span><br><span class="line">    <span class="keyword">private</span> originalCamera: Vector3</span><br><span class="line">    <span class="keyword">private</span> circleData: Vector3</span><br><span class="line">    <span class="keyword">private</span> gltf: GLTF</span><br><span class="line">    <span class="keyword">private</span> anindex: <span class="built_in">number</span></span><br><span class="line">    <span class="keyword">private</span> animation: AnimationAction</span><br><span class="line">    <span class="keyword">private</span> isAnimate: <span class="built_in">boolean</span></span><br><span class="line">    <span class="keyword">private</span> labelRenderer: CSS2DRenderer</span><br><span class="line">    <span class="keyword">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.fov = <span class="number">26</span></span><br><span class="line">        <span class="keyword">this</span>.originalCamera = <span class="keyword">new</span> Vector3(<span class="number">-2.3363492363063805</span>, <span class="number">5.3542278380602655</span>, <span class="number">13.216669448945213</span>)</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span> = <span class="built_in">document</span>.querySelector(<span class="string">"#app"</span>);</span><br><span class="line">        <span class="keyword">this</span>.clock = <span class="keyword">new</span> Clock()</span><br><span class="line">        <span class="keyword">this</span>.circleData = <span class="keyword">new</span> Vector3(<span class="number">-0.2</span>, <span class="number">2.3</span>, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">this</span>.anindex = <span class="number">0</span></span><br><span class="line">        <span class="keyword">this</span>.isAnimate = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">this</span>.initScene();</span><br><span class="line">        <span class="keyword">this</span>.initThree();</span><br><span class="line">        <span class="keyword">this</span>.initCamera();</span><br><span class="line">        <span class="keyword">this</span>.initControls()</span><br><span class="line">        <span class="keyword">this</span>.initLight();</span><br><span class="line">        <span class="keyword">this</span>.initPulseCircle()</span><br><span class="line">        <span class="keyword">this</span>.initTrace()</span><br><span class="line">        <span class="keyword">this</span>.render()</span><br><span class="line">        <span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.onWindowResize());</span><br><span class="line">        <span class="keyword">this</span>.renderer.domElement.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="params">event</span> =&gt;</span> <span class="keyword">this</span>.modelTrigger(event));</span><br><span class="line">        <span class="keyword">this</span>.renderer.domElement.addEventListener(<span class="string">"touchstart"</span>, <span class="function"><span class="params">event</span> =&gt;</span> <span class="keyword">this</span>.modelTrigger(event));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> loader = <span class="keyword">new</span> GLTFLoader(); <span class="comment">//创建模型加载器对象</span></span><br><span class="line">        <span class="comment">// let dracoloader = new DRACOLoader();//draco加载器</span></span><br><span class="line">        <span class="keyword">const</span> textureLoader = <span class="keyword">new</span> TextureLoader();</span><br><span class="line">        <span class="keyword">const</span> skyboxGeometry = <span class="keyword">new</span> BoxGeometry(<span class="number">200</span>, <span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line">        <span class="keyword">const</span> skyboxMaterials = [</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/rt.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/lf.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/up.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/dn.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/bk.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/ft.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">        ];</span><br><span class="line">        <span class="keyword">const</span> skyboxMesh = <span class="keyword">new</span> Mesh(skyboxGeometry, skyboxMaterials);</span><br><span class="line">        skyboxMesh.name = <span class="string">'skyboxMesh'</span>;</span><br><span class="line">        skyboxMesh.position.y = <span class="number">97.45</span></span><br><span class="line">        <span class="keyword">this</span>.scene.add(skyboxMesh);</span><br><span class="line"></span><br><span class="line">        loader.load(<span class="string">'./static/models/glb/RobotExpressive.glb'</span>, <span class="function"><span class="params">object</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(object)</span><br><span class="line">            <span class="keyword">this</span>.gltf = object</span><br><span class="line">            <span class="keyword">this</span>.gltf.scene.position.set(<span class="number">0</span>, <span class="number">-2.5</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">this</span>.scene.add(<span class="keyword">this</span>.gltf.scene);</span><br><span class="line">            <span class="keyword">this</span>.mixer = <span class="keyword">new</span> AnimationMixer(<span class="keyword">this</span>.gltf.scene);</span><br><span class="line">            <span class="keyword">this</span>.selectAnim(<span class="number">5</span>, <span class="string">'点我的身体会有惊喜!'</span>, <span class="literal">true</span>)</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'submit'</span>).addEventListener(<span class="string">'click'</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.send()</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"input"</span>).addEventListener(<span class="string">"keyup"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">            event.preventDefault();</span><br><span class="line">            <span class="keyword">if</span> (event.keyCode === <span class="number">13</span>) &#123;</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"submit"</span>).click();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> send(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> value: <span class="built_in">string</span> = (&lt;HTMLInputElement&gt;<span class="built_in">document</span>.getElementById(<span class="string">'input'</span>)).value;</span><br><span class="line">        (&lt;HTMLInputElement&gt;<span class="built_in">document</span>.getElementById(<span class="string">'input'</span>)).value = <span class="string">""</span></span><br><span class="line">        <span class="keyword">let</span> index = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="regexp">/跳舞/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">0</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/死/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/闲/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">2</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/开心|哈哈|ha/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">3</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/生气/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">4</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/牛|666/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">5</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/你好|hey|hello/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">6</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/是|不/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">7</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            index = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">9</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (index) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">0</span>, <span class="string">'啦~~啦~~~啦~~~'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">1</span>, <span class="string">'狗带！'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">2</span>, <span class="string">'无所事事。。。'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">3</span>, <span class="string">'开心'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">5</span>, <span class="string">'好气哦！'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">9</span>, <span class="string">'你牛逼！'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">12</span>, <span class="string">'你好！'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">13</span>, <span class="string">'yes'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">4</span>, <span class="string">'你说什么我听不懂？'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">4</span>, <span class="string">'你说什么我听不懂？'</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> modelTrigger(event): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> Sx = event.clientX; <span class="comment">//鼠标单击位置横坐标</span></span><br><span class="line">        <span class="keyword">const</span> Sy = event.clientY; <span class="comment">//鼠标单击位置纵坐标</span></span><br><span class="line">        <span class="comment">//屏幕坐标转标准设备坐标</span></span><br><span class="line">        <span class="keyword">const</span> x = (Sx / <span class="built_in">window</span>.innerWidth) * <span class="number">2</span> - <span class="number">1</span>; <span class="comment">//标准设备横坐标</span></span><br><span class="line">        <span class="keyword">const</span> y = -(Sy / <span class="built_in">window</span>.innerHeight) * <span class="number">2</span> + <span class="number">1</span>; <span class="comment">//标准设备纵坐标</span></span><br><span class="line">        <span class="comment">//创建射线投射器对象</span></span><br><span class="line">        <span class="keyword">const</span> raycaster = <span class="keyword">new</span> Raycaster();</span><br><span class="line">        <span class="comment">//返回射线选中的对象</span></span><br><span class="line">        raycaster.setFromCamera(<span class="keyword">new</span> Vector2(x, y), <span class="keyword">this</span>.camera);</span><br><span class="line">        <span class="keyword">const</span> intersects = raycaster.intersectObjects(<span class="keyword">this</span>.scene.children, <span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">const</span> intersect = intersects.filter(<span class="function"><span class="params">intersect</span> =&gt;</span> intersect.object.name !== <span class="string">'skyboxMesh'</span>)</span><br><span class="line">        <span class="keyword">if</span> (intersect.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> result = intersect.filter(<span class="function"><span class="params">item</span> =&gt;</span> item.object.name === <span class="string">'Torso_0'</span>)</span><br><span class="line">            <span class="keyword">if</span> (result.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">5</span>, <span class="string">'不要乱摸'</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">switch</span> (intersect[<span class="number">0</span>].object.name) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'Head_1'</span>:</span><br><span class="line">                    <span class="keyword">this</span>.selectAnim(<span class="number">3</span>, <span class="string">'摸头杀'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">'Head_2'</span>:</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">'头'</span>)</span><br><span class="line">                    <span class="keyword">this</span>.selectAnim(<span class="number">1</span>, <span class="string">'我的眼睛！！'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">'Torso_1'</span>:</span><br><span class="line">                    <span class="keyword">this</span>.selectAnim(<span class="number">12</span>, <span class="string">'给我捶捶背'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">'FootL'</span>:</span><br><span class="line">                    <span class="keyword">this</span>.selectAnim(<span class="number">3</span>, <span class="string">'左脚可以摸'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">'FootR'</span>:</span><br><span class="line">                    <span class="keyword">this</span>.selectAnim(<span class="number">5</span>, <span class="string">'别碰我的jiong'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> selectAnim(index: <span class="built_in">number</span>, text?: <span class="built_in">string</span>, loop?: <span class="built_in">boolean</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.isAnimate) &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.isAnimate = <span class="literal">true</span></span><br><span class="line">        <span class="comment">// animation</span></span><br><span class="line">        <span class="keyword">this</span>.mixer.uncacheClip(<span class="keyword">this</span>.gltf.animations[<span class="keyword">this</span>.anindex])</span><br><span class="line">        <span class="keyword">this</span>.animation = <span class="keyword">this</span>.mixer.clipAction(<span class="keyword">this</span>.gltf.animations[index])</span><br><span class="line">        <span class="keyword">this</span>.animation.clampWhenFinished = <span class="literal">true</span>;   <span class="comment">//播放完停留在最后一帧</span></span><br><span class="line">        <span class="keyword">if</span> (!loop) &#123;</span><br><span class="line">            <span class="keyword">this</span>.animation.setLoop(LoopOnce, <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.animation.fadeIn(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">this</span>.animation.play()</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.isAnimate = <span class="literal">false</span></span><br><span class="line">        &#125;, <span class="keyword">this</span>.gltf.animations[index].duration * <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">this</span>.anindex = index</span><br><span class="line"></span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'text'</span>).innerText = text</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建场景</span></span><br><span class="line">    <span class="keyword">private</span> initScene(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.scene = <span class="keyword">new</span> Scene();</span><br><span class="line">        <span class="keyword">this</span>.scene.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">this</span>.scene.lookAt(<span class="keyword">this</span>.scene.position);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建相机</span></span><br><span class="line">    <span class="keyword">private</span> initCamera(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.camera = <span class="keyword">new</span> PerspectiveCamera(</span><br><span class="line">            <span class="keyword">this</span>.fov,</span><br><span class="line">            <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth / <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight,</span><br><span class="line">            <span class="number">0.1</span>,</span><br><span class="line">            <span class="number">5000</span></span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">this</span>.camera.position.x = <span class="keyword">this</span>.originalCamera.x</span><br><span class="line">        <span class="keyword">this</span>.camera.position.y = <span class="keyword">this</span>.originalCamera.y</span><br><span class="line">        <span class="keyword">this</span>.camera.position.z = <span class="keyword">this</span>.originalCamera.z</span><br><span class="line">        <span class="keyword">this</span>.camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建3D渲染器</span></span><br><span class="line">    <span class="keyword">private</span> initThree(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.renderer = <span class="keyword">new</span> WebGLRenderer();</span><br><span class="line">        <span class="keyword">this</span>.renderer.setSize(</span><br><span class="line">            <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth,</span><br><span class="line">            <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">this</span>.renderer.setSize(<span class="built_in">window</span>.innerWidth, <span class="built_in">window</span>.innerHeight);</span><br><span class="line">        <span class="keyword">this</span>.renderer.setClearColor(<span class="number">0xb34149</span>, <span class="number">1</span>); <span class="comment">//设置背景颜色</span></span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span>.appendChild(<span class="keyword">this</span>.renderer.domElement);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建光源</span></span><br><span class="line">    <span class="keyword">private</span> initLight(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="comment">// 环境光</span></span><br><span class="line">        <span class="keyword">this</span>.scene.add(<span class="keyword">new</span> AmbientLight(<span class="number">0xd29c96</span>, <span class="number">1</span>));</span><br><span class="line">        <span class="comment">// 平行光</span></span><br><span class="line">        <span class="keyword">let</span> light = <span class="keyword">new</span> DirectionalLight(<span class="number">0xffffff</span>, <span class="number">0.6</span>);</span><br><span class="line">        light.position.set(<span class="number">0</span>, <span class="number">10</span>, <span class="number">5</span>);</span><br><span class="line">        <span class="keyword">this</span>.scene.add(light);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 开启控制器</span></span><br><span class="line">    <span class="keyword">private</span> initControls(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.controls = <span class="keyword">new</span> OrbitControls(<span class="keyword">this</span>.camera, <span class="keyword">this</span>.renderer.domElement);</span><br><span class="line">        <span class="keyword">this</span>.controls.enableDamping = <span class="literal">true</span>; <span class="comment">// 惯性滑动，滑动大小默认0.25</span></span><br><span class="line">        <span class="keyword">this</span>.controls.dampingFactor = <span class="number">0.05</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// //控制</span></span><br><span class="line">        <span class="keyword">this</span>.controls.enableZoom = <span class="literal">true</span>; <span class="comment">// 缩放</span></span><br><span class="line">        <span class="keyword">this</span>.controls.enableKeys = <span class="literal">true</span>; <span class="comment">// 键盘</span></span><br><span class="line">        <span class="keyword">this</span>.controls.enablePan = <span class="literal">false</span>; <span class="comment">// 是否开启右键拖拽</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 旋转速度</span></span><br><span class="line">        <span class="keyword">this</span>.controls.rotateSpeed = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 自动旋转</span></span><br><span class="line">        <span class="keyword">this</span>.controls.autoRotate = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">this</span>.controls.autoRotateSpeed = <span class="number">-0.01</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置仰视角和俯视角,后续进行重置</span></span><br><span class="line">        <span class="keyword">this</span>.controls.maxPolarAngle = <span class="built_in">Math</span>.PI / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">this</span>.controls.minPolarAngle = <span class="built_in">Math</span>.PI / <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">this</span>.controls.zoomSpeed = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//设置相机距离原点的最远距离</span></span><br><span class="line">        <span class="comment">// controls.minDistance = 120;</span></span><br><span class="line">        <span class="comment">//设置相机距离原点的最远距离</span></span><br><span class="line">        <span class="comment">// controls.maxDistance = 120 + 120 * 0.5;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 创建发光点</span></span><br><span class="line">    <span class="keyword">private</span> initPulseCircle(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.mainGroup = <span class="keyword">new</span> Group();</span><br><span class="line">        <span class="keyword">this</span>.scene.add(<span class="keyword">this</span>.mainGroup);</span><br><span class="line">        <span class="keyword">var</span> spriteMap = <span class="keyword">new</span> TextureLoader().load(<span class="string">"./static/img/img.png"</span>);</span><br><span class="line">        <span class="keyword">let</span> pinMaterial = <span class="keyword">new</span> SpriteMaterial(&#123;</span><br><span class="line">            map: spriteMap</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">this</span>.circleGroup = <span class="keyword">new</span> Group();</span><br><span class="line">        <span class="keyword">let</span> container = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">        container.className = <span class="string">'show'</span></span><br><span class="line">        <span class="keyword">let</span> Div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">        Div.className = <span class="string">'text'</span></span><br><span class="line">        Div.id = <span class="string">"text"</span></span><br><span class="line">        Div.style.left = <span class="number">0</span> + <span class="string">'px'</span></span><br><span class="line">        Div.style.top = <span class="number">0</span> + <span class="string">'px'</span></span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(Div)</span><br><span class="line">        <span class="keyword">let</span> pin: Sprite = <span class="keyword">new</span> Sprite(pinMaterial);</span><br><span class="line">        pin.position.set(</span><br><span class="line">            <span class="keyword">this</span>.circleData.x,</span><br><span class="line">            <span class="keyword">this</span>.circleData.y,</span><br><span class="line">            <span class="keyword">this</span>.circleData.z</span><br><span class="line">        );</span><br><span class="line">        pin.scale.set(<span class="number">0.3</span>, <span class="number">0.3</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">this</span>.circleGroup.add(pin);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 发光点DOM文本</span></span><br><span class="line">    <span class="keyword">private</span> textShow(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> worldVector = <span class="keyword">new</span> Vector3(</span><br><span class="line">            <span class="keyword">this</span>.circleData.x,</span><br><span class="line">            <span class="keyword">this</span>.circleData.y,</span><br><span class="line">            <span class="keyword">this</span>.circleData.z</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">let</span> standardVector = worldVector.project(<span class="keyword">this</span>.camera);</span><br><span class="line">        <span class="keyword">let</span> a = <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">let</span> b = <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">let</span> x = <span class="built_in">Math</span>.round(standardVector.x * a + a);</span><br><span class="line">        <span class="keyword">let</span> y = <span class="built_in">Math</span>.round(-standardVector.y * b + b);</span><br><span class="line">        <span class="keyword">let</span> Div: HTMLElement = <span class="built_in">document</span>.getElementById(<span class="string">'text'</span>)</span><br><span class="line">        Div.style.left = x + <span class="number">30</span> + <span class="string">"px"</span>;</span><br><span class="line">        Div.style.top = y + <span class="string">"px"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> initTrace(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> Div: HTMLElement = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">        Div.id = <span class="string">'trace'</span></span><br><span class="line">        Div.className = <span class="string">'text'</span></span><br><span class="line">        Div.textContent = <span class="string">"Moon"</span></span><br><span class="line">        <span class="keyword">var</span> moonLabel = <span class="keyword">new</span> CSS2DObject(Div);</span><br><span class="line">        moonLabel.position.set(<span class="number">0</span>, <span class="number">-3</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">this</span>.scene.add(moonLabel);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.labelRenderer = <span class="keyword">new</span> CSS2DRenderer();</span><br><span class="line">        <span class="keyword">this</span>.labelRenderer.setSize(<span class="built_in">window</span>.innerWidth, <span class="built_in">window</span>.innerHeight);</span><br><span class="line">        <span class="keyword">this</span>.labelRenderer.domElement.style.position = <span class="string">'absolute'</span>;</span><br><span class="line">        <span class="keyword">this</span>.labelRenderer.domElement.style.top = <span class="number">0</span> + <span class="string">'px'</span>;        </span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(<span class="keyword">this</span>.labelRenderer.domElement)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> render(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="built_in">window</span>.requestAnimationFrame(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.render());</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.mixer) &#123;</span><br><span class="line">            <span class="keyword">this</span>.mixer.update(<span class="keyword">this</span>.clock.getDelta());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.controls.update();</span><br><span class="line">        <span class="keyword">this</span>.textShow();</span><br><span class="line">        <span class="keyword">this</span>.renderer.render(<span class="keyword">this</span>.scene, <span class="keyword">this</span>.camera); <span class="comment">// 必须放在这个位置</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">this</span>.labelRenderer.render(<span class="keyword">this</span>.scene, <span class="keyword">this</span>.camera);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> onWindowResize(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.renderer.setSize(<span class="built_in">window</span>.innerWidth, <span class="built_in">window</span>.innerHeight);</span><br><span class="line">        <span class="keyword">this</span>.camera.aspect = <span class="built_in">window</span>.innerWidth / <span class="built_in">window</span>.innerHeight;</span><br><span class="line">        <span class="keyword">this</span>.camera.updateProjectionMatrix();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;方法一：使用Sprite对象&quot;&gt;&lt;a href=&quot;#方法一：使用Sprite对象&quot; class=&quot;headerlink&quot; title=&quot;方法一：使用Sprite对象&quot;&gt;&lt;/a&gt;方法一：使用Sprite对象&lt;/h1&gt;&lt;p&gt;首先实例化一个SpriteMaterial，设置好材质或颜色，可以是透明的&lt;br&gt;&lt;figure class=&quot;highlight ts&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; spriteMap = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TextureLoader().load(&lt;span class=&quot;string&quot;&gt;&quot;./static/img/img.png&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; pinMaterial = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SpriteMaterial(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    map: spriteMap&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后创建一个div或者绑定html上现有的div元素,设置好默认的位置属性，可以用css来设置默认样式&lt;br&gt;&lt;figure class=&quot;highlight ts&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; Div = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;div&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Div.className = &lt;span class=&quot;string&quot;&gt;&#39;text&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Div.id = &lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Div.style.left = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;px&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Div.style.top = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;px&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.appendChild(Div)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后声明一个坐标点并初始化，之后用来保存每次改变后的坐标点&lt;br&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="three.js" scheme="https://hakunamatata052.github.io/categories/JS/three-js/"/>
    
    
      <category term="three.js" scheme="https://hakunamatata052.github.io/tags/three-js/"/>
    
      <category term="threejs" scheme="https://hakunamatata052.github.io/tags/threejs/"/>
    
      <category term="three" scheme="https://hakunamatata052.github.io/tags/three/"/>
    
  </entry>
  
  <entry>
    <title>当年的元歌比露娜还秀</title>
    <link href="https://hakunamatata052.github.io/2020/08/25/yuange/"/>
    <id>https://hakunamatata052.github.io/2020/08/25/yuange/</id>
    <published>2020-08-25T08:25:36.000Z</published>
    <updated>2020-08-26T07:38:10.000Z</updated>
    
    <content type="html"><![CDATA[<video src="/2020/08/25/yuange/4852abda01b06d0270ff57cff566085c.mp4" controls style="display:block;margin:auto"></video>]]></content>
    
    <summary type="html">
    
      
      
        &lt;video src=&quot;/2020/08/25/yuange/4852abda01b06d0270ff57cff566085c.mp4&quot; controls style=&quot;display:block;margin:auto&quot;&gt;&lt;/video&gt;
      
    
    </summary>
    
      <category term="日常" scheme="https://hakunamatata052.github.io/categories/%E6%97%A5%E5%B8%B8/"/>
    
    
      <category term="元歌 王者荣耀" scheme="https://hakunamatata052.github.io/tags/%E5%85%83%E6%AD%8C-%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80/"/>
    
  </entry>
  
  <entry>
    <title>快速搭建webpack4.0+</title>
    <link href="https://hakunamatata052.github.io/2020/08/25/webpack/"/>
    <id>https://hakunamatata052.github.io/2020/08/25/webpack/</id>
    <published>2020-08-25T06:14:00.000Z</published>
    <updated>2020-08-25T08:43:38.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="初始化npm"><a href="#初始化npm" class="headerlink" title="初始化npm"></a>初始化npm</h3><p>使用-y来快速创建<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure></p><h3 id="安装webpack和webpack-cli脚手架"><a href="#安装webpack和webpack-cli脚手架" class="headerlink" title="安装webpack和webpack-cli脚手架"></a>安装webpack和webpack-cli脚手架</h3><p>从webpack4.0开始，webpack打包工具和命令行工具就开成两个包了，需要同时安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack webpack-cli -D</span><br></pre></td></tr></table></figure></p><h3 id="创建工程目录"><a href="#创建工程目录" class="headerlink" title="创建工程目录"></a>创建工程目录</h3><p>新建src目录，之后写的js、html、css等源文件放在这里,在src目录下新建一个index.js作为入口文件<br><code>src/index.js</code>是webpack默认的入口文件目录，因为不需要单独配置，如果不想使用这个路径，需要在<code>webpack.config.js</code>中单独配置<br>此处目录结构应为</p><ul><li>node_modules</li><li>src<ul><li>index.js</li></ul></li><li>package.json</li></ul><h3 id="安装webpack-dev-server"><a href="#安装webpack-dev-server" class="headerlink" title="安装webpack-dev-server"></a>安装webpack-dev-server</h3><p>此时webpack只能每次执行打包命令后才能看到打包结果，开发过程中我们需要实时编译，因此需要一个本地服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack-dev-server -D</span><br></pre></td></tr></table></figure></p><h3 id="安装html-webpack-plugin插件"><a href="#安装html-webpack-plugin插件" class="headerlink" title="安装html-webpack-plugin插件"></a>安装html-webpack-plugin插件</h3><p>虽然现在可以试试打包js，但是我们的html依然不能进行热更新，而且打包上线时，打包的资源文件一般会进行哈希命名，每次打包手动修改index.html文件中的资源文件名着实很费劲<br>因此需要html-webpack-plugin插件帮我们自动完成资源引用并增加热更新功能<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i html-webpack-plugin -D</span><br></pre></td></tr></table></figure></p><p>安装好后在项目根目录下新建<code>webpack.config.js</code>文件，并设置html-webpack-plugin的对应html模板<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports =&#123;</span><br><span class="line">    plugins:[</span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            filename:<span class="string">'index.html'</span>,</span><br><span class="line">            template:<span class="string">"./src/index.html"</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在src下新建index.html文件<br>之后目录应为</p><ul><li>node_modules</li><li>src<ul><li>index.js</li><li>index.html</li></ul></li><li>package.json</li><li>webpack.config.js</li></ul><h3 id="新增命令行"><a href="#新增命令行" class="headerlink" title="新增命令行"></a>新增命令行</h3><p>在<code>package.json</code>的scripts中新增一个命令<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"dev"</span>:<span class="string">"webpack-dev-server --host 192.168.0.2 --hot --https --port 80 --open"</span>,</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">&#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><p>其中<br><code>--host 192.138.0.2</code>表示配置本地服务的ip<br><code>--hot</code>表示开启热更新模式<br><code>--https</code>表示开始https<br><code>--port 80</code>表示端口为80<br><code>--open</code>表示启动后自动打开游览器，后面可以跟游览器的标识，不写表示打开默认游览器<br>到此本地服务就搭建完毕了，接下来需要配置loader和打包选项，今天先更到这里</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;初始化npm&quot;&gt;&lt;a href=&quot;#初始化npm&quot; class=&quot;headerlink&quot; title=&quot;初始化npm&quot;&gt;&lt;/a&gt;初始化npm&lt;/h3&gt;&lt;p&gt;使用-y来快速创建&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;t
      
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="webpack" scheme="https://hakunamatata052.github.io/categories/JS/webpack/"/>
    
    
      <category term="webpack" scheme="https://hakunamatata052.github.io/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>Promise和async/await</title>
    <link href="https://hakunamatata052.github.io/2020/08/25/promise/"/>
    <id>https://hakunamatata052.github.io/2020/08/25/promise/</id>
    <published>2020-08-25T03:18:00.000Z</published>
    <updated>2021-03-12T03:42:42.664Z</updated>
    
    <content type="html"><![CDATA[<h3 id="为什么要用Promise"><a href="#为什么要用Promise" class="headerlink" title="为什么要用Promise"></a>为什么要用Promise</h3><p>一般情况我们一次性调用API就可以完成请求。<br>有些情况需要多次调用服务器API，就会形成一个链式调用，比如为了完成一个功能，我们需要调用API1、API2、API3，依次按照顺序进行调用，这个时候就会出现回调地狱的问题</p><h3 id="Promise的链式结构"><a href="#Promise的链式结构" class="headerlink" title="Promise的链式结构"></a>Promise的链式结构</h3><p>使用Promise可以做到链式结构，即一个请求结束后在then方法中执行下一个异步请求，再下一个异步请求放在上一个异步请求的then方法中,但是需要再每个then方法中return一个Promise对象<br>这样我们就得到了一个扁平的结构而不是回调套回调。<br>eg.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">        res()</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res2, rej2</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">            res2()</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res3, rej4</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">            res3()</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'结束'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><a id="more"></a><p>执行结果是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line">结束</span><br></pre></td></tr></table></figure></p><h3 id="使用all方法"><a href="#使用all方法" class="headerlink" title="使用all方法"></a>使用all方法</h3><p>但是通常在真是项目中，每个请求会有单独的方法封装，而且每个Promise会有独立的then方法，这时可以使用Promise对象的all方法<br>他表示无论三个异步请求谁先执行谁后执行，都等待三个异步请求全部结束后执行all中的函数。<br>如果后一个请求需要得到前一个请求中的数据，那么还是需要使用前面的链式结构才行。<br>如果既要使用已经封装好的Promise函数，有需要按步调用，可以使用ES7中的async/await<br>eg.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>)=&gt;</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">        res()</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>)=&gt;</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">        res()</span><br><span class="line">    &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> promise3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>)=&gt;</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">        res()</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Promise</span>.all([promise1, promise2, promise3]).then(<span class="function"><span class="params">()</span>=&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'结束'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>执行结果是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">结束</span><br></pre></td></tr></table></figure></p><h3 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h3><p>首先封装的方法需要return一个Promise对象，接着在请求的函数前面添加async关键字，在请求函数的内部使用变量或常量接受封装的Promise对象即可，但是封装的Promise对象前需要加await<br>这时接收到的结果就是Promise对象中then方法中return的结果<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            resolve(<span class="string">"666"</span>)</span><br><span class="line">        &#125;, <span class="number">5000</span>);</span><br><span class="line">    &#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">ajaxAsync</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">const</span> r = <span class="keyword">await</span> ajax()    </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(r)    </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line">ajaxAsync()</span><br></pre></td></tr></table></figure></p><p>执行结果是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span>  <span class="comment">// 5s后</span></span><br><span class="line"><span class="number">666</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;为什么要用Promise&quot;&gt;&lt;a href=&quot;#为什么要用Promise&quot; class=&quot;headerlink&quot; title=&quot;为什么要用Promise&quot;&gt;&lt;/a&gt;为什么要用Promise&lt;/h3&gt;&lt;p&gt;一般情况我们一次性调用API就可以完成请求。&lt;br&gt;有些情况需要多次调用服务器API，就会形成一个链式调用，比如为了完成一个功能，我们需要调用API1、API2、API3，依次按照顺序进行调用，这个时候就会出现回调地狱的问题&lt;/p&gt;
&lt;h3 id=&quot;Promise的链式结构&quot;&gt;&lt;a href=&quot;#Promise的链式结构&quot; class=&quot;headerlink&quot; title=&quot;Promise的链式结构&quot;&gt;&lt;/a&gt;Promise的链式结构&lt;/h3&gt;&lt;p&gt;使用Promise可以做到链式结构，即一个请求结束后在then方法中执行下一个异步请求，再下一个异步请求放在上一个异步请求的then方法中,但是需要再每个then方法中return一个Promise对象&lt;br&gt;这样我们就得到了一个扁平的结构而不是回调套回调。&lt;br&gt;eg.&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;res, rej&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    setTimeout(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        res()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;, &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;).then(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;res2, rej2&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setTimeout(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            res2()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;, &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;).then(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;res3, rej4&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setTimeout(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            res3()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;, &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;).then(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;结束&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
    
      <category term="Promise async/await async await 同步异步 异步" scheme="https://hakunamatata052.github.io/tags/Promise-async-await-async-await-%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5-%E5%BC%82%E6%AD%A5/"/>
    
  </entry>
  
  <entry>
    <title>Three.js 入门</title>
    <link href="https://hakunamatata052.github.io/2020/08/24/three.js/"/>
    <id>https://hakunamatata052.github.io/2020/08/24/three.js/</id>
    <published>2020-08-24T08:21:00.000Z</published>
    <updated>2020-08-26T07:39:40.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="安装three-js"><a href="#安装three-js" class="headerlink" title="安装three.js"></a>安装three.js</h3><p>使用npm安装three.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i three -S</span><br></pre></td></tr></table></figure></p><p>导入场景、相机、灯光、渲染器等类<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Scene, PerspectiveCamera, WebGLRenderer ,AmbientLight ,DirectionalLight&#125; <span class="keyword">from</span> <span class="string">"three"</span></span><br></pre></td></tr></table></figure></p><p>创建并暴露一个类，定义场景、相机、灯光等，并设置渲染的DOM容器</p><a id="more"></a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Three</span> </span>&#123;</span><br><span class="line">    private scene: Scene</span><br><span class="line">    private camera: PerspectiveCamera</span><br><span class="line">    private renderer: WebGLRenderer</span><br><span class="line">    private $<span class="built_in">window</span>: HTMLElement</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span> = <span class="built_in">document</span>.querySelector(<span class="string">"#app"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="创建场景"><a href="#创建场景" class="headerlink" title="创建场景"></a>创建场景</h3><p>初始化一个场景,这里我设置了一个私有方法，之后会在constructor中调用<br>scene.position.set可以设置场景在坐标系的位置<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建场景</span></span><br><span class="line">private initScene(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.scene = <span class="keyword">new</span> Scene();</span><br><span class="line">    <span class="keyword">this</span>.scene.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">this</span>.scene.lookAt(<span class="keyword">this</span>.scene.position);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="创建相机"><a href="#创建相机" class="headerlink" title="创建相机"></a>创建相机</h3><p>接着初始化相机,这里使用的是透视相机PerspectiveCamera，相机接受4个参数，分别是</p><ul><li>PerspectiveCamera(fov, aspect, near, far)</li><li>Fov – 相机的视锥体的垂直视野角</li><li>Aspect – 相机视锥体的长宽比</li><li>Near – 相机视锥体的近平面</li><li>Far – 相机视锥体的远平面<br>相机的位置可以使用camera.position.x，camera.position.y，camera.position.z进行赋值来改变<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建相机</span></span><br><span class="line">private initCamera(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.camera = <span class="keyword">new</span> PerspectiveCamera(</span><br><span class="line">        <span class="number">25</span>,</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth / <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight,</span><br><span class="line">        <span class="number">0.1</span>,</span><br><span class="line">        <span class="number">1000</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">this</span>.camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="创建光源"><a href="#创建光源" class="headerlink" title="创建光源"></a>创建光源</h3><p>接着初始化灯光,这里添加了两个灯光，一个环境光，一个平行光，可添加多个光源<br>灯光的构造函数中传入灯光颜色和透明度，颜色必须是0x+16进制色<br>环境光没有位置属性，平行光可以添加光源的位置，使用light.position.set来设置位置，传入三个参数分别是x坐标，y坐标，z坐标<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建光源</span></span><br><span class="line">private initLight(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="comment">// 环境光</span></span><br><span class="line">    <span class="keyword">this</span>.scene.add(<span class="keyword">new</span> AmbientLight(<span class="number">0xd29c96</span>, <span class="number">1</span>));</span><br><span class="line">    <span class="comment">// 平行光</span></span><br><span class="line">    <span class="keyword">let</span> light = <span class="keyword">new</span> DirectionalLight(<span class="number">0xffffff</span>, <span class="number">0.6</span>);</span><br><span class="line">    light.position.set(<span class="number">0</span>, <span class="number">10</span>, <span class="number">5</span>);</span><br><span class="line">    <span class="keyword">this</span>.scene.add(light);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="创建3D渲染器"><a href="#创建3D渲染器" class="headerlink" title="创建3D渲染器"></a>创建3D渲染器</h3><p>接着创建渲染器,使用three内置的WebGLRenderer渲染器来渲染，渲染器可以通过setSize方法设置大小，这里我们设置一个和画布一样大的渲染器，如果渲染尺寸小于画布大小，则超出渲染器大小的位置将不被渲染<br>使用setClearColor方法可以设置渲染区域的背景色<br>最后将渲染器的domElement属性appendChild进需要的DOM标签内即可<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建3D渲染器</span></span><br><span class="line">private initThree(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.renderer = <span class="keyword">new</span> WebGLRenderer();</span><br><span class="line">    <span class="keyword">this</span>.renderer.setSize(</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth,</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">this</span>.renderer.setClearColor(<span class="number">0xb34149</span>, <span class="number">1</span>); <span class="comment">//设置背景颜色</span></span><br><span class="line">    <span class="keyword">this</span>.$<span class="built_in">window</span>.appendChild(<span class="keyword">this</span>.renderer.domElement);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>接着将这些方法添加进constructor内，让实例创建时自动执行<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Three</span> </span>&#123;</span><br><span class="line">    private scene: Scene</span><br><span class="line">    private camera: PerspectiveCamera</span><br><span class="line">    private renderer: WebGLRenderer</span><br><span class="line">    private $<span class="built_in">window</span>: HTMLElement</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span> = <span class="built_in">document</span>.querySelector(<span class="string">"#app"</span>);        </span><br><span class="line">        <span class="keyword">this</span>.initScene();</span><br><span class="line">        <span class="keyword">this</span>.initThree();</span><br><span class="line">        <span class="keyword">this</span>.initCamera();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="开启控制器"><a href="#开启控制器" class="headerlink" title="开启控制器"></a>开启控制器</h3><p>接着使用renderer.render方法就可以渲染了，但是这样只能渲染一帧画面，我们需要做鼠标控制，或者3D动画是需要实时渲染的<br>例如加一个鼠标控制<br>首先导入控制器<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; OrbitControls &#125; <span class="keyword">from</span> <span class="string">'three/examples/jsm/controls/OrbitControls'</span>;</span><br></pre></td></tr></table></figure></p><p>接着初始化这个控制器，这里依然使用一个方法,然后添加进constructor<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 开启控制器</span></span><br><span class="line">private initControls(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.controls = <span class="keyword">new</span> OrbitControls(<span class="keyword">this</span>.camera, <span class="keyword">this</span>.renderer.domElement);</span><br><span class="line">    <span class="keyword">this</span>.controls.enableDamping = <span class="literal">true</span>; <span class="comment">// 惯性滑动，滑动大小默认0.25</span></span><br><span class="line">    <span class="keyword">this</span>.controls.dampingFactor = <span class="number">0.05</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// //控制</span></span><br><span class="line">    <span class="keyword">this</span>.controls.enableZoom = <span class="literal">false</span>; <span class="comment">// 缩放</span></span><br><span class="line">    <span class="keyword">this</span>.controls.enableKeys = <span class="literal">false</span>; <span class="comment">// 键盘</span></span><br><span class="line">    <span class="keyword">this</span>.controls.enablePan = <span class="literal">false</span>; <span class="comment">// 是否开启右键拖拽</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 旋转速度</span></span><br><span class="line">    <span class="keyword">this</span>.controls.rotateSpeed = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 自动旋转</span></span><br><span class="line">    <span class="keyword">this</span>.controls.autoRotate = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">this</span>.controls.autoRotateSpeed = <span class="number">-0.01</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置仰视角和俯视角,后续进行重置</span></span><br><span class="line">    <span class="keyword">this</span>.controls.maxPolarAngle = <span class="built_in">Math</span>.PI / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">this</span>.controls.minPolarAngle = <span class="built_in">Math</span>.PI / <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">this</span>.controls.zoomSpeed = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//设置相机距离原点的最远距离</span></span><br><span class="line">    <span class="comment">// controls.minDistance = 120;</span></span><br><span class="line">    <span class="comment">//设置相机距离原点的最远距离</span></span><br><span class="line">    <span class="comment">// controls.maxDistance = 120 + 120 * 0.5;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="渲染"><a href="#渲染" class="headerlink" title="渲染"></a>渲染</h3><p>这样添加的控制器虽然可以控制场景，但是画布不会重新渲染，所以我们需要添加一个渲染函数并且每次调用自身来更新画面<br>这里使用的是requestAnimationFrame函数来调用自身，也可以使用setInterval但是setInterval是固定时间渲染，如果场景过大，过复杂，可能时间到了还没渲染好又得渲染下一帧，这样会导致页面卡死<br>requestAnimationFrame没有固定时间，他会在当前帧渲染完毕后执行下一次，这样就不会导致页面卡死了<br>接着在render方法中使用controls.update()来更新每次的控制，使用renderer.render来更新画面<br>最后在constructor函数中调用render即可<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">private render(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.render());</span><br><span class="line">    <span class="keyword">this</span>.controls.update();</span><br><span class="line">    <span class="keyword">this</span>.renderer.render(<span class="keyword">this</span>.scene, <span class="keyword">this</span>.camera);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>最后在需要需要的地方导入并new Three()就可以了</p><h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><iframe src="/2020/08/24/three.js/three.html" width="600" height="600" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;安装three-js&quot;&gt;&lt;a href=&quot;#安装three-js&quot; class=&quot;headerlink&quot; title=&quot;安装three.js&quot;&gt;&lt;/a&gt;安装three.js&lt;/h3&gt;&lt;p&gt;使用npm安装three.js&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;npm i three -S&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;导入场景、相机、灯光、渲染器等类&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; Scene, PerspectiveCamera, WebGLRenderer ,AmbientLight ,DirectionalLight&amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;three&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;创建并暴露一个类，定义场景、相机、灯光等，并设置渲染的DOM容器&lt;/p&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="three.js" scheme="https://hakunamatata052.github.io/categories/JS/three-js/"/>
    
    
      <category term="three.js" scheme="https://hakunamatata052.github.io/tags/three-js/"/>
    
      <category term="threejs" scheme="https://hakunamatata052.github.io/tags/threejs/"/>
    
      <category term="three" scheme="https://hakunamatata052.github.io/tags/three/"/>
    
  </entry>
  
  <entry>
    <title>制作菱形图片遮罩</title>
    <link href="https://hakunamatata052.github.io/2019/03/01/mark/"/>
    <id>https://hakunamatata052.github.io/2019/03/01/mark/</id>
    <published>2019-03-01T02:56:52.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h1><p>使用box-shadow制作菱形遮罩</p><p>需要在原有结构内增加一个shaow遮罩层</p><h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"img"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://picsum.photos/300/300"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shadow"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>外层div设置相对定位position: relative;<br>将shadow层旋转45度，并设置阴影；<br>box-shadow中的值分别是：<br>box-shadow：水平位移 垂直位移 阴影宽度 模糊程度 颜色<br>这里水平和垂直位移这只为0，即从中间开始向四周出现阴影。 阴影宽度一定要宽于外框，模糊程度可以填0，即不模糊，颜色填白色。</p><h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shadow</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span> <span class="number">200px</span> <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><iframe src="/2019/03/01/mark/mark.html" width="600" height="600" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe><h1 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h1><p>使用两次旋转达到菱形效果</p><h3 id="HTML-1"><a href="#HTML-1" class="headerlink" title="HTML"></a>HTML</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"img"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://picsum.photos/300/300"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="CSS-1"><a href="#CSS-1" class="headerlink" title="CSS"></a>CSS</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.img</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">-o-transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.img</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">250px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">250px</span>;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">-o-transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="效果-1"><a href="#效果-1" class="headerlink" title="效果"></a>效果</h3><iframe src="/2019/03/01/mark/mark2.html" width="650" height="500" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;方法一&quot;&gt;&lt;a href=&quot;#方法一&quot; class=&quot;headerlink&quot; title=&quot;方法一&quot;&gt;&lt;/a&gt;方法一&lt;/h1&gt;&lt;p&gt;使用box-shadow制作菱形遮罩&lt;/p&gt;
&lt;p&gt;需要在原有结构内增加一个shaow遮罩层&lt;/p&gt;
&lt;h3 id=&quot;HTML&quot;&gt;&lt;a href=&quot;#HTML&quot; class=&quot;headerlink&quot; title=&quot;HTML&quot;&gt;&lt;/a&gt;HTML&lt;/h3&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;img&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;https://picsum.photos/300/300&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;shadow&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="CSS" scheme="https://hakunamatata052.github.io/categories/CSS/"/>
    
    
      <category term="CSS CSS3" scheme="https://hakunamatata052.github.io/tags/CSS-CSS3/"/>
    
  </entry>
  
  <entry>
    <title>科学上网（翻墙）神器【蓝灯】</title>
    <link href="https://hakunamatata052.github.io/2019/01/21/lantern/"/>
    <id>https://hakunamatata052.github.io/2019/01/21/lantern/</id>
    <published>2019-01-21T01:08:46.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>给大家介绍一款免费限制流量的科学上网神器<strong>蓝灯lantren</strong><br>下载地址：<a href="https://github.com/HakunaMatata052/lantern-binaries" target="_blank" rel="noopener">Github</a><br>里面包含Windows，Android，macOS三个版本。<br>点击对应拓展名文件进入下载即可<br><a id="more"></a></p><h2 id="以Windows为例"><a href="#以Windows为例" class="headerlink" title="以Windows为例"></a>以Windows为例</h2><p>点击3.0最新版的exe文件<br><img src="/2019/01/21/lantern/01.png"></p><p>点击download下载<br></p><p>下载先来后双击安装即可。<br><img src="/2019/01/21/lantern/03.jpg"><br>速度还可以~~</p><p>每个月有500MB的免费流量，可以升级到专业版，不限制流量。<br>博主500MB基本足够。<br>而且他采用的是只能切换线路，如果访问的是国内站点，是不通过VPN的，也不会消耗流量。只有当你访问被墙网站的时候才会切换vpn线路。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;给大家介绍一款免费限制流量的科学上网神器&lt;strong&gt;蓝灯lantren&lt;/strong&gt;&lt;br&gt;下载地址：&lt;a href=&quot;https://github.com/HakunaMatata052/lantern-binaries&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Github&lt;/a&gt;&lt;br&gt;里面包含Windows，Android，macOS三个版本。&lt;br&gt;点击对应拓展名文件进入下载即可&lt;br&gt;
    
    </summary>
    
    
      <category term="科学上网" scheme="https://hakunamatata052.github.io/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
      <category term="翻墙" scheme="https://hakunamatata052.github.io/tags/%E7%BF%BB%E5%A2%99/"/>
    
  </entry>
  
  <entry>
    <title>一句代码解决bootstrap栅格几个设置5等分</title>
    <link href="https://hakunamatata052.github.io/2019/01/04/bootstrap-offset/"/>
    <id>https://hakunamatata052.github.io/2019/01/04/bootstrap-offset/</id>
    <published>2019-01-04T07:45:01.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>HTML<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"col-xs-offset-1 col-xs-2 text-center"</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"col-xs-2 text-center"</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"col-xs-2 text-center"</span>&gt;</span>番茄<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"col-xs-2 text-center"</span>&gt;</span>石榴<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"col-xs-2 text-center"</span>&gt;</span>芒果<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>正常设置每个栅格2等分，最后会在末尾空余出2等分（共12等分），然后第一个栅格设置col-xs-offset-1，意思是偏移一格，等于把最后的2等分其中一份放在最前面了。<br>这样做可以解决bootstrap栅格5等分的问题，但是最终宽度会比正常窄，可以单独设置container的宽来解决。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;HTML&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;
      
    
    </summary>
    
      <category term="HTML" scheme="https://hakunamatata052.github.io/categories/HTML/"/>
    
      <category term="BOOTSTRAP" scheme="https://hakunamatata052.github.io/categories/HTML/BOOTSTRAP/"/>
    
    
      <category term="bootstrap" scheme="https://hakunamatata052.github.io/tags/bootstrap/"/>
    
      <category term="offset" scheme="https://hakunamatata052.github.io/tags/offset/"/>
    
  </entry>
  
  <entry>
    <title>This is dobby!</title>
    <link href="https://hakunamatata052.github.io/2019/01/03/dobby/"/>
    <id>https://hakunamatata052.github.io/2019/01/03/dobby/</id>
    <published>2019-01-03T09:22:09.000Z</published>
    <updated>2020-08-26T07:38:04.000Z</updated>
    
    <content type="html"><![CDATA[<p><video src="/2019/01/03/dobby/3bc53ac5ca4fde47810af8abb0c0a601.mp4" controls style="display:block;margin:auto"></video><br>这就是Dobby Orz.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;video src=&quot;/2019/01/03/dobby/3bc53ac5ca4fde47810af8abb0c0a601.mp4&quot; controls style=&quot;display:block;margin:auto&quot;&gt;&lt;/video&gt;&lt;br&gt;这就是Dobby Orz.&lt;
      
    
    </summary>
    
      <category term="日常" scheme="https://hakunamatata052.github.io/categories/%E6%97%A5%E5%B8%B8/"/>
    
    
  </entry>
  
  <entry>
    <title>如何使用fonts.googleapis.com使自己的网站增加更多字体</title>
    <link href="https://hakunamatata052.github.io/2019/01/02/fonts-googleapis/"/>
    <id>https://hakunamatata052.github.io/2019/01/02/fonts-googleapis/</id>
    <published>2019-01-02T09:04:17.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先，fonts.googleapis.com解决的是客户端电脑没有安装字体，但是网站主又想客户看到自己想要的字体，通常的做法就是网站的css调用网站内部的字体文件，但是这样做非常不灵活，我们需要更换字体时，不然需要修改css，还需要替换字体文件，于是fonts.googleapis.com就可以解决这个问题。<br><a id="more"></a></p><h1 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h1><p>CSS引入<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;subset=latin,latin-ext"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>链接的具体构成就是：<br>fonts.googleapis.com/css?family=<strong>字体名称</strong>:<strong>加粗程度</strong>,<strong>加粗程度+是否斜体</strong>&amp;subset=latin,latin-ext<br>其中如果需要多种字体用  <strong>|</strong>  隔开，如果有多种加粗程度<br>最后在需要使用的元素上加入font-family属性即可<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'Monda'</span>, <span class="string">'PT Mono'</span> , serif;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">48px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>fonts.googleapis.com还有一种ajax请求方式，这里不推荐使用，css是最快也最容易维护的方式。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先，fonts.googleapis.com解决的是客户端电脑没有安装字体，但是网站主又想客户看到自己想要的字体，通常的做法就是网站的css调用网站内部的字体文件，但是这样做非常不灵活，我们需要更换字体时，不然需要修改css，还需要替换字体文件，于是fonts.googleapis.com就可以解决这个问题。&lt;br&gt;
    
    </summary>
    
      <category term="HTML" scheme="https://hakunamatata052.github.io/categories/HTML/"/>
    
    
      <category term="googleapis" scheme="https://hakunamatata052.github.io/tags/googleapis/"/>
    
      <category term="字体" scheme="https://hakunamatata052.github.io/tags/%E5%AD%97%E4%BD%93/"/>
    
  </entry>
  
  <entry>
    <title>Hexo添加置顶功能和标识</title>
    <link href="https://hakunamatata052.github.io/2018/12/29/hexo-top/"/>
    <id>https://hakunamatata052.github.io/2018/12/29/hexo-top/</id>
    <published>2018-12-29T09:29:09.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先看下效果<br><img src="https://i.loli.net/2018/12/29/5c273ed38214d.png" alt="效果图"><br><a id="more"></a></p><h2 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h2><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm uninstall hexo-generator-index --save</span><br><span class="line">$ npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure><h3 id="新建-修改-文章"><a href="#新建-修改-文章" class="headerlink" title="新建/修改 文章"></a>新建/修改 文章</h3><p>新建或修改文章时在文章<strong>Front-matter</strong>中加入<strong>top: true</strong>即可<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 无JS实现在线客服的切换效果</span><br><span class="line">date: 2018-12-20 15:05:17</span><br><span class="line">tags:</span><br><span class="line">    - css</span><br><span class="line">    - css3</span><br><span class="line">categories: CSS</span><br><span class="line">top: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><blockquote><p>到此为止，文章的置顶功能就实现了,但是我们还需要给置顶的文章加个标识，如<br><img src="https://i.loli.net/2018/12/29/5c2740bd13582.png" alt><br>So，我们需要加一个图标或者文字标签<br>这里我做了一个简单的，你可以修改一下，做一个好看的图标</p></blockquote><h3 id="添加标识"><a href="#添加标识" class="headerlink" title="添加标识"></a>添加标识</h3><p>如果你使用的是<strong>next</strong>的主题，打开目录<strong>themes/next/layout/_macro</strong>，找到文件post.swig，搜索<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;/&#123;% if theme.seo %&#125;h2&#123;% else %&#125;h1&#123;% endif %&#125;&gt;</span><br></pre></td></tr></table></figure></p><p>大概在65行，在他上面添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if post.top %&#125;</span><br><span class="line">    &lt;span style=&quot;color:#f00;border:1px solid #f00;padding:2px 5px;font-size:12px;&quot;&gt;置顶&lt;/span&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p><p>这是你会发现标识出现了，但是高度有些错位，在<strong>themes/next/source/_custom</strong>中找到<strong>custom.styl</strong>文件，添加一行<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-title</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>:<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>这时你就可以看到具体的效果了</p><blockquote><p>当然你可以添加更好看的图标，只需要修改HTML和CSS即可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先看下效果&lt;br&gt;&lt;img src=&quot;https://i.loli.net/2018/12/29/5c273ed38214d.png&quot; alt=&quot;效果图&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="hexo" scheme="https://hakunamatata052.github.io/categories/hexo/"/>
    
    
      <category term="Hexo" scheme="https://hakunamatata052.github.io/tags/Hexo/"/>
    
      <category term="next" scheme="https://hakunamatata052.github.io/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>利用iconfont.cn快速制作前端图标</title>
    <link href="https://hakunamatata052.github.io/2018/12/22/iconfont/"/>
    <id>https://hakunamatata052.github.io/2018/12/22/iconfont/</id>
    <published>2018-12-22T02:28:36.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>以前不会用iconfont.cn的时候，只知道这是个图标库，可以吧图片下载下来，然后制作成图片，在写入HTML。<br>其实没有这么麻烦，iconfont支持三种图片引入方式——Unicode，字体，svg</p></blockquote><a id="more"></a><h2 id="注册账号"><a href="#注册账号" class="headerlink" title="注册账号"></a>注册账号</h2><p>首先登录<a href="https://iconfont.cn" target="_blank" rel="noopener">iconfont</a> 这里我使用的是Github账号直接登录，你可以使用微博账号登录<br><img src="/2018/12/22/iconfont/01.jpg"></p><h2 id="搜索图标"><a href="#搜索图标" class="headerlink" title="搜索图标"></a>搜索图标</h2><p>然后再首页搜索你需要的图标，可以使用中文搜索（建议英文）<br><img src="/2018/12/22/iconfont/02.jpg"></p><p>找到想要的图标之后不要点击下载按钮，要点击购物车按钮，这样才能将多个图片集合到一个项目里<br><img src="/2018/12/22/iconfont/03.jpg"></p><p>通常一个项目或网站肯定不止一个图，这时你可以继续搜素其他图标并加入购物车<br>当你需要将所有图标制作成网站需要的字体文件或者svg文件引入时，点击右上角的购物车按钮<br><img src="/2018/12/22/iconfont/04.jpg"></p><p>这里的三个选项分别是：<br><img src="/2018/12/22/iconfont/05.jpg"></p><table><thead><tr><th>名称</th><th style="text-align:center">解释</th></tr></thead><tbody><tr><td>添加至项目</td><td style="text-align:center">添加到新建或已有的项目（后期可继续添加图标）</td></tr><tr><td>下载素材</td><td style="text-align:center">下载购物车里的图标素材，最后可以下载AI，SVG,PNG格式的图片文件</td></tr><tr><td>下载代码</td><td style="text-align:center">下载生成的引入文件 包含CSS，font，svg等，与添加项目类似，但是后期无法继续添加图标</td></tr></tbody></table><p>这里为了后期能够继续增加或删除图标，我们尽量选择添加至项目，如果没有项目，他会提示你新建项目，根据提示操作就好，这里不再赘述。</p><h2 id="引用图标"><a href="#引用图标" class="headerlink" title="引用图标"></a>引用图标</h2><p>制作好的图标可以在我的项目中看到,可以选择引用iconfont的远程地址（CDN方式），也可以下载到本地引入，如果是使用CDN方式，需要依次点击查看在线链接–生成链接<br><img src="/2018/12/22/iconfont/06.jpg"></p><h3 id="Unicode方式"><a href="#Unicode方式" class="headerlink" title="Unicode方式"></a>Unicode方式</h3><p>需要在你的css中加入上面的代码<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'iconfont'</span>;  <span class="comment">/* project id 978636 */</span></span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_978636_9jco6oz9c8i.eot'</span>);</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_978636_9jco6oz9c8i.eot?#iefix'</span>) <span class="built_in">format</span>(<span class="string">'embedded-opentype'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_978636_9jco6oz9c8i.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_978636_9jco6oz9c8i.ttf'</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_978636_9jco6oz9c8i.svg#iconfont'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>如果某个地方需要使用图标，HTML和CSS分别是这样</p><h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"dome"</span>&gt;</span></span><br><span class="line">    <span class="symbol">&amp;#xe654;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="css"><a href="#css" class="headerlink" title="css"></a>css</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.dome</span>&#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'iconfont'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里的&amp; # x e 6 5 4;就是图标对应代码<br><img src="/2018/12/22/iconfont/07.jpg"></p><h3 id="Font-class"><a href="#Font-class" class="headerlink" title="Font class"></a>Font class</h3><p>font class是一个链接，需要用link引入</p><h4 id="html"><a href="#html" class="headerlink" title="html"></a>html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"//at.alicdn.com/t/font_978636_9jco6oz9c8i.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"dome"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="css-1"><a href="#css-1" class="headerlink" title="css"></a>css</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.dome</span>&#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'iconfont'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="symbol引用"><a href="#symbol引用" class="headerlink" title="symbol引用"></a>symbol引用</h3><p>拷贝项目下面生成的symbol代码：</p><h4 id="HTML-1"><a href="#HTML-1" class="headerlink" title="HTML"></a>HTML</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//at.alicdn.com/t/font_8d5l8fzk5b87iudi.js</span><br></pre></td></tr></table></figure><p>加入通用css代码：</p><h4 id="css-2"><a href="#css-2" class="headerlink" title="css"></a>css</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icon</span> &#123;</span><br><span class="line">       <span class="attribute">width</span>: <span class="number">1em</span>; <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">       <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">       <span class="attribute">fill</span>: currentColor;</span><br><span class="line">       <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>挑选相应图标并获取类名，应用于页面</p><h4 id="html-1"><a href="#html-1" class="headerlink" title="html"></a>html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">"icon"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">"#icon-xxx"</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这里的#icon-XXX对应图标代码 如icon-menu</p><blockquote><p>最后，墙裂建议使用Font class方式引入，兼容度最高，图标大小可以通过font-size控制，颜色可以通过color控制，很方便。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;以前不会用iconfont.cn的时候，只知道这是个图标库，可以吧图片下载下来，然后制作成图片，在写入HTML。&lt;br&gt;其实没有这么麻烦，iconfont支持三种图片引入方式——Unicode，字体，svg&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="HTML" scheme="https://hakunamatata052.github.io/categories/HTML/"/>
    
    
      <category term="inconfont" scheme="https://hakunamatata052.github.io/tags/inconfont/"/>
    
      <category term="图标" scheme="https://hakunamatata052.github.io/tags/%E5%9B%BE%E6%A0%87/"/>
    
  </entry>
  
  <entry>
    <title>利用Github上传并引用video资源</title>
    <link href="https://hakunamatata052.github.io/2018/12/21/github-video/"/>
    <id>https://hakunamatata052.github.io/2018/12/21/github-video/</id>
    <published>2018-12-21T07:56:58.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>很多网站都有背景视频的元素，利用的是【HTML5】的新特性————【video】标签<br>例如：<a href="http://www.hearttrip.net/tourlist.html" target="_blank" rel="noopener">点击打开</a> 里面的banner背景，就是一个视频</p></blockquote><a id="more"></a><p>具体代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"video.mp4"</span> <span class="attr">controls</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">您的浏览器不支持 video 标签。</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>但是对于很多服务器来说，视频太站资源，太耗流量，但是将视频上传到优酷、腾讯视频上又无法获得视频真实地址（video标签中的视频必须是视频的物理地址，即必须以.mp4等的拓展名结束的地址），而且还有广告<br>这里推荐一个简单的方法：</p><blockquote><p>使用GitHub等git托管网站上传视频</p></blockquote><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><h3 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h3><p>首先注册一个GitHub账号 <a href="https://github.com/" target="_blank" rel="noopener">点我注册</a><br><img src="/2018/12/21/github-video/01.jpg"></p><h3 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h3><p>点击New新建一个项目，名称可以随便取，但是不能写中文,填写好后点击【Create repository】</p><blockquote><p>需要注意的是 必须选中Initialize this repository with a README这个选项，否则你需要安装git使用指令将视频传上去。</p></blockquote><img src="/2018/12/21/github-video/02.jpg"><img src="/2018/12/21/github-video/03.jpg"><h3 id="上传视频"><a href="#上传视频" class="headerlink" title="上传视频"></a>上传视频</h3><p>新建号项目你将看到这样的界面，点击【Upload files】上传你的视频就可以，最后上传完了之后点击【Commit changes】<br><img src="/2018/12/21/github-video/04.jpg"><br><img src="/2018/12/21/github-video/05.jpg"></p><h3 id="引用视频"><a href="#引用视频" class="headerlink" title="引用视频"></a>引用视频</h3><p>上传完毕后就能在项目中看到你的视频，点击视频后再复制【View Raw】的连接就可以获得视频的真实地址了，例如我的连接是：<a href="https://github.com/HakunaMatata052/video/blob/master/a.mp4?raw=true" target="_blank" rel="noopener">https://github.com/HakunaMatata052/video/blob/master/a.mp4?raw=true</a><br>注意：视频最后的 ?raw=true 不能删除，否则视频无法播放<br><img src="/2018/12/21/github-video/06.jpg"></p><p>最后放在代码里看一下<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"https://github.com/HakunaMatata052/video/blob/master/a.mp4?raw=true"</span> <span class="attr">controls</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">您的浏览器不支持 video 标签。</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>效果：</p><video src="https://github.com/HakunaMatata052/video/blob/master/a.mp4?raw=true" controls="controls" autoplay="autoplay"><br>您的浏览器不支持 video 标签。<br></video><blockquote><p>如果想让视频当背景用的话，需要设video为自动播放，可以设置autoplay=”autoplay”具体代码如下</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"https://github.com/HakunaMatata052/video/blob/master/a.mp4?raw=true"</span> <span class="attr">controls</span>=<span class="string">"controls"</span>  <span class="attr">autoplay</span>=<span class="string">"autoplay"</span>&gt;</span></span><br><span class="line">您的浏览器不支持 video 标签。</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果需要隐藏播放控件可以去掉 controls=”controls” ，也可以使用css<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">video</span><span class="selector-pseudo">::-webkit-media-controls</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>:none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;很多网站都有背景视频的元素，利用的是【HTML5】的新特性————【video】标签&lt;br&gt;例如：&lt;a href=&quot;http://www.hearttrip.net/tourlist.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;点击打开&lt;/a&gt; 里面的banner背景，就是一个视频&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="HTML" scheme="https://hakunamatata052.github.io/categories/HTML/"/>
    
    
      <category term="github" scheme="https://hakunamatata052.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>Vue全局公用函数</title>
    <link href="https://hakunamatata052.github.io/2018/12/21/vue-global-function/"/>
    <id>https://hakunamatata052.github.io/2018/12/21/vue-global-function/</id>
    <published>2018-12-21T03:00:29.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>经常在做项目的时候会遇到一个函数在很多组件和页面中调用，如计算时间差，刷新token等操作，这时就需要定义一个全局都能调用的函数</p></blockquote><a id="more"></a><h2 id="新建js文件"><a href="#新建js文件" class="headerlink" title="新建js文件"></a>新建js文件</h2><p>可以放在src的utils文件中，命名index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">exports.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123;</span><br><span class="line">    Vue.prototype.changeData = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">'执行成功'</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h2><p>在需要调用函数的组件内引入Vue和该函数文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>               <span class="comment">//引入Vue</span></span><br><span class="line"><span class="keyword">import</span> base <span class="keyword">from</span> <span class="string">'../../utils'</span>      <span class="comment">//引入新建的公用函数js</span></span><br><span class="line">Vue.use(base);                      <span class="comment">//使用新建的公用函数js</span></span><br></pre></td></tr></table></figure><blockquote><p>如果需要全局引用，则将调用函数写在main.js中即可</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;经常在做项目的时候会遇到一个函数在很多组件和页面中调用，如计算时间差，刷新token等操作，这时就需要定义一个全局都能调用的函数&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="VUE" scheme="https://hakunamatata052.github.io/categories/JS/VUE/"/>
    
    
      <category term="vue" scheme="https://hakunamatata052.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>无JS实现在线客服的切换效果</title>
    <link href="https://hakunamatata052.github.io/2018/12/20/nojs-toggle/"/>
    <id>https://hakunamatata052.github.io/2018/12/20/nojs-toggle/</id>
    <published>2018-12-20T07:05:17.000Z</published>
    <updated>2020-08-25T06:12:08.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先可以看下效果<br><a href="http://www.lofly.cn/" target="_blank" rel="noopener">点我查看</a></p><p>这里利用HTML的 【checkbox】类型的【input】和【label】元素的【for】属性<br>和CSS的【:checked】选择器以及【~】选择器</p><p>主要的原理是点击【label】使【label】的【for】属性指定id【input】改变选中状态（【:checked】），<br>【input】选中状态改变后，使用css改变【input】后面的元素的显示或隐藏（或定位）。</p><a id="more"></a><h1 id="首先你必须知道元素的for属性可以控制【checkbox】类型的【input】"><a href="#首先你必须知道元素的for属性可以控制【checkbox】类型的【input】" class="headerlink" title="首先你必须知道元素的for属性可以控制【checkbox】类型的【input】"></a>首先你必须知道<label>元素的for属性可以控制【checkbox】类型的【input】</label></h1><blockquote><p>例如：</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"dome"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"dome"</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>效果:</p></blockquote><iframe src="/2018/12/20/nojs-toggle/01.html" width="600" height="100" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe><h1 id="然后利用CSS的-选择器-设置input被选中后紧跟的元素的样式"><a href="#然后利用CSS的-选择器-设置input被选中后紧跟的元素的样式" class="headerlink" title="然后利用CSS的 ~ 选择器 设置input被选中后紧跟的元素的样式"></a>然后利用CSS的 ~ 选择器 设置input被选中后紧跟的元素的样式</h1><blockquote><p>多提一句<br>~ 选择器表示元素后的同胞元素<br>如：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>~<span class="selector-tag">ul</span>&#123;</span><br><span class="line">　　<span class="attribute">background</span>:<span class="number">#ff0000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>快乐生活<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">li</span>&gt;</span>生活<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">li</span>&gt;</span>生活<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">li</span>&gt;</span>生活<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>会给p元素后所有的ul元素加背景</p><p>那么我们需要做的就是为input后的元素做隐藏显示（或改变定位）<br>如何判断需要显示还是隐藏呢？<br>需要用到input的checked属性</p><blockquote><p>如果需要改变默认状态可以给input加checked=”checked”</p></blockquote><h1 id="最后具体代码如下"><a href="#最后具体代码如下" class="headerlink" title="最后具体代码如下"></a>最后具体代码如下</h1><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"dome"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"toggle"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"open"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"toggle"</span>&gt;</span>关闭<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        打开以后你看到的</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"close"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"toggle"</span>&gt;</span>打开<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        关闭以后你看到的</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#toggle</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#toggle</span>~<span class="selector-class">.open</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#toggle</span>~<span class="selector-class">.close</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#toggle</span><span class="selector-pseudo">:checked</span>~<span class="selector-class">.open</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#toggle</span><span class="selector-pseudo">:checked</span>~<span class="selector-class">.close</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>效果：</p></blockquote><iframe src="/2018/12/20/nojs-toggle/02.html" width="600" height="500" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先可以看下效果&lt;br&gt;&lt;a href=&quot;http://www.lofly.cn/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;点我查看&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这里利用HTML的 【checkbox】类型的【input】和【label】元素的【for】属性&lt;br&gt;和CSS的【:checked】选择器以及【~】选择器&lt;/p&gt;
&lt;p&gt;主要的原理是点击【label】使【label】的【for】属性指定id【input】改变选中状态（【:checked】），&lt;br&gt;【input】选中状态改变后，使用css改变【input】后面的元素的显示或隐藏（或定位）。&lt;/p&gt;
    
    </summary>
    
      <category term="CSS" scheme="https://hakunamatata052.github.io/categories/CSS/"/>
    
    
      <category term="css3" scheme="https://hakunamatata052.github.io/tags/css3/"/>
    
      <category term="css" scheme="https://hakunamatata052.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>javascript思维导图</title>
    <link href="https://hakunamatata052.github.io/2018/12/20/js-mind-map/"/>
    <id>https://hakunamatata052.github.io/2018/12/20/js-mind-map/</id>
    <published>2018-12-20T00:40:43.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>下面附上十张javascript思维导图，如果把里面的内容全部掌握，那就是高手了。思维导图提供给我们一个整体的知识体系，也可以说是一种工具，废话不多说，上图：<br><a id="more"></a></p><h2 id="javascript数据类型"><a href="#javascript数据类型" class="headerlink" title="javascript数据类型"></a>javascript数据类型</h2><img src="/2018/12/20/js-mind-map/01.gif"><h2 id="javascript数组"><a href="#javascript数组" class="headerlink" title="javascript数组"></a>javascript数组</h2><img src="/2018/12/20/js-mind-map/02.gif"><h2 id="javascript运算符"><a href="#javascript运算符" class="headerlink" title="javascript运算符"></a>javascript运算符</h2><img src="/2018/12/20/js-mind-map/03.gif"><h2 id="javascript正则表达式"><a href="#javascript正则表达式" class="headerlink" title="javascript正则表达式"></a>javascript正则表达式</h2><img src="/2018/12/20/js-mind-map/04.gif"><h2 id="javascript字符串函数"><a href="#javascript字符串函数" class="headerlink" title="javascript字符串函数"></a>javascript字符串函数</h2><img src="/2018/12/20/js-mind-map/05.gif"><h2 id="window对象"><a href="#window对象" class="headerlink" title="window对象"></a>window对象</h2><img src="/2018/12/20/js-mind-map/06.gif"><h2 id="DOM基本操作"><a href="#DOM基本操作" class="headerlink" title="DOM基本操作"></a>DOM基本操作</h2><img src="/2018/12/20/js-mind-map/07.gif"><h2 id="javascript变量"><a href="#javascript变量" class="headerlink" title="javascript变量"></a>javascript变量</h2><img src="/2018/12/20/js-mind-map/08.gif"><h2 id="javascript函数基础"><a href="#javascript函数基础" class="headerlink" title="javascript函数基础"></a>javascript函数基础</h2><img src="/2018/12/20/js-mind-map/09.gif"><h2 id="javascript流程控制"><a href="#javascript流程控制" class="headerlink" title="javascript流程控制"></a>javascript流程控制</h2><img src="/2018/12/20/js-mind-map/10.gif"><blockquote><p>本文转自<a href="https://www.cnblogs.com/xianyulaodi/p/5886128.html" target="_blank" rel="noopener">咸鱼老弟https://www.cnblogs.com/xianyulaodi/p/5886128.html</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;下面附上十张javascript思维导图，如果把里面的内容全部掌握，那就是高手了。思维导图提供给我们一个整体的知识体系，也可以说是一种工具，废话不多说，上图：&lt;br&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
    
      <category term="js" scheme="https://hakunamatata052.github.io/tags/js/"/>
    
      <category term="javascript" scheme="https://hakunamatata052.github.io/tags/javascript/"/>
    
  </entry>
  
</feed>
