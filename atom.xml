<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Dobby</title>
  
  <subtitle>Dobby is a free elf!</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://hakunamatata052.github.io/"/>
  <updated>2021-04-16T07:16:57.669Z</updated>
  <id>https://hakunamatata052.github.io/</id>
  
  <author>
    <name>Hakunamatata</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ACT常用开发套路</title>
    <link href="https://hakunamatata052.github.io/2021/04/16/ulink/"/>
    <id>https://hakunamatata052.github.io/2021/04/16/ulink/</id>
    <published>2021-04-16T06:13:00.000Z</published>
    <updated>2021-04-16T07:16:57.669Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="bce0989c68bbe32054167dd53b556090ae13d8d2b2144451928c7d567a2ba477">1a025ead7a8c78ef8c16dfac148f767a2a97cf95de574d59133935e779f2b8623b264d897941efc83f35e6cb20adc3eeae9c6ddc0c41c92d928723e068361ee8ccbabf805fbb387a227bee78b70dcc3f1d5ece8e78747210a8d09a05e60db14a8d8f6a3b7cdb11e211d91f83012cc56d7669b27f3476871a537d61e3d62b89eab1953a65d40a5ba3d04bed7a44b60dbf78d3da38b5dc7326a40a64153a70b13cd419d80bb1ecc1d69ef5955b635664bd1da3cffb6dfa25122bdde2edfbc8a1c18d6fa37a127116610f0d1c2d2e90a687b55b82aa533353ee4dac883ff471f7bde10b9c86d88d48853d08cf97e172bfaa156fe720980ffe02202fb3e593060828b87dc76813203fc84555573bba2a9edd1180879d060ee19772d21229c00b3968857d552d01747c4cc113e46024102ed62ed6cbab3ea6f7791834050628fa39e8d2740621fc94871cd43b65f54c31d45c01b2161bc18ea1c06856cfae4b0c8b4e89e0fcf52bbf70036fcd835a5314e2a6a0e7e57e9bc0b949030eda4162c0595839744b2d01b129f2dc5c82c97e1a2367c2b02905e6a27f0196301cfd732ce32d9d354c534668774e1f074ba6b42d4c0118b6852a23f823f0d01e3d980d61aaa3ba117a4e81b3a434f6f362881678f8fad6e096d48e288646015d7e9c1331f30fd07b26fbd8b64e7a3c2c303f16d31d187e6433c958663cd41fb74236929ef0186cedaea2d9a3955dd99c87ab9b280e6842cae7506908bdd6efc71cf2d2a09d4603726e45dac333a0b6f8567b198a9293c063b8e79b6cede88f56ec9dccb112f472fb40e1b8601819c2e62a48b921354fadc8014ddef96aea5d241d80e8de56462aafd4f9da46165ebef566aa98e7a7ac39496879aa39b1be4c3728f034f5cd881694ddb5c4116795860d8f016a66bbbd71adfad31b87d6597d5c5eb6f9580fe0ae5366bc52b62721186fddbb80bb2cd56a0b121713cf4d88824e19a1da15ebc88f054c2961d889982c24667cf0dad7271e0018c7e1d23a22c5178e5e6503de364d91f78f9a1cadf3ed7bd6d824c95733ecc26f67e7cf3eea0b475b053c9c2af6e468b495fcfed3c534259c64ec6ab594451fc450931a47ee4d51b8ad247e977ebb458bec1c052b3d94e87f32b2a1f994324efdf3726291b0c6cbb9332bfcd342518a38e85ed9f9d2b71da861fe3e16f11dc34730d89004bea0170a70cf2bdc6a67e8f87aa7d003158ee844269d892f02d00d2892ec5eb5b3840d06b7702a04d599ffbffb92d3e47ecc6e4cdf6751f98b98cc28215c421c66b04730c80fda7f7684dbbcb85fff4303c0ea92ca822f78083531b260b2fdcfcf40eae3d2b71a2de1cd3219e627c094f57929cda5b62d155b2bc43e262315faed5cf497f7d9f08c998023e00e35fd8f6a7ea3dbfc01d8b1febbc629afc8260b7f995a988681c4ab212a687b6b92a20d7c741b4099dbd21cacba039224078b72074e31d692503149cdae2974da6d0ded3eebbccf504dbfd139d313e4c8e1a29b78d430bfc3db8503474154a32c61305372719a4f67a9247fcf25cbc6a373902f0a320523aff818c179e3fcfe157ed1f11dd6464a4d2c76de86450529dc53b6cd9c8a7103a4229cbf8be12e5c99fb2dc126c955dd2d14037c6d023de11fca7da21d632d4e7e5fe400227318aee93d085c475437b038c804ac420f46afcc2e1986cec4fccb1fb425998c37b8f94c3fa37b92a10a84e039acd2a99e8d56d67749759ccfe0be7df8bbcb04751d5045cd97f9b012f15f198cf16f5edce71ffe3fef1eebadacef8055e25632724f734a43f8b856bc984331b4a6c637b14edd437ee810ececc1480a296d0735d285a8d9fa9f6c6e747ce5a6f4a5e4f8e080ecf842fbbd0c5323fcad1774396366f18d98b4cd47ef64c17cf074ee816d3aea9dd5f24299541d91163cafda1b3e0cdbcac1ab76d9a9b92d393b1d9d05ebbfe43b32270552babe9916d41f5d5052c5b808e507deffecb8288fb681e0185ed3e0ec2eba3cfd2289c30e06c302e62f51555933f0e5dd560a5771b1c4104d139eea9a37a0dc7e92da7214cf789a85cc9de7aae6079cfb78170f4d0913d46e0b192046660288842cac0a97c7a337337d126409861c3ccf5c0fda624314a6cded23d1e398462b24f4b9c970f984d38c0da910a370937a29582b9447bdff56d31786b6829cad2ee062f6b7f86eba53676ee8664e9d66c700fa0f94028d6ca71578f1dcc3c3ac5bd0f40d05764ad5226a01471361dd3023dc82b6b9b061471a78b43f6c49dd9ec2271adee3693e7006e88067a1560b61ba8fdbfc674b4f69bd449c9f4bd2a34c9ebb5b64f273169044693b35d51b8a2e70331e4ac15aa89f31bf46096ddcc4a4928ac6197e160f6e47eaceae8bb56c5df6a75f7ecf14a51373b50a616834b29d40b181f5ce0296d8a16b8a7ed5ea0a8c0947f93bf61bfbdb3ba5d7d1f47f1f4530374f61d88fd3417bd84e79482904786514e934c0b10311c1c0e1f444b5ebc7db34e5e8cbeafeca67143634770357781e2131e7d7dbad9198c4b7d1252d3fe66d7f92cb71c30318159dc759f1cfbbc5e5737cef0c3d3ed55d593effd89aada14d2fde30ed2d8d2d05720fbe259844bc9136259c3125d0e07a3b44dabc5ad746682b0e660de2b3191d4d00481b3963158a7cfb274a6b4e0d3a2d10eb7d39a256b7995eb48b8e612579ed3f1626e255aaf42b5e2dc19bf75dc8e189143474b20f8888f894eabc6455132281bc5d24a707761a529495f720b9a038c44b201d530ddbdf0eee8cac364a433395f8c08d9fb1268107aae1fef79717e74c7d18ba581de4a81eea1bd0024997b0373be1769c7407aae62ea773fd613963ca1d4cad9baea8e59b88b197e32da34d8b508bf62aa33b01a10eb4afa5916b8408b99352bb307df187223fac76cdc29033a933862e0309db9143c599caa0482f92fce3927e3dbfe2ea4e518008f854631579e0bc2785e8b0e917f33c121a0017aa981726cd6de94fc330f2483cb909692e2c2d669d1d8800ac26b07892cfbb7dbb0791a1f4138a177498afeef3a7280352e6c48f9ce66247f62ec6080c7d45a1656ae333dc7aa0fea45f5624c4bb3d927723a2852be7b01e88882412fc420e0fc2e73503eaae62945b6babbb7d3268005c183838e5e9f8b90ef15034b7d99fdd77acd525e6213bcf07607cd862e223d7e661a72fb73c3ae5ac05fc39e726810a0f0824d447455ca9149a414ed9023dd7b372cdb56d117ad9638d4f7b44a69d7bf2a793ebbd84dd1936fbe9e88a66b7ec28e1c5998d41564ffa6066e20a862ffef51bfdecab880c8aa16b517837d72531c6531cde2aae10847626aa1bf3c93e5975e588e0087dfb246f53d8bb199b3ce3da48e64cd623c2dedba464fa90317d8aaef1cc13cc9785bb400cd14854e905c8cd5bef40aafa3096c5da591278385d04e0b5c1c51ea58e2c8e0dd295e6077f546faaaf096fccd9344f66c1b1a4f5b29a777a2c70e2757636680c2d66a70b347b93de9f8795e070c09e42cb99b4791ac12a1f5f75e6f52eff263b8ad92f6435a7c568f5a5b2e77afc8821c3dda391ee652913b19c2a3d5bdf3cc033dd809e46c5982d24cf73a2a0d5008cf06843c1ba9b0ef4407cbd5f5acd448d576e99a2acc5bdb018cc5ad7e35313629ac9b6a732456197f5757539a36f89803b29b52c43aa4a43ab2d6b0a66a7c98c62bd15ed8a03c6c07f0bdd74196de96bd06c17daa37e90ffee34f45e1b75f0f606dd8181ab4e19bc5dfc5b7f3e02b19365e554d02db058b05866c3b8b0b19bb0d9a90ddc142ccc995cbc61aacc0806ad22b1e98d615b69a53a39cfcf3c589d5811ad57aa31bc962f81d36d2fa0530ed1dd7c08383053da025c91b62245fe62405253a42ff0382aa6bcdf8a116091e63990209bc18e88a437f9e6a4b76c26e9ea503394f357ad537459719a7bae8fb08d3fc8506f62af42239641d5c8ca535959d198a1563a3b5b1f14da5c4275f49254a4ab36023d19ff8bd480d6194409cac9bd0fbfc88b0eade2a4c46bc2d84a7813be2734a560957236c86ce8af8f243f41da4a4ae976e56dd29e8bb9841588fbd599c958f3abd434050b557cb826a930a14d4d7f068b87694e834194dc125cbb801bfd30418bc2a19716804ecb71b958fb4c3916b5dccef141c14bcac361a730c2185db5df5aa0f1ddc8ff8c1cc839b79c7448dcb81dba29bb9049e8515b5864854fe872f7169a2960a39a7569abed114b6c2943a39ee65424c0565e3d4c703fac524a7e75db3141bd15e6448d6f2191e8bf38bca1c7042c8b7cd8aa0e23988e3f733fa397e21f0c2698e8ab9a54de2811bf9c33cc44ef924409419f65d31aaf768d8975a96feef201ccc84af562a6a910e94ebd955735dfc01708e0ea8d55927e7d7aa0d5b9d4221d3cc7046f872927d2e1dda849ceab49fece5a2c240a377592619a4004058b0dfb6ff0d86f11bf9eb407432303b2c43fe3b17277bd2cdfa049eb227709948136d120dc04d48baffbd459bc22faff7d8a6554415aee30fa05316e9f662dedcc26aef46619132609fc4f94264abc237f51368d418da75bd45bb621017dd446e8ded80e10d081e3a537c32cc082849c579dbddad7e55f9d3327123189467d37ab1b2ac07e171c5f736438de1f50b6a161df583ed78cbfaa0da8c5e1a391484774e83f05c21562001eb4cb72c29cba43a631085637a865206aabd86cba851f9b6fb07eacc76b329d5bb64c0fbf030f0c5641fbe9f17a02e819181d6d46e73184c2fdb6e9b38e61939891f4aa3cae79badd0dae2491f05e42945fddd5f7d49e743fdaf7b487f1811a01a9dc85754d337647f4b7f95168a643e607f09d40e390974e620749d88a69e18020c8a5e28b941da1badc8381c8fdfb609aecddb898fc86fc5f7a89542a312efef4d27522538465bb1514c6b2b9584bd8591be0c0abb1b3a9a1430c5dfae1d40157ff983c9d39095bc6b46f743cbda3bb816989c00ddf880977568abb33895b92b0b5f9545cc952f96dcc294e7e3720b64338941b11f301bd3c5a4181779caac13f5f669e32baa9367ed7d2bd18c9c344ecac83f8055ffe20f3b54dca4283ceab7cee86532166bba9dd23249116c03e42ae50eb59e485e12a6d9ead89dfb70b653a04382ea366e5b5f4caa599ba8a58bf95bbc1f4ec9f023860908fef7d2585020697940118c3b69c5293c513154baa15ab023cd8037dd7fc04fffdd3b08bf76638ed876b349e93086ff9dbb02d35bd01f2dcb6d0d5cf1ccacb2f6e3e94b64457ee4a52dd6434208368abc6ca7351c4f1e4e0d7e6da4593291c56c983ea689631672bdc6c5d454bc5149645cf55a410a6af8ecfcef5f55f5d273b7da0c20eb34885c45e3b54885c27f24c7e3d057b59cf31b6ea818d7349124e330d0230a006012f3e7ae74844fa48eb96bbe352c5c4c85ffcaa22d9f8595ec9e856324c4bd24aa55596bdea181aeb1d6e07eaaa33e1e1f78e7be02f0b5528604b850955659e20f7a67d90df367225b84e0b73a163065d58f51ec72375c0c243ae2e646f23df3444e839cefcf189c6a2b1eb96d0636046a7edac9bd1f3d812be243849698dabffe0500aa68d9eea196afbc3750888a7daf5169e6954e183c58e08ba7f1dc26da184989ac2de9073e0f6df016f3589b98d00bb8b2146d125034bd0f1db6c4306737b635406f74fe29fb4db62673881354f07d9dada571d7aa08937fa29d23a20f256d584683a1ec40c6907aff02e6404f0547b9c8740697382146b6311c90add4c6ea2994e2970eb26b084e07ed3ad15e40ceefd792474f4890894e643a2efdc7256cb69143d37ed64f045657acec9b7d9fa71c7d309e8e0cbedbfe2a684864a34db3e0c11d1542e8830b61a283d9fecc67532c0feaa3e8c64628eb5ad0190e991a9454a26999788eb138f5d9c17c60fe501d4cddccd8dfe1c5a971920ff11200788e545b1b4a8e6d7da8c8206d500eae267e90f918e21cf3ee6de2cf6b3af14f5d640d3ae1abe2e0579a7571715e1403e880815c015fd7d1f051de85e1cfec81dfce48e34bcc88f60e5b20ea38a7d9d49c03f1009fb1a848e999362ac661e44bcf0a46aed34c436d40b9d210f85aa54f1efe52c498d968e9e00887ee667dd61dedff52c1fbf3ad7e36166a1b25eb8385428a566e4fac15789fb5db4c8000331f82be13816b7879b7f540c377e4d0439d33af76def46d3d9f5c183217db86ae00ec66aeb69d064052be88054476b176f4ba08e26fdda937975dc2ae6aa937ac4c5c5967b1dedab8146f57e1cd64fceb6c24e18f9e6251b8f7decc42705b48458256d1e64a233d6e7bdd8f2b957bb8fda1cc4359d8bf4fe870dba6fc3ea59b0b8ba50bf72a53e7b0a23a9ca37b947b64e0c996a2cdce700995da9cb683e8a54b13f139c95c58b58622f1673217e36b80e076170c642ad60811dc0364898010e5c1a1959a4145efe6b5e0cbaf773d4f1368e4d5fbcbdee4e21c5412b87469bbc654ce7a6e4437aacf6538e841ab99d2f8da435002586ccdcfcc7dc57be03a4c16ccc2b55a3eef065be8bfd28cbe2bda09584da2ab940704b08c54e7a805683bd3cb080de2ee623a16efb9bcb0890f9a48afecc247f4a1941d35cffb7059d1318228141bf648ab7f9ca29afcba3288d82b48240e52f251721353e6f757036071730e3de08164fc698764ab4b3429e82dcd8edb53e41d7ab5fd9cc3b64146086ddbf6ef583fe9e1800c0eb667fe3fe0b96660c62dbd9badf30e330c8a657d5b707f66890a7b2ea25525d154e266ff226a472dc7d7667eaaaa5d3553196c1484a4103518177e8e9b5202149c845026bac266ddec1c9fc231901cac19002a9513fa042fc089a6fb422e0df6677d2fed5cb8ddd547720f58af8e24540b3063e5dd98c962bb7852756572947429bac47e99f595cfbd335fc1dbd14197e5374130f93ad7a8c1997efb90b872e7e2847500566192b8f9f1e7a2c722ffe85ac694a972e30bfe194e5818f2c7e5cdb2b44684b52381fad8911e26ff2f375d0beccc911b1b8b6f357f3afe751e50c5b55690a56401766081d8d4465613e3ea4528561d2155e7439fd0c0d367a251d36e5db8f5faefa6cd1a12ef3b710b02ff1e2afc107f6e838f62a15d2b7b7f9b849d8ae984364d924bdbad9d88f09b3041e57eb874c6a649862fe669133000db70958fa846846c5af99e5f67024381a2811641602650fa4a1e3373646885b675e9fa6163926386d8735db2555f85a2d6b52f186e4e3a8969531f3430b0be7c056f89d120b0d1531090a51fc621a22389b5b8f8447508b45c46a8aa2fc50447470c6e1d8278609a91b2b227736041cef3d42f7ad5de1ead5118ef1689aca3bdfd8610b54bac0b3d153a7e5d8355fade7f7876690ccfef68906732a6e285761a693508b7e55f8b7015029c780c993019c6e09b5651f86fa1ef21f762608eeb132433e19963ce6d92ee33cc6b1321445f35d30e4159bdce8618c359cdd587f5b0438717653782ac3342883fd9caa23addb0cb4936c82620578d38d89e14d26ae7b22f7e2c60c78d1e447abfe70e0cc64b43ddc7427621e39af84086a4b0a8f94ae234583bec8e744876586209833c065bb38f44d7a6df9996c6dc52dbadf7bcb7de64a142cdf4e39460e4d7d062d53ce0cd98160699112de0ae53220c3b04c77893c37c11826c74ce50057b7a8044504dc980e03aff81d876a3af2e2f3c9eacf9eb98be82d758a115d4a96430ee5c7fe69c68d9269a1cce7accf1bdf785a2d9b44d8639446e15a0a9470432751b2f5737bf4e63400352bb71331f2751b0e34b3508eb554831fb0a653a507ad9c1a2d075f9de557f2bc424d263cc6a1080c96f2b5fddb41a0b15c72b175f3b3ef9465b1a3218cd11773b3751ff52bbb6943f5bcf4c480d7532403aa1cf38ef31491144c4cbad09acc3165206974bb74f6d789883dadecf75a07fb46e89b63d82ca5f39607ece4e92970aabab4c695789991adfb7130d72f441163945b7f705904989bc2b39a02c74de90cad0ba5b41bde61437fdbbdf4470d8e93500108d026728c263571fd8d358e5d4d9f60d08bf16f55799fde3339271fa2abd9fc7360e2e9889de9beb9c474fcaa6d43789e74fd523e66156942df15002769a7830b0ff6c19f4282a7e1698bf448f75d232527e423e38c412670b23d7f30a2bf7ac7d2e9fd088b4a061dc5e250fb2aad5516ea480e7f04a5cd3e1fa3a320d72677174a13706913b9a778f874838842e104b7f79b9f6e45d791dccfb4dd1c9a66a70e01f44379393a54221241978848773ea701646160116dd86f9fd43ed12143128485a2fa97e2aa238885aec74bb781e0a9c694f2ba0de947918fc8775d4afbb5b97b9b57dfbd0afbec28e4dc2067664b899b8ffe8fb6890f1d0ba92316cd2bfcae2853db5da3028d1c8f3ad56bf420ec9c73ee5ffe46ad9920011a6c5f870986a96615f49d9968050ddc8baf2ddf36c8d581002a8dda1767b741f0c2841e031760d16e834c810d8b35f9c48e50cb45134f1fd78106e9ef7bfe8c76a9ee36795e9c7087c42aad6275238dc11267782c8f673f56c146b0a2eae504cf6a26c71b910e095ee539f902509f3c4276d8b507aadd8fc24d1cb00d1d0c1a48a74cbbfe94f2efb630424d46fe0303251a2a25df8a5211dbf46b02c20acad3479fbe114079eb3ecfc931aba521eb8c769af8271a85c0b0c7d10f2f3a0180ca481e1f25e748f5ca0b512d3712bc718834feb1cad954a32325516c34d9bf4c112c1ec30d61079b32a0422e95b87d9aeba6f73c640f5611b7069fb563b439d574871e9f7fb31c0208816c791ea55f71f9c50b2afc86be30ab29125bd9e288e2e38003169536301597cf5d5e0e0e09e4d865092aff1d1d55ccf9bbc93279d589dc7c72ae3fee4143e1c1088c3c4bd390316c23644b756630ca4fd656e2b4d609f31beeb68bbccc89f703d7c5a9c4464b2aa2f957eb9cb3c63696f21e1536a588c816b9557286571de812ef20c5d7376eb1b4c1de502c203ffdbc5e32b66ff73c22b9a11b46ef0bf4524832db729f4f8dbd2e29c8013c89722073e76e6d211f8175e40803b121ec0ae72c5d7f357650fec5ab45f5655208228dcf73143e714f29c842a211697509bca70ef404256c71f38f32d5ee820c960f172eaf67e8d429b9e0a246e85ff0cd1df8d0869dcdec96cb45fa4f1cf4b9267508f7e723ba482591144d5036a949b0c34a80884a09634dd129f1f248cd63cdda1e4f236692aee096ec6ebb35c72195c268b655ba521042805b80e7b59d0f43db8cc19825bead4e02c163ba4abb5d19d07e677373c46a9ddbf5458422b2c28cebc1542c2952780070b5600c2a9ff9ef9039e6e21fc06bf31eed29bdf3e04eb57d5c582c8110cb2c8195a4387b38f860c32929e059580f3b38d95a23e24db7e6a3334a63d8d8e6c5bfba9ef455a14e358c651d3c4ed507718b0d190f513bf85fdabca5bb55bc5c47b43438b9de55853f6bf07a27c9206ceb0b4163863a94cc9b9b00adfa41d17c9423f56403ae9b225503d42ea2ce4c006e35edd09ae73e178e0e2cf8d9dd404ceb75b4bb13dcd4b3dd82b90a4c77b05bd59ad124fc15a37bcde7abfe2752d41c40bd53b48c39810b0bb5941235ce50dd2db9e08d44c0a18d3751dd3850b7b1ce229ec6a63481ecf28e55f42aecc97d564271bc904f0495872cc4a53449351297c2cfd1d1140844498845ae0dd9ec24cffd837f3ec6b21bca8d0f7d03f022f3302d978d4fe23ba5c159ccd798f668569cb8d2715603bd3a5e0514fd7c7bd0a39aa19141978786bbb665b14a725ff565cac8cb6222d3c75d840dbfd4d2f370b35081d63e1d111960bc0fb359fb642adeba5ba1330524532f8ecb29ea385264bef4cca77ed688341e7caa84b49f673e66a696c9571b760583996f5e298020991e43ca8970f1893cf8deb7e36052d7d0c46d8265e30756550c570dfee2e4979e63d225b1a3d97963e4489a60f6a12b99581a468b23bd0f84a2ad42cd0f75804a8d92cc48532cf90efec45b23cfd4b21ee808c0748a7bcf0e2e58008c23d07b2aa19fd2c2a2e89a8f6228cc6ca407ea2116bdf73c8409b73cdfd10fa7ba4ddf655e5ca99a3dfbbc5cca13eb11f386f28133289217bfed40dd38be6c5a3beca56b8c85131ec9783c5b95ce2ea386d2176f60f74843a9994181ab024acdc4cf66a0fa4ba7344470124a35544c56a1d15b85e9fdce3a593e8ec5930bc0e602ceb3daa4054980ac301fb6f276d2c83028f32363f1eb155f60da1694982bb2c6164f6e433e9d7af043bc29f973975296fb306feb90fcc22b557c94714fb00abfc9fc6a67c0b1ccc0e8e74c8d1ca1bb45d9b455fe5b48884ad1a54da3d2998ddbd38097eed0f4aaaa2419d263ccb91949e8beed7c43cd454b21c63ce99abd9ba900498fb41571f2327aeb502e7534937b0870874a0149413a5afea276e33b0508568110272244fc0b070812be33b9bebd904f33b02e4cf54170f1b9fc97055ba07fdc63f9302b17420d7f584e9341ab02b46ff2e2b3bf17f9d05f33186669a807ee40634045a34d96a9deeed001612a71ee64c6f41dc85a8c2dd5a4e5ae80d6eb5d0bfb66b35e031ea88c100ca11307a1a0a16d4ab972207a434defab6a60cee5fdae6b074f23b9f1dff97705ab0bbd9ea5c5316382b3a813b05333f933facd5f81e9bc797cc0e98d4ba8fcb5d2c0f6b68ee1059bbe6490ec07ef2006ed1387b5280fb5cb74eed98acb374b2b6b775e19b85261efc032bffad73d6fa9f72327f6e198780ad2e162f8bb7ad9776e709a0d815900b68f6b70791f38c690d83c84f310250f4af6bd461296004e8ee4804d04d9d65e9f4f8e75f79d1178c6d782c62d3dcabc4cc58fe99ee3830b22dda82b85de1bb329a2cb1b1382fab8dbb176cf4a4dcd9369a050f7701bafe89f383c622436d6e923c965a62e39a5b8410088fdbeb847f2286c43a02bb79806bbcd27b060ea2216d16a1c0b962b9f8f404ddac4ae81cdca5e8c253c19d643d942ec6f39211c9df56b3255cc35263b4e5a8e11caefeb025ea309451177d750909572723abe4b376a972dbbb7fd0907b99d99c5e95a8c2bc368caf044073020237b03c20479ad05d45b9fb2d591f8c80fc7c9b4ef3815fba37ac707b191a9929c9c2f41080a57ca543f9d85ca63c22564df174a19889a10864fc0cc76c967a22e7e298db5ac8d3f9e11b7951ba395efff32dbb8984db809ff572029350a7a19ad3183066a1455775ff7e6902faf3dda4648553b08fb07ce9525fb29a3f487695cafe13a3dae64832db3cea18463d3d65790b242ddb74886a18890015fb21cb5faf97ed84aa039fc444d9f1ebde5d08bac030f0daafb05021aa22530fe65e57f8aad3d39f0000fe31ea8fd7dd2dab8e5fbc8d6dd299f6ad68ee221bcd4cbb4cc5005f24e251f21f1f5446c9eeec404767cbcafd4425867a9be819fe703ac9aaa11dfca36cc51f479f26411d5329206508c7b56834f45642777c0b3d2497ac7e4204c01f24ef09a8d479c4cff47466f3dad202f79607471a5dad8053543a40fcf24f9f545cc4ecc4770285419e6828222f73dd9b07867a88db311200485601c3773e8d68de2e9845e94b3129ff8f59a481ccc8202b9d5681b79eee0cda9aa3e00f8b8fc603802c6bc76fd6c05bbccf2c6b9275295246ec9799ed3518fd5e170f7dc1c101d845cb3600942173b208e87b2dcbcf6a7eb4e77486d432adfe19767a7c2044fafa451eaabd844d18693623b0896f844e4107f215b17c6726db74f6b80ac7e3fd8a806fe8871260dedc421c4348d324479edb8feac9e9bfd4b484f89fc3ab19a4f02302a85ddc1ebf82b1f11e329c5f1429e605171ca47119b8110577a236531523df2d1c8a8435dbebf9ceed90de22fd8798d5eb47670ea1af6e77ef412195d293e71467d35cc26782043f81cf11b9cabb26191d8db2b645cf0cb093bc0abb3b5b82d9629a8ca4e03630ff8a7720e27053968af92eba446749f6c67ed769760c68c751744c9ad2500001834286138adb1e17bd08bd2891fcbbef4697ce16ddfb4ec17b9ba9af6174d5cc7c125791b451fd376129f8fab7421752af584f6128ecd5eb92d816a15fd4316554f4e9840ce67dd30b39594ee17e562815a749820d05b4ce3c5fdb64286c011498b22a2b6b714b841fc4d7464436e1e3b38eed6900437216f719e5e313ee599dc7df1e204a7db5458c73aabedc137265da20671fbc25d262b485c846cb7ac3cc90016f67d01b46a15e51c0c5a4309d580df216d08c0bc0972ffec9f9f169d1bf1f026269bf8a741435c764135e2a1ac6998dd49eef8a0c3ac0f0a53ff0513801eae5c7899f062aac75b089e56a6db157aa08edb40b25f5e8d8ff3b09bdb4a17aa86823709d5180519ea28e8fdf56b12187b48096a19377d76aca749819c386db641e5d178912ac17b193dc3d3c67dc8912db8563cf77ddf30f76287972280638cc004973cffc0d498fd6d84c65a83d13b83319bce86242bc1c00aaf2ceb08ec41eff1eaf6299458241871d62b91c0c906e980c4ac0140823988d55500f4ee7fb916a0f0f41d2a80f8b194cb1dc6883ba673a9786763eda7082eec74c68b5516c5ebb458c558ff2060ede47bd4fa9c8bfa5646923c047ec5164dd698ca9dd08452d3216a0a3df26be8a2c139a83557fb5fb605e6742d4584e598bf2084fea0d585039052cfc49c2e59bf65fcb394b5a1ae4e159776d8bd6602bf66f2ff9ee88ab25a18ee02b601a171ae2182b2928254060dd97d241f1c49917bf27214124366101c5a72a8c39af640e8fc2847dc384dc98ab6b993ac0cb0151709121d290def0beb5a1416b3835641fa3f0a064c36f96a217fff250a528132a553a62a7f128c69f35f49e9ac257ab7c4f0b50d92532d8f4a90eba009a6fab9ed199fcfdc14f1c59adf408cbdf07e60d8ae8d7fdc414bc7b3f737c3dbf36c3911366e6b95e194431ae41d828ab1c68e26aff6594d9d2b5857621384a7343cc5946e7949d58a0f14aa9c289c7bdf19a6b1ad56671ea6d88957ea717f87b443a6fa7cb35d2fb56fdacd0f114c3e7b1fd8bc9c37b5ca5f7dc0f3ac07949324021441252f0b8c8afdd8164abd379f3d3ee4256b4d2a703277498497927f6cffd3e136cbd29ef9b96212b8f66156ac24c65a4535b792ef617a83b44cb514edcbd473653f482828cf7ff5994178775138e95b86606f8a9a15d431febbfb55ef5d5e002ceb84af09bdafdf15517409f66297d5bbcc666982febda28475f3d1798573023dc842835f3eb7ac776f0a1739f58f76324cb9f99bee1717acf91fff96257475b551d0ec455c5caac25fa490506c2e98cdc6a11ad8969325498df75ad9089730fecc2bd6a8e73ed6a431486134cad77382db9841569cfbcd6c236636253356848d0811fdec1bfc91bdd6424991871a4c796227747583a8530ef53512cf3a7188ea20bc63a812576a7c1deac6264252df51e6c813041c3512c0618ffd16a09be481585ab4695598f62d8df88a6e494a0309895c8e7205e586a3cb2c2a9680a2b74f5437b1bf15cbe32f0eae182bfab06100beec2691753fdb1ab5876539513198d27b06dd47facd40670359b96cfebabefc451657908fac6e737abc4d56aac0596df4bb0eda5da05473f3ae5cb27eeedad95a2549e0cac33e6c1dae509b141946764acaa6499f9bd6956551eb27c0d92bccd60a8ac0e535fdacbf316e465fcbc45dde435244e25b6422a256a49c87ac80cd79b1bf06629aa934421647119fa2162264a82075e9767b78227ad5f5a6667cc7a669f0369075ad1de4be812d3f0d3ad07d2622f5c8dde9b0b4c69e9005fc468657cb48d06068e043845784e1a8cd3945a683796c941a408861a1e3218fab8960f46568ef021790137db9967be324080cd6e710502a2f92b69cd0782bf1ff5e488899752a8929de90d948eddc8ca2fdf1682c5c66d1067f5a0eed7c7c4540fe21c849d10e4d1e1832e7c553a73689da61a6605cfa74b429de17fa7f473dc3a35c2b41b9dc2fe9ebfeb1a2249bbf9cfb671f0caa12a0f8787e9a385c0338fa82f67d5feaf42358c51dcbd40b9b0411d1a6a12f6521497048a3e04bcd87fde9841b0ac46a0137732f6f04bdeed17a94db42059530eaddfb7bb2aa3c5170a2f6f48a93aae038c87c8984f03a2bc800bddea8bb0a9fac3cedb30eca3ddd343c7920af5ba715aca63eb28f8181d80fc4500171218011368f6f9f9c13b377996b7da116fc412d8da5971ab4bdcfeb237916c6d5f8072f4c9aa507d16ec20fb56d7c0aebe92d2c45385a3687f962829722a8048bd349d793d291dbe0c55488906bf7d5fe83d9e41ce83d9b35c815000d5caa12d5b5d40efc64cd18ff4f0ba110184c6656dbb7df80906f9f1340f64764cb3a209f951c22fd02fa39e881805543ab8364406d9e5b501417ce9cde2a49f9c2b8037230e9d0412569986479bf36a949e9052a62505cc88b675cecfe39c08ac4756214a3799c11e7740df6cfa675daff2fe3853d76765fdd90650f02c88446daf38b4668aa564d6d90931d0c91bc3edfbe7770e093e08303b7bc0c6e39b2fda137f341dd15cbf56b275614da027b6218ea8a9d2ffb865e33189c54d98c4d86fb99bfff2a0221e7e0862508f3cdd4e64222c50f7a097c86c9041247250d2010e6d223d2bd7008327580f20e7926c3ffd4c2d53c48f08df8fbee68cec29c42ae20f397896817136f923ce542e9c89428b5d0a62fa08e70b33ed17c510c934726d3846f7e2fc9c2e237fd439257e30b3ccab30fc5c2389b63517f1845a7e209a7c8696c096126236662df207084326aa0126940c84faa38ea6f5c5e3efb7b5912d55c58e9433de0c5a40be1744ff88b31117d1e1a88ec9bff1a85d66d6d8a099d5469bc834e509348f4db056bc59ac08555b7f2d184abd2c7b5502163deb55379e6b4b0e56c2aa1438733f4e10d00af94b7b729c3761e627842f4e8f1f28c4c16164ee2bb31b65447dd499b8308faace5b11aaa4e2fb709741d27c915ee9d58b3e2eed31379a40920c7d1df8a8dcc5dcf8fab9fa27d0a5a3b0e84b6158d2ce4dcdf873f3156c58b751d2df4c494100952c2e341c78e37ee0b6c46f0102154714b3ab4c5ae9c7dfebce179264801c79546ba8e4fee69b46e7206bfac6fffafa0e04f1f441ef0cf8bc7795186890a11954ceb9dd47207f9c590ffc14d27645170ee2084de394db0810cd6ec31bd715041fb3c12876378ff05d4a2c08839c777d398da7736e203ca2a0956fbc51328101959ea4f36b52506540883f8624fed7900ccd13c56aa8c5030ba2f527b96c1cc75658dda911c43a3837d64a1938ba34a00406c06c417969c29c0d4f4b36d288f91332cfd564c35f3b528d5fb1d64d24a07b4c0b64ed67adf9c0a968ffacf87a23787563065fc6c57e7065074b021b93e1a66e0f31cc1a134f88b2ef470e065e1f96a969baa9503ddd7189c870bacf3850ff005a37cf90075309cbb640d4f342fb7b2dffbc5acb59d28c938a00045e72a0519ea6240f48d36e696e9fd64bca762887ffb61562e050ab7b06ea15e5dccd0abe95add27778cdc7e6494ac8d642282c12cf7747f51eed675b789ec2246fc072430da4606af5494b85b3caedaf5956981955fd46ac79de7016cab5cb291b27e1967ba7bd8e6bcdff0cb4479d30612f280e940b9bc46b88f55d3f939376586b08d35a715c555387069c0819d779aad4381cacf9d904137d392d5c1e9ceb6228ad1873e12261c44d33f43743aba27d762447f81b7f775509003f39dcac2c3e6a973b000c82b7998bc3986f119084a1bef700ae10eaf9c336e9363b53bad8d6ac26331443a23e384fe2ab366f853b15a7fe9d5efc408c4fd96ff5b3f608d92ea05844dd7dd53598b145ea47147067910f05d6755d9eda79284eab9f4a6e80af47127531c83392355c844d966f5ef98f2fc912dc1911da47aa761eb71cce969b69924a58ed58616c6a1032c66a8f1da36244472e95ed928f7f5bfbac3a54bb12515bb16456b16b64f4f25375c161c7bbf908d2ad91dae9ae57feaf41b5516d8bd52c66cfa68da863fcdad81309c598b3c1e55fbf7ef66c91844b79400559d7d2e20ccb43dab77db16b00923094968d11fd7a20281184b7f741d7f80fff3fd48c96be550002a24a6a831ff3b18ed23ed2094d0d9703ff77a0fec384e5ac6fbfb4f0eec95760b35e8eb52b8aa9217a01bb58b3f64fd3ce6400514a333cced171db6fa6edd13328802702345e3782f7e72b1adbaf3a9d28187003370af5242d565eee7dd83e026d9fd39e92a43db76dba827499e4debdef9ce08f8b8fc78e50af7670c08e2a9b5cc70f639e3d5e160fbb59b3363bb6fa647b3e0064f8e80bf125ae9f1d2655e8b3139341030bb77b1134c88fcb4f126554189bab131409f3f6e027329046eb03b89f7c3b6ca53c816f59be71e0e21c79b8bb29e6cedc08b599c8120370be2b6849c42239e11b7136985a388ccaa62c017ea9bf8bb314df317e1731f2aae319e261db9a8c2d9b4272629705ba52ef88095cbd5434e3053f27f8d057e70f7c1678c50d872606fb6f59d6c225c91d4f297e41a4da123ed6a443276f3c6c7e5e26baba41ce2cd6243cf65ea4f601766372d2473b1271b5063352b5560052056037db8d0eb9eba4946c949059740a1b45bdf1b2b9234509d84c04dcae6aec64e220e49316ced7ceb3d90cce063ec5e523146b387983fe43c0e9b8182c1c36dba2e6222d6b3e08c0c56e7258801b0033286da51341a9b338bdc0de3f2ddacecbd7bd0dcad5f8a67e55d93e62f9c3ae8047caecb3a1f5a1b0fbf07cbde0008a5b7da1b77acfeb29e121dbad2559d44a392aeb2cfd1cfc032b2972bb978ab2f62c8bc0efb97b8ed4ab1f97e585da34fbe31529042199cc10a3330a33dde5e3fe374bd45aba1843661f2e7fdb3353872d9cadd959b4ed4efc01949da0414ae2d672d7c9f0013fb648f86bbaf7849a295ff22c042ddf7f09a01e34958d91a0f6aa401bc10e756caa9a034766e8a33883baf48dc751eb901a5bdfee1384b44f59a1d07868732dbda50c71a056e38c9d5e7fe135932ed16d778985ab7f93579e33db6c16286532b94f7f082606129e2d3df8d5c0c8995074f0f70d2b9f8ae33ffd59086372e50befd058848d52a27d10280a103471cf1ebbdff789f5c8da5db07430410dd19fef7db61d6ffe42737b1db5978daa008f0ab46af2f19d89a708028156e3215a1b71ffbf08d6015209bb57f535934a8f2f968c134167adf01517e68fc2d751bd4623097e2a3f63ff8168523228041f9f8a426ba666859d82b97061bf04e7753f273b04670885de9e0d2ae6855773e848026a6a30eb6c661195967348caf5341d6066d9cfb4c02845eaad292a70ff334c68e06a3f95d3ccdb993a78e4badecf0dde242034aec49d7410de301c6ba0ffc9c9091fd10232e21e1be175cfb10f1bf72436777039532a5806c6ff8683045b0560aa184899f175cb44a8a409e845c7ebdf94332e262c883862e696be4cd38baacd4975e7f20212268459e65b4017f67c34822ddde2afba1186fb542754ce5622ea7dfe4f394300c339b22b47e6f4e9ddc39c298e77724962dbd88b44eea6268504cdd652261c396de846660fc565ca9778e77c049951a6792670e5e0247d169a249648f15c5f3db018404e3f947b026dcc7dd853ea02d9fb5a23a552f9ab316dacd30f41a92797a8b025a59135c6aefda325a87945f7eb09ac5b999902ad019bd5ca58774a523357dc014bd0f8de722e10930fdbd671c7aeff218c9afc3b0883f40b3b7e617f9a51f7a7b6b86543ef5b559b183cdb58fa84ac006f411e6aa22a7d7714cb63332622fefe8cc91040999d8b681b66b977eb945f83fb057f2ca9b67ea48c19ef42a178299054ab4cf0a242fc1e928428db00ecfd35cd835b986ddc4badaa46b8430cc7362db8ac6544c1b4311d52d965e7dbf850536cac6e7a7946173305da8a7e0d69b353ee44d8bc0e0fa0e52eb21c7b381823a3bcef9db2280176ae5c38a94f67ffbd3ab8280c56c7e072dd718a966d835f3d04406c95926e8e22fdab04f12dd13ba1658ec073e92205e069284c11a1807c17b825e94b558ade8dc04c7d44c77ac1c3fbdfd0fb2e08515cd0e8fa68cb5ea97a49a0b7f92fafa45c4fd36d6b95291214bfa270d53c6e034e97729ce81e407d732ca14197fe1c080efc22fbabe0ba00805dacd2a2a55948399bf3e35b0538a32868cc75fa5dc882a7fec1784fd57067b22abb0e9520dcdba6467c3251d890fab09bc48dee597c0bbdac2daee7d3a0e60bad594dc5b75323ebd6b409a4be3dbf94505eaa0bb9c54489528cef5f01eb7c51e21b40660b6e8d9245175f94f0bd1666047faaa836fa44e6688cd5d5aea0c9bd72f8857f50340f507ab2bed6955e43b7bb78a38eceb1f4107f799ce489061cd1c48e2f1a3d15f8d0714bf0c2b07a471457b7a46eea96c391bbf2e4f4d2516815068a007c4df467c36825fc82d2b8ba41610fdb2fc5d4ab9a4fa77eb246721131fbf3f951e964aec5be6facfb618c92b1ff0b927fb0b5cca70b8012b261fcbd5ae7ca277b206ee6cecfb134785737f5806627d022b2e37b05e9197a134db8c40a8f90207d832b59a96e774eefffb0646a436da376c68421e5d3942a1fb8c0a5c2043f9d329197d5bd5abfee0838de5b9412ae25626349afc61a7bb221dc8604e9e2cb364facedb43224a43cb7a0789ecd97d8704e56079b8571fe593b7c4bfb04cc929e5c26d4ea41d960e88db0ac95036b029506b6da9463090818e2c3f1655a0edc4aa0d6b9bb1542bc41873059b71d300f930bed290f4b52e6a9ca3128b545d685141b1726c7ad764aca8b86f722adb8b36ac58f149ce2dbf053a1bb248a0a3dec855597ff1fd9bd960ba5214de1d14c78635b5b93e6c3dfeb3fa5b348a820a73677289a3e3689837172a0f5b925605b451d8e86e78f06d3283e1ac9da16ba011da050d74757b8a4c6ca845660bae9436ae4c97ea2e4c0a2afd091061a6bc08c81ba3a80dc64b696e827fb51911a57368c875b2d60e1690de343d152d9cb020e7b0b35c07c07f0d9bb9f1f1b7dc87d0f9e8baa0a6c246d12d1cea33d598ff18ea6e34b4143defc32d2e62416e6cf58c4560335380906aaff0086b8e4ba162f8b8d6847e09d61d827420a70994baf92a31b1001b297c9f7b55db0c938748f5df2daa75f5e4e2dc4aefae8e99d24bfb8ba85b0b9a20b1528f91aa931bac028f324f55d81cdb57974d8e5b01b9e39df7799393f9ac6a8b6b15b494baf770ee84a9f66936fecf88b4851c1dd537237b6a8e6c17d93682811fb05ddfcc81688b16c0fe5bfddd78fcaea9f11d25d2c1d959ca83ef947de0e687f1319db4ee4b8747733dbb824b242c9a2ef050a2685ee099b3a0e91e4ab52788277c0bb210d1df71eb13c6bb80883f027139600fb71f85e9194dafa7a29970627a423f2f559cd1f4bc1a6e9c23f3932d08d246e9fe9a77cf00561569b181d8dc89991b6b5aa2b3d392b901216defc23abf09dc8e48e98968fc042dc44c7cbe4b8aacc9a7a6eeff572434bb68e50f8a8af93aa27436673d46763b641016141d2ccb9d6376305de8d7c505ffe083fc9e2c25eb37a10ab3cd60f09c1c45227bf171e08b28242fb5b9f10d0d43875d2d716271c5e6d4e85082ab62019550155748dacd1547dfe7c6852ea33031016dd26555558aa8c1b9f483d3cea7569a91a151916c6c2ffe4e1cbb04d35b1dd472e5359a6e9afcd6f0fd7a95b1f876306454833673d523c2da8d214e00c1bb3f0a64fc09b8203a67b059c8bb23a1fc419b3e81efa49cd243a3a5db53dcbdb7d031ecba9b24c356c7992cdd13909e2159769a15bb48e0dc27a63a257c1d574e389cbf76b06306259b53fe10838016a903df6bf98c3a16ca7be6be40a4cc3c1040bf98e9c534b0b1832980d226d71ba6a2d8a3b2fe9d7e4c28e1497b7a1441b9c96a7567ddef5dd0d740999851b8a1e31f6b2c80802ef84ca22c24a898ef8cedbe48a5e3d9c1616eb434351493b66789091039d93c5d58fc7e5b09a19f96b329f5b6023455e50c5fb27ff08990e7a62f37c9a4b7c1c9f51b0dfc7b7631f5c11fb35c5f71980420835dadba87fbb9888b011def89a09971fed811fcb52e2dca2cd648e7f18bc7c1f58e5b5db4644cfd50413e2da7dfe9bfba8adcd91c505b24ad1b7de483adaa21c21e9799bdd1b132091b248998b7877b44b7930f6d13f97f3a2b8d32b931902f1390691ac0c6097683aeb97da20b0470b1728dc1095f7645b3c5ede9df80d5f72bf77b068464f6041e4fbc66f6c99bee4680285636dd48753a745f4fdeefb9dcfec31a4efd1f6eed7fa03e4f3c6aecd1bafcebb92c72b094d40dbaff87e54770053e52e87078aa74c8a644aa58c29d3a7fb73c4a87f89e247710894dffe0558e90ffec43b56743f67e564fe364b38a88e5f26f50ec4de27717576079106601a4c233fe56bf243e462e17ede4b624ca15a4397e0db159598afbff4d6d735112e81d81f8eaef7eb4b3a5858578bdc1a8997fe698e2bd82967feac1e5e445b7fba6a2ca92acd158ac8ace3f4fdb5627fd5cadbd6ad56b9253efa44117e8b07ba4c44c9152f87c4fcc3b6f34e209a61db103beb53136f397a734e1af465f84c365c196c8c553e5db0b308b6fe190ac79c39ef6e1970bcbacf6b077a7f1b4f8de482d8ca59b20f8fefa85a859d5770a1f7d51c2d1874ae70dea16300a642a4db70e58732f8a35b3582b188ece1c3556af6d321a9805b894b78bf3e2e62a2ae715018824e747b7a7bc5be485beacc4210b34c40aa1aec7a6f15f39fecd31fdc84982477f6a1383c780d350a4e1cb8c16040fd1329e1c53da03ed6ca467e780e85561c65239f956add1fb8da1a877715dc53b45c30460656261cb3377fdad2cea0dd7ade9e53ec02d38ab3f0985c31c2cc368069dce98c2c84fd63d7dc668ddd4501eacfdd02d4d169407e76548dddd63365d133ea348c5ea4b9a116a5592cc4f972f24169c4f98ca79747b9c68ca7550de779fa9255b290d47d32c312ead17a0624f68ad32f99cbdefa7925e8daa8ec8ba0cf86448c622e0df547f8cab2663db58a4ef42bc4cd4228e37a9574ef55c71f59810ad969c96864a9568e8272e4b1a62498fc0bb2a69eb541911110ea3971c3fe9a7d954f30379a75c8327b670b19cbb037182c4451c729049e82cf2f587ad16abd9672eb5a0c9f55a3b97340943c5b584eb325941356d4e9ef6dbc9ba2a0fe67c8f1b17f323640b1f8c5feed327e1105ec06bd6ad081c04afce13aa5b6647df12429ad3a23d6602ec59bb665bc52f1694d69654d27f745c3eb2e5907b7a0edbb449b5e04eebf4756655f3c3eaac56a94a87c0c97dbfa1bd778f2ddc4d37561d0c7e6ad7949d607d3f6efcb1a74e4689604329be76414ba72a4812bc44a1f2375d66077272d02011e215967e03a6151fb3d39f61e5db62b0b6609ccad2dd775a483f7e558e2dd482c085ad419cf4ab573ebf0901c8bf13cdddef1dff7c3a854bc0c39ed1880f31cc7fc6f4d694fd40693a7fd4a6142bc685b7e4463b4d2af1cfc54c532faef8ca04b138c1a595eddd0a6aa98d0b851ffa626fdbc39e0a698457e05a586bc235b45fabad426101fbb4fbb2fcb8b3e1555e56f24036abf594779ef19d2198db8802ab9cf0df351ff65d2aa36990688011d34aa0bd4ec15e9dc57ca3b3ff668c17f20f70c552ef4bbea86c15cbdc9ef61f7f70eec65f0d6760cf25703e15aada949d5bad390c99e61ce888582a5d9b2278ddd4581d91de18f235b9718d7549bdea6ccdd5abb503ca08dda6b0c0a81b0607ee45d7adaf75856d00973ed1655255ac9ae9dcc0b62baf41c6707fa6139fe23a59eafab9b620be25f4b80e34422e84c9939dbf0a9b5f4bf35bfbcec763faed74bb663cc7933abf83a5b2824ad158193a994c45e4a5b8d0b2f988db5774ea21f9ad079ada02a9a289fbd570adbaca3e8df9898aab80fcbaa9f6a85ee06a27303f22d433a0dc1c35b7805d87d5e659300fed8dbda91efb497faac573e24702d9633e15494cedd66868f17a075531e218a8f15755fe43c84787ece7c42b50a33256d06eaf1f2bfbe2f229a113f4fbb323dc585c6cc67b278a6dddb50ded9ba04c5f1f8644e4846643cc710b49b98f4febbf718c9aec8506fa4cfe287026f0f7a3e6ab27b1a5481bf01c27293f08b5a54ef5887343d5c7e5ed9199b407dffb6c0a6dd3dade960cc08bc6326ea00958195b51aed7cb4032b7a477fe625125a9807fa20f8bcfce17c55c5bc8f399084bd9472ad183bcf86a664c9e5fa20e06b8430f690b3378dd320dd1b889c9b415976eed83a2409dd03cfdf796e66c1bb9c6541a748235cf81811b8ce4c2b480a9c1b21bd897859aa45638bfd71143a285d1945bf365167fb03c214ee3573e48d386874e8fb69ec8a189ce74f7cfeafad2656e34761554bd25bfccae73b82c3da926d0dba5b1fed703b0cff2d465040b69931b6d81b6e2a7e9f9e3d28d7dd7fdf31fd3b37a532af7e31ece82cd2d9ded38452145680978283b435b52825986d1458163ae5354715d866625feed5d5cf38d7c26c475520f322a90e552569dd31f2476aefb145d710eb7c90c92e32f46f4607e8c8538d5d8c781f381d6e87ceb655d739e03c16a3ed4f88faca1ce20c5c2ade32c010d842a07e2a166d500b6f102da1b907cbd245ac8cedce72b19ffe5a7b461904c45772411065c994e44df6352b349a407d2ec3b288b0d2dafb3140c77d76d7a1d2c27984bcb04bd15b1cbc9c5b4a6013865f1b145976fd22dcced0e54ce72b9879115a63245f632783d16ff7273df85365ca29cebc83b98e74d0716d44914e5c0a25ac43bfc4c83a61cf7f53bd4708e5d5099decd37bc88252c4d03cf9b2986313cf7ca01bd9645237e12f21481271218d5f1d90ba12bf410a90ccf26fc8bd62a4e881dfef72bef00002cfb9705e0dbbd936c3f7837ca702e969cde1bb9aa3c3bbfb9abb765f26ee3413a5a9130e8d73c7b990fc46a7939b6bc4c1fa5673d491f6bff81ddc471ec4b069812cae97f7efe4c43de64eb93cfa7165faaad345fbe8f99f454db4edbfbeacafb8f0e46ccd3212e8538230277499c136a5a10f53d9028f04709d83e196ce08d19d82c1f8c79ba27fc7bdb3e01d5876c4e45a377795376e788aed3912676a723030ac9aead9cec92b275e013d2a2880d4d3dd1318e8e12ec657e1d12c154192e1119e82bd06801db1aa699ad242ac7d57e62e7ea315d04cfef372628ed419316c5a1d1b310e4cd1c209a74b94af59c7e6fbc71ded7fc5ba0c466dd341d29839e4003de2d70d798863b0a29b6a9e9220c713e4aa36c5eaabbbfd87a9c731e8949132735b717e8405a210134fd244ac1e0a9be6ac0bfc5fc1a35335e0aaa41211324406edf1beb56b537d14a8d581b73f44834d9a2945897fb8dd610055998cef2d598b245ca8ca311c5519f83686ccb329ffbc296a3941ce2213afb5ba625a5216ece49273d02e37c6b568a005f5171cdaff5dbc45d33b03328749801be0ad1ed8601136deb0e13f61a71ed9f66e3b740268ff9167a523f5b3264bb04f2f071927ba67736659eb586df8861a6d296c181412f5f73e543122c4eac4e74f05385f20ed184abbfca378483c4f6d2da8f98eaf018b27a62f785b2933e5679033ad47079dd0edb85da650067eca021e01c858b1fbcdad4a18325b42532e14c62eef48c76dfe5f097acd70e92b4ee54994746ee6e80371631a99a7f59d4dbd04443e4679acab11d01d7c6011b3b79e99ecaa980cbdf8418bfb788d92ce5775444e3e065f79987be7eb0b5d18b1bceeef1698593abd34648ba73602ae8dc84e86c4463f0e79d00ad7afaba8c955668745e90ac57b34a12c6bbe9aef8e9381ab1e9b1d691a8ec9aa5ab9b4cfabe95f984c651afa3847e56a08426bd57407034eaffd2a627e3c9fb0e1587ef81ddff835161491d253c9aa592edd1e812f4a97284e13a3e18aa84cb2c9ba243ed6d51278943783eb78f565bcc403eff9cb282afa3ae085e05068ebf168f344aed2505b760c80ddfab4e0fdc31c0f856e8993c3124ab84d97e2836280672228209692de7e5d03c8b1c11bf9a0889eb576cf9d0157c0d7b7ba69a23c8913ca094d39b2b2f3c171673f7e6aad293fd0cf4920b6a8ce312d55a691fc8aedef42a2a2b164a5204b0d8ceeaac81037f9525e115c217d9a8af6e0763f9a15be2fb2922e674e62d8486491f21d9ee7c9c6f185fce7e47f16349c33162a21a84435ff46aa0e464a2927f179a87fe25ed0f29da5df792bbc2a8db834e8f7bb584595367efa03be962e65e30a6ba2cb0ef0a2b7c4b78ce3e1c91cd78a7bc135a66c43b779545d32eeaea8b3871a238aecc5dc60761268d3060790c1c5162c2309ab5bc3dc4e63979295d5cf500664641bcc82cc15b1f8b6619ac029978eca68000e0613f978c35661b78a300e8bfd15b630339e554e9c11d397d6be3e0b8b8f67cba67618629c74f6813df9e57a2e700084ff40b1e56f4f88e30ff58a06969cabd4c4b174dd671a27ae1bc86e5f1f3e19f33986afdad8da506e0fce15bf070c94be5bda5d755fe5f90f6136000530ded377b11e7fda2ba5e5eb0a048b7be68448202e64ec0163123b1c6ca62936ba4202d10b91776d6102e5cf22216e92db819c72ca0a94ed4f5b6e553fc89cc6b69795efc934ff75a5a74fb3edf4d7f0fec3655353088261546cbbd5a01c6d0d98349f1c8b953639e893d4cd19380e677cdd3b45f6898eee55f65170d3b900aa34ca9113cbe8c590eceb2fcdf2a3df7a70cc3848599ebd6164e8fd15ba1049264e35e8da480302cd125b90d760a27aa8f5231da089042fe09d7d2bcb1e64f8da919414159448458db296394c265651f028c41ad39ca35659aad29a86721faf32970d24fee4590d6c75f43a10f675c76eb6053ab7745e95bf61e9830247ea9d3706028140e3c1afec126801022dc0565a347c0c2a562686359011336f3be2892f0a0f5ad9d328ccc9a47fff3ba33c71241980d7f59178365ba5b0cd8ded1bcdc6bb70ea724d0f2023a65001f8edfcd3fe7c0c1075450a3fed3600cac4e4d9975193380f8bf7ada97ab88a217be1e1ca92f57977b8134c104c1a5a0dad314ecc0f899a7a2ba707984eb65f636768136a27fb4b4f8a7dc68922dad0dd6eb742e91052c514fc81582786fad0efb46640f3ed78aff652d25c59fbb31594e56d1383e346786a61ccde74e14863e88aed1f3e3376ffb11ac56cce60fdba22a2b1daf172d736430b4868c08386f286789ccf711fddf9946645b9c5b83fb17b2fda6b23055cc5ba388bde82da4419cb535ea1eb0ede25dfcc6473cb0f07a70a0e303c1bc9766b01fc8213a6e017a4ccefdd6a85580db4da725d98728da5d44b1a6bf6f7069aaa53b676fa697fef986171c5961574f8f94783c11dd72a23e1deb5e1e631203fd17cabfd454161853db64ac9a42660b4d4592ace9c1969a79c5198bc1</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">请输入密码.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      请输入密码.
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>小程序和H5中input在光标位置中插入</title>
    <link href="https://hakunamatata052.github.io/2021/04/16/cursor-position-insert/"/>
    <id>https://hakunamatata052.github.io/2021/04/16/cursor-position-insert/</id>
    <published>2021-04-16T02:25:36.000Z</published>
    <updated>2021-04-16T06:11:38.078Z</updated>
    
    <content type="html"><![CDATA[<p>最近遇到一个需要是聊天添加表情功能，本来很简单，点就表情追加到input内容里即可。<br>但是表情只能追加到字符串最后面，这就很恼火。<br>有没有办法在光标制定位置插入呢？当然有，只不过小程序做法和H5略有区别，这里两种都介绍一下。</p><a id="more"></a><p><img src="/images/IMG_6928.PNG" alt="安装成功"></p><h1 id="首先是H5"><a href="#首先是H5" class="headerlink" title="首先是H5"></a>首先是H5</h1><p>这里我直接抛出代码，原理也很简单，主要利用的是input和textarea中的setSelectionRange属性获取光标位置。这里不做过多解释，主要看下小程序<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>无标题文档<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">setCaret</span>(<span class="params">textObj</span>) </span>&#123;</span></span><br><span class="line">            if (textObj.createTextRange) &#123;</span><br><span class="line"><span class="javascript">                textObj.caretPos = <span class="built_in">document</span>.selection.createRange().duplicate();</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">insertAtCaret</span>(<span class="params">textObj, textFeildValue</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (<span class="built_in">document</span>.all) &#123;</span></span><br><span class="line">                if (textObj.createTextRange &amp;&amp; textObj.caretPos) &#123;</span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> caretPos = textObj.caretPos;</span></span><br><span class="line"><span class="javascript">                    caretPos.text = caretPos.text.charAt(caretPos.text.length - <span class="number">1</span>) == <span class="string">'   '</span> ? textFeildValue + <span class="string">'   '</span> : textFeildValue;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line">                    textObj.value = textFeildValue;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="number">1</span>)</span></span><br><span class="line">                if (textObj.setSelectionRange) &#123;</span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> rangeStart = textObj.selectionStart;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> rangeEnd = textObj.selectionEnd;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> tempStr1 = textObj.value.substring(<span class="number">0</span>, rangeStart);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> tempStr2 = textObj.value.substring(rangeEnd);</span></span><br><span class="line">                    textObj.value = tempStr1 + textFeildValue + tempStr2;</span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">"This   version   of   Mozilla   based   browser   does   not   support   setSelectionRange"</span>);</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"form1"</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">onsubmit</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"text/plain"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"textarea"</span> <span class="attr">name</span>=<span class="string">"tarea"</span> <span class="attr">rows</span>=<span class="string">""</span> <span class="attr">cols</span>=<span class="string">""</span> <span class="attr">style</span>=<span class="string">"width:300px;height:120px;"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">onselect</span>=<span class="string">"setCaret(this);"</span> <span class="attr">onclick</span>=<span class="string">"setCaret(this);"</span> <span class="attr">onkeyup</span>=<span class="string">"setCaret(this);"</span>&gt;</span>例子例子例子例子例子<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"textfield"</span> <span class="attr">style</span>=<span class="string">"width:220px;"</span> <span class="attr">value</span>=<span class="string">"插入FireFox"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"插入"</span> <span class="attr">onclick</span>=<span class="string">"insertAtCaret(this.form.tarea,this.form.textfield.value);"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">contenteditable</span>=<span class="string">"true"</span> <span class="attr">style</span>=<span class="string">"border:1px solid #ccc; width:300px; height:200px;"</span>&gt;</span>sljfldjfldf<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h1><p>小程序需要在textarea或input中绑定失焦事件<code>bindblur=&quot;onBlur&quot;</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"textarea"</span> <span class="attr">auto-focus</span>=<span class="string">"true"</span> <span class="attr">placeholder</span>=<span class="string">"请输入文章内容"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;content&#125;&#125;"</span> <span class="attr">bindinput</span>=<span class="string">"onInput"</span> <span class="attr">bindblur</span>=<span class="string">"onBlur"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p>然后在失焦事件获取失焦时光标的位置，即光标在文本域中的下标<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">onBlur(e) &#123;</span><br><span class="line">  <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">    cursor: e.detail.cursor</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><p>然后在插入表情的实践中将表情插入文本域字符串中（也就是表情的点击事件中）<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">inputGif(e) &#123;</span><br><span class="line">  <span class="keyword">const</span> index = e.currentTarget.dataset.index</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      content: <span class="keyword">this</span>.data.content.slice(<span class="number">0</span>, <span class="keyword">this</span>.data.cursor) + <span class="keyword">this</span>.data.gif[index].code + <span class="keyword">this</span>.data.content.slice(<span class="keyword">this</span>.data.cursor)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><p>这里我使用了<code>setTimeout</code>延时了100ms执行，原因是如果执行，失焦实践是在点击事件之后触发的，就会出现插入的位置是上一次失焦时的位置，所以需要插入时延迟100ms先让文本域失焦并设置好光标位置，再执行插入。<br>至此小程序的光标制定位置插入内容就完成了，有木有很简单。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近遇到一个需要是聊天添加表情功能，本来很简单，点就表情追加到input内容里即可。&lt;br&gt;但是表情只能追加到字符串最后面，这就很恼火。&lt;br&gt;有没有办法在光标制定位置插入呢？当然有，只不过小程序做法和H5略有区别，这里两种都介绍一下。&lt;/p&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="nimiapp" scheme="https://hakunamatata052.github.io/categories/JS/nimiapp/"/>
    
    
      <category term="setSelectionRange" scheme="https://hakunamatata052.github.io/tags/setSelectionRange/"/>
    
      <category term="光标位置插入" scheme="https://hakunamatata052.github.io/tags/%E5%85%89%E6%A0%87%E4%BD%8D%E7%BD%AE%E6%8F%92%E5%85%A5/"/>
    
  </entry>
  
  <entry>
    <title>使用uniapp打包H5时使用微信SDK</title>
    <link href="https://hakunamatata052.github.io/2021/03/13/uniapp-wxSDK/"/>
    <id>https://hakunamatata052.github.io/2021/03/13/uniapp-wxSDK/</id>
    <published>2021-03-13T02:25:36.000Z</published>
    <updated>2021-04-16T02:02:53.932Z</updated>
    
    <content type="html"><![CDATA[<h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>原本的一个需求是开发微信小程序，但是因为产品变更需求，需要重新改为H5，为了重构页面和前端逻辑不做太大改动，所以决定先把小程序改为uniapp，在用uniapp打包为H5<br>因为uniapp里的方法和小程序类似，所以代码复用率高。<br>有了思路之后就开始着手进行。<br><a id="more"></a></p><h2 id="第一步：将微信小程序转为uniapp"><a href="#第一步：将微信小程序转为uniapp" class="headerlink" title="第一步：将微信小程序转为uniapp"></a>第一步：将微信小程序转为uniapp</h2><p>这里使用的是官方出的一款插件<code>miniprogram-to-uniapp</code></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>使用命令行进行全局安装</p><p>windows:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install miniprogram-to-uniapp -g</span><br></pre></td></tr></table></figure></p><p>mac &amp; Linux:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install miniprogram-to-uniapp -g</span><br></pre></td></tr></table></figure></p><h3 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h3><p>使用命令<code>wtu -V</code>验证是否安装成功，返回版本号说明安装成功</p><p><img src="/images/WX20210312-111605@2x.png" alt="安装成功"></p><h3 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h3><p>使用命令<code>wtu -i 小程序根目录路径</code>进行转换<br>小程序根目录路径可以是绝对路径，也可以是命令行打开的相对路径<br><img src="/images/WX20210312-112000@2x.png" alt="转换成功"><br>转换成功后在小程序目录同级目录下会生成一个<code>文件名_uni</code>的文件夹</p><p>这里存放的就是转换后的uniapp，你可以是用Hbuilder打开，或者使用官方脚手架然后用vscode打开，笔者使用的后者。</p><h2 id="第二步引入微信SDK"><a href="#第二步引入微信SDK" class="headerlink" title="第二步引入微信SDK"></a>第二步引入微信SDK</h2><p>由于我们小程序内获取的登录态是小程序的，如果改成微信内登录的H5，需要将登录态转换为微信H5的登录态。<br>这里就需要用到微信的SDK。<br>由于笔者使用的uniapp脚手架，所以需要修改<code>public</code>目录下的<code>index.html</code>文件，即H5的模版文件。（Hbuilder打开的话需要在配置文件中配置模版文件）</p><h3 id="引入微信SDK"><a href="#引入微信SDK" class="headerlink" title="引入微信SDK"></a>引入微信SDK</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://res.wx.qq.com/open/js/jweixin-1.2.0.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后在你需要调用的组建里配置微信SDK<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wx.config(&#123;</span><br><span class="line">    debug: <span class="literal">true</span>, <span class="comment">// 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。</span></span><br><span class="line">    appId: <span class="string">''</span>, <span class="comment">// 必填，企业号的唯一标识，此处填写企业号corpid</span></span><br><span class="line">    timestamp: , <span class="comment">// 必填，生成签名的时间戳</span></span><br><span class="line">    nonceStr: <span class="string">''</span>, <span class="comment">// 必填，生成签名的随机串</span></span><br><span class="line">    signature: <span class="string">''</span>,<span class="comment">// 必填，签名，见附录1</span></span><br><span class="line">    jsApiList: [] <span class="comment">// 必填，需要使用的JS接口列表，所有JS接口列表见附录2</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>这个时候问题就来了！<br>执行会发现<code>wx</code>对象中没有<code>config</code>方法,但是wx对象是存在的？</p><h1 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h1><p>原来是因为uniapp中已经向window中声明了一个wx变量，这个wx变量是小程序的wx对象而不是微信SDK的。<br>因为uniapp在打包时将<code>app.js</code>打包在了<code>&lt;/body&gt;</code>之前，所以我们引入的微信SDK的变量被uniapp的覆盖了。</p><h1 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h1><p>找到原因就好办了，直接将SDK在<code>&lt;/body&gt;</code>之后<code>&lt;/html&gt;</code>之前引入。</p><p>再跑一下，完美解决！</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>这里找问题原因花了很长时间，因为引入js方式，登录态检测这些我都简化叙述了，还用到了各种抓包，本地代理线上文件。但是思路就是遇到问题可以想想多种解决方案，多打断点，多console。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;起因&quot;&gt;&lt;a href=&quot;#起因&quot; class=&quot;headerlink&quot; title=&quot;起因&quot;&gt;&lt;/a&gt;起因&lt;/h1&gt;&lt;p&gt;原本的一个需求是开发微信小程序，但是因为产品变更需求，需要重新改为H5，为了重构页面和前端逻辑不做太大改动，所以决定先把小程序改为uniapp，在用uniapp打包为H5&lt;br&gt;因为uniapp里的方法和小程序类似，所以代码复用率高。&lt;br&gt;有了思路之后就开始着手进行。&lt;br&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="uniapp" scheme="https://hakunamatata052.github.io/categories/JS/uniapp/"/>
    
    
      <category term="uniapp" scheme="https://hakunamatata052.github.io/tags/uniapp/"/>
    
      <category term="微信SDK" scheme="https://hakunamatata052.github.io/tags/%E5%BE%AE%E4%BF%A1SDK/"/>
    
  </entry>
  
  <entry>
    <title>html转jsx</title>
    <link href="https://hakunamatata052.github.io/2020/08/31/html2jsx/"/>
    <id>https://hakunamatata052.github.io/2020/08/31/html2jsx/</id>
    <published>2020-08-31T02:18:00.000Z</published>
    <updated>2020-08-31T02:36:36.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="初衷"><a href="#初衷" class="headerlink" title="初衷"></a>初衷</h1><p>之前做的一个阿里需求，是将原有的HTML的静态页面重构成前后分离的项目，要求是用dva-cli脚手架来开发<br>那么就牵扯到一个问题就是这么多的HTML页面肯定不能手动转成jsx语法啊。<br>毕竟差别还是有很多的，尤其是写div的类名<br>我们知道，在普通HTML中是这样写div和类名的<br><a id="more"></a><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"demo div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>但是在jsx语法中尤其是同一div上应用了多个类名，jsx写起来会很让热挠头<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className=&#123;[styles.demo,styles.div1].join(<span class="string">' '</span>)&#125;&gt;&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure></p><p>于是乎就做了一个小工具，可以将html转换为jsx语法，这里需要注意一下styles是我引入的less后赋值的变量名<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">'../assets/css/index.css'</span></span><br></pre></td></tr></table></figure></p><h1 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h1><p>左边输入html点击转换会自动生成在右边的文本域中</p><iframe src="/2020/08/31/html2jsx/html2jsx.html" width="600" height="300" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe><h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><p>这个小Demo的原理非常简单，就是通过正则匹配到所有<code>class=“”</code>里的内容，然后通过<code>replace</code>方法替换<br>值得注意的是<code>replace</code>方法的第二个参数可以传一个固定的字符串，也可以传一个函数，函数的返回值作为替换的内容<br>这里我们不能把类名替换成固定的值，而是需要将类名做处理，所有在<code>replace</code>第二个参数中传入一个函数，函数的参数，就是匹配到的内容<br>获得内容就很好办了，先把类名用空格拆分成数组，然后写个jsx中的格式即可</p><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">submit</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> con = <span class="built_in">document</span>.getElementById(<span class="string">'text'</span>).value            </span><br><span class="line">    con = con.replace(<span class="regexp">/class=".*?"/ig</span>, value =&gt;&#123;</span><br><span class="line">        value = value.replace(<span class="string">'class="'</span>,<span class="string">''</span>).replace(<span class="string">'"'</span>,<span class="string">''</span>)</span><br><span class="line">        value = value.split(<span class="string">' '</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(value)</span><br><span class="line">        <span class="keyword">if</span>(value.length&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            value = value.map(<span class="function"><span class="params">item</span>=&gt;</span><span class="string">`styles.<span class="subst">$&#123;item&#125;</span>`</span>)</span><br><span class="line">            value = <span class="string">`[<span class="subst">$&#123;value.join(<span class="string">','</span>)&#125;</span>].join(' ')`</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            value = <span class="string">`styles.<span class="subst">$&#123;value&#125;</span>`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`className=&#123;<span class="subst">$&#123;value&#125;</span>&#125;`</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'text2'</span>).value = con</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;初衷&quot;&gt;&lt;a href=&quot;#初衷&quot; class=&quot;headerlink&quot; title=&quot;初衷&quot;&gt;&lt;/a&gt;初衷&lt;/h1&gt;&lt;p&gt;之前做的一个阿里需求，是将原有的HTML的静态页面重构成前后分离的项目，要求是用dva-cli脚手架来开发&lt;br&gt;那么就牵扯到一个问题就是这么多的HTML页面肯定不能手动转成jsx语法啊。&lt;br&gt;毕竟差别还是有很多的，尤其是写div的类名&lt;br&gt;我们知道，在普通HTML中是这样写div和类名的&lt;br&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="react" scheme="https://hakunamatata052.github.io/categories/JS/react/"/>
    
    
      <category term="react jsx" scheme="https://hakunamatata052.github.io/tags/react-jsx/"/>
    
  </entry>
  
  <entry>
    <title>Three.js设置DIV跟随场景的两种方法</title>
    <link href="https://hakunamatata052.github.io/2020/08/26/three-sprite-css2d/"/>
    <id>https://hakunamatata052.github.io/2020/08/26/three-sprite-css2d/</id>
    <published>2020-08-26T07:39:00.000Z</published>
    <updated>2020-08-26T08:57:16.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="方法一：使用Sprite对象"><a href="#方法一：使用Sprite对象" class="headerlink" title="方法一：使用Sprite对象"></a>方法一：使用Sprite对象</h1><p>首先实例化一个SpriteMaterial，设置好材质或颜色，可以是透明的<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> spriteMap = <span class="keyword">new</span> TextureLoader().load(<span class="string">"./static/img/img.png"</span>);</span><br><span class="line"><span class="keyword">let</span> pinMaterial = <span class="keyword">new</span> SpriteMaterial(&#123;</span><br><span class="line">    map: spriteMap</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>然后创建一个div或者绑定html上现有的div元素,设置好默认的位置属性，可以用css来设置默认样式<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">Div.className = <span class="string">'text'</span></span><br><span class="line">Div.id = <span class="string">"text"</span></span><br><span class="line">Div.style.left = <span class="number">0</span> + <span class="string">'px'</span></span><br><span class="line">Div.style.top = <span class="number">0</span> + <span class="string">'px'</span></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(Div)</span><br></pre></td></tr></table></figure></p><p>然后声明一个坐标点并初始化，之后用来保存每次改变后的坐标点<br><a id="more"></a><br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> circleData: Vector3</span><br><span class="line">...</span><br><span class="line"><span class="keyword">this</span>.circleData = <span class="keyword">new</span> Vector3(<span class="number">-0.2</span>, <span class="number">2.3</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure></p><p>接着创建一个创建一个Sprite对象（这里我使用的是webpack引用依赖的方式，因此不需要THREE.Sprite）,并设置坐标点是初始化的坐标点<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pin: Sprite = <span class="keyword">new</span> Sprite(pinMaterial);</span><br><span class="line">pin.position.set(</span><br><span class="line">    <span class="keyword">this</span>.circleData.x,</span><br><span class="line">    <span class="keyword">this</span>.circleData.y,</span><br><span class="line">    <span class="keyword">this</span>.circleData.z</span><br><span class="line">);</span><br><span class="line">pin.scale.set(<span class="number">0.3</span>, <span class="number">0.3</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure></p><p>然后写一个方法用来更新坐标点并设置div的坐标，其原理是每次render时使用Vector3中的project方法将Sprite对象中的世界坐标点转换为屏幕坐标点，并且改变div的css位置信息<br>project接受一个参数是相机实例<br>最后通过一个固定公式转换成屏幕坐标点<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> textShow(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> worldVector = <span class="keyword">new</span> Vector3(</span><br><span class="line">        <span class="keyword">this</span>.circleData.x,</span><br><span class="line">        <span class="keyword">this</span>.circleData.y,</span><br><span class="line">        <span class="keyword">this</span>.circleData.z</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">let</span> standardVector = worldVector.project(<span class="keyword">this</span>.camera);</span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="built_in">Math</span>.round(standardVector.x * a + a);</span><br><span class="line">    <span class="keyword">let</span> y = <span class="built_in">Math</span>.round(-standardVector.y * b + b);</span><br><span class="line">    <span class="keyword">let</span> Div: HTMLElement = <span class="built_in">document</span>.getElementById(<span class="string">'text'</span>)</span><br><span class="line">    Div.style.left = x + <span class="number">30</span> + <span class="string">"px"</span>;</span><br><span class="line">    Div.style.top = y + <span class="string">"px"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>最后在render方法中调用textShow方法即可<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> render(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.render());</span><br><span class="line">    <span class="keyword">this</span>.textShow();</span><br><span class="line">    <span class="keyword">this</span>.renderer.render(<span class="keyword">this</span>.scene, <span class="keyword">this</span>.camera); <span class="comment">// 必须放在这个位置</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="方法二：使用CSS2DObject和CSS2DRenderer渲染器"><a href="#方法二：使用CSS2DObject和CSS2DRenderer渲染器" class="headerlink" title="方法二：使用CSS2DObject和CSS2DRenderer渲染器"></a>方法二：使用CSS2DObject和CSS2DRenderer渲染器</h1><p>这个方法的原理是将dom元素通过CSS2DObject方法转换为three对象，然后利用CSS2DRenderer渲染器将其渲染在页面上<br>首先引入CSS2DObject和CSS2DRenderer<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; CSS2DObject, CSS2DRenderer &#125; <span class="keyword">from</span> <span class="string">"three/examples/jsm/renderers/CSS2DRenderer"</span>;</span><br></pre></td></tr></table></figure></p><p>接着声明一个CSS2DRenderer<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> labelRenderer: CSS2DRenderer</span><br></pre></td></tr></table></figure></p><p>新建一个div设置一些类名或者样式，然后将div传入CSS2DObject对象的实例中<br>将实例add进场景，再声明一个CSS2DRenderer，通过setSize方法设置渲染器的大小<br>通过labelRenderer.domElement来设置被转换成three对象之后的dom元素的样式<br>最后将labelRenderer.domElement对象appendChild到你想要的元素中<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Div: HTMLElement = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">Div.id = <span class="string">'trace'</span></span><br><span class="line">Div.className = <span class="string">'text'</span></span><br><span class="line">Div.textContent = <span class="string">"CSS2D方法"</span></span><br><span class="line"><span class="keyword">var</span> moonLabel = <span class="keyword">new</span> CSS2DObject(Div);</span><br><span class="line">moonLabel.position.set(<span class="number">0</span>, <span class="number">-3</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">this</span>.scene.add(moonLabel);</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.labelRenderer = <span class="keyword">new</span> CSS2DRenderer();</span><br><span class="line"><span class="keyword">this</span>.labelRenderer.setSize(<span class="built_in">window</span>.innerWidth, <span class="built_in">window</span>.innerHeight);</span><br><span class="line"><span class="keyword">this</span>.labelRenderer.domElement.style.position = <span class="string">'absolute'</span>;</span><br><span class="line"><span class="keyword">this</span>.labelRenderer.domElement.style.top = <span class="number">0</span> + <span class="string">'px'</span>;        </span><br><span class="line"><span class="built_in">document</span>.body.appendChild(<span class="keyword">this</span>.labelRenderer.domElement)</span><br></pre></td></tr></table></figure></p><p>最后直接再render方法中执行labelRenderer的render，传入场景和相机<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.labelRenderer.render(<span class="keyword">this</span>.scene, <span class="keyword">this</span>.camera);</span><br></pre></td></tr></table></figure></p><p>这里有个问题，如果场景有<code>OrbitControls</code>控制器，那么将会失效，因为CSS2DRenderer会先生成有个和渲染大小一样的div（就是setSize方法设置的大小）<br>如果能正常显示出div那么它的<code>z-index</code>是高于WebGLRenderer渲染出的canvas的层级，这样<code>OrbitControls</code>控制器就会失效<br>解决方法也很简单粗暴：给这个生成出来的div给一个<code>pointer-events: none;</code>样式即可</p><p>相比之下，我觉得方案二还是更简单一点，但是如果需要设置多个或不确定数量的div，那么可以使用第一个，使用for循环来处理</p><h1 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h1><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./assets/less/index.less'</span></span><br><span class="line"><span class="keyword">import</span> &#123; OrbitControls &#125; <span class="keyword">from</span> <span class="string">'three/examples/jsm/controls/OrbitControls'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Scene, PerspectiveCamera, WebGLRenderer, AmbientLight, DirectionalLight, AnimationMixer, AnimationAction, BoxGeometry, MeshBasicMaterial, Mesh, DoubleSide, Clock, Raycaster, Vector2, Vector3, Group, TextureLoader, Sprite, SpriteMaterial, LoopOnce &#125; <span class="keyword">from</span> <span class="string">"three"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; GLTFLoader, GLTF &#125; <span class="keyword">from</span> <span class="string">"three/examples/jsm/loaders/GLTFLoader"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; CSS2DObject, CSS2DRenderer &#125; <span class="keyword">from</span> <span class="string">"three/examples/jsm/renderers/CSS2DRenderer"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> Three &#123;</span><br><span class="line">    <span class="keyword">private</span> scene: Scene</span><br><span class="line">    <span class="keyword">private</span> camera: PerspectiveCamera</span><br><span class="line">    <span class="keyword">private</span> renderer: WebGLRenderer</span><br><span class="line">    <span class="keyword">private</span> controls: OrbitControls</span><br><span class="line">    <span class="keyword">private</span> mixer: AnimationMixer</span><br><span class="line">    <span class="keyword">private</span> clock: Clock</span><br><span class="line">    <span class="keyword">private</span> mainGroup: Group</span><br><span class="line">    <span class="keyword">private</span> circleGroup: Group</span><br><span class="line">    <span class="keyword">private</span> $<span class="built_in">window</span>: HTMLElement</span><br><span class="line">    <span class="keyword">private</span> fov: <span class="built_in">number</span></span><br><span class="line">    <span class="keyword">private</span> originalCamera: Vector3</span><br><span class="line">    <span class="keyword">private</span> circleData: Vector3</span><br><span class="line">    <span class="keyword">private</span> gltf: GLTF</span><br><span class="line">    <span class="keyword">private</span> anindex: <span class="built_in">number</span></span><br><span class="line">    <span class="keyword">private</span> animation: AnimationAction</span><br><span class="line">    <span class="keyword">private</span> isAnimate: <span class="built_in">boolean</span></span><br><span class="line">    <span class="keyword">private</span> labelRenderer: CSS2DRenderer</span><br><span class="line">    <span class="keyword">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.fov = <span class="number">26</span></span><br><span class="line">        <span class="keyword">this</span>.originalCamera = <span class="keyword">new</span> Vector3(<span class="number">-2.3363492363063805</span>, <span class="number">5.3542278380602655</span>, <span class="number">13.216669448945213</span>)</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span> = <span class="built_in">document</span>.querySelector(<span class="string">"#app"</span>);</span><br><span class="line">        <span class="keyword">this</span>.clock = <span class="keyword">new</span> Clock()</span><br><span class="line">        <span class="keyword">this</span>.circleData = <span class="keyword">new</span> Vector3(<span class="number">-0.2</span>, <span class="number">2.3</span>, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">this</span>.anindex = <span class="number">0</span></span><br><span class="line">        <span class="keyword">this</span>.isAnimate = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">this</span>.initScene();</span><br><span class="line">        <span class="keyword">this</span>.initThree();</span><br><span class="line">        <span class="keyword">this</span>.initCamera();</span><br><span class="line">        <span class="keyword">this</span>.initControls()</span><br><span class="line">        <span class="keyword">this</span>.initLight();</span><br><span class="line">        <span class="keyword">this</span>.initPulseCircle()</span><br><span class="line">        <span class="keyword">this</span>.initTrace()</span><br><span class="line">        <span class="keyword">this</span>.render()</span><br><span class="line">        <span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.onWindowResize());</span><br><span class="line">        <span class="keyword">this</span>.renderer.domElement.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="params">event</span> =&gt;</span> <span class="keyword">this</span>.modelTrigger(event));</span><br><span class="line">        <span class="keyword">this</span>.renderer.domElement.addEventListener(<span class="string">"touchstart"</span>, <span class="function"><span class="params">event</span> =&gt;</span> <span class="keyword">this</span>.modelTrigger(event));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> loader = <span class="keyword">new</span> GLTFLoader(); <span class="comment">//创建模型加载器对象</span></span><br><span class="line">        <span class="comment">// let dracoloader = new DRACOLoader();//draco加载器</span></span><br><span class="line">        <span class="keyword">const</span> textureLoader = <span class="keyword">new</span> TextureLoader();</span><br><span class="line">        <span class="keyword">const</span> skyboxGeometry = <span class="keyword">new</span> BoxGeometry(<span class="number">200</span>, <span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line">        <span class="keyword">const</span> skyboxMaterials = [</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/rt.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/lf.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/up.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/dn.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/bk.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">            <span class="keyword">new</span> MeshBasicMaterial(&#123; map: textureLoader.load(<span class="string">'./static/textures/ft.png'</span>), side: DoubleSide &#125;),</span><br><span class="line">        ];</span><br><span class="line">        <span class="keyword">const</span> skyboxMesh = <span class="keyword">new</span> Mesh(skyboxGeometry, skyboxMaterials);</span><br><span class="line">        skyboxMesh.name = <span class="string">'skyboxMesh'</span>;</span><br><span class="line">        skyboxMesh.position.y = <span class="number">97.45</span></span><br><span class="line">        <span class="keyword">this</span>.scene.add(skyboxMesh);</span><br><span class="line"></span><br><span class="line">        loader.load(<span class="string">'./static/models/glb/RobotExpressive.glb'</span>, <span class="function"><span class="params">object</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(object)</span><br><span class="line">            <span class="keyword">this</span>.gltf = object</span><br><span class="line">            <span class="keyword">this</span>.gltf.scene.position.set(<span class="number">0</span>, <span class="number">-2.5</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">this</span>.scene.add(<span class="keyword">this</span>.gltf.scene);</span><br><span class="line">            <span class="keyword">this</span>.mixer = <span class="keyword">new</span> AnimationMixer(<span class="keyword">this</span>.gltf.scene);</span><br><span class="line">            <span class="keyword">this</span>.selectAnim(<span class="number">5</span>, <span class="string">'点我的身体会有惊喜!'</span>, <span class="literal">true</span>)</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'submit'</span>).addEventListener(<span class="string">'click'</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.send()</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"input"</span>).addEventListener(<span class="string">"keyup"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">            event.preventDefault();</span><br><span class="line">            <span class="keyword">if</span> (event.keyCode === <span class="number">13</span>) &#123;</span><br><span class="line">                <span class="built_in">document</span>.getElementById(<span class="string">"submit"</span>).click();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> send(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> value: <span class="built_in">string</span> = (&lt;HTMLInputElement&gt;<span class="built_in">document</span>.getElementById(<span class="string">'input'</span>)).value;</span><br><span class="line">        (&lt;HTMLInputElement&gt;<span class="built_in">document</span>.getElementById(<span class="string">'input'</span>)).value = <span class="string">""</span></span><br><span class="line">        <span class="keyword">let</span> index = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="regexp">/跳舞/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">0</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/死/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/闲/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">2</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/开心|哈哈|ha/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">3</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/生气/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">4</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/牛|666/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">5</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/你好|hey|hello/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">6</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/是|不/</span>.test(value)) &#123;</span><br><span class="line">            index = <span class="number">7</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            index = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">9</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (index) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">0</span>, <span class="string">'啦~~啦~~~啦~~~'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">1</span>, <span class="string">'狗带！'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">2</span>, <span class="string">'无所事事。。。'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">3</span>, <span class="string">'开心'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">5</span>, <span class="string">'好气哦！'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">9</span>, <span class="string">'你牛逼！'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">12</span>, <span class="string">'你好！'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">13</span>, <span class="string">'yes'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">4</span>, <span class="string">'你说什么我听不懂？'</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">4</span>, <span class="string">'你说什么我听不懂？'</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> modelTrigger(event): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> Sx = event.clientX; <span class="comment">//鼠标单击位置横坐标</span></span><br><span class="line">        <span class="keyword">const</span> Sy = event.clientY; <span class="comment">//鼠标单击位置纵坐标</span></span><br><span class="line">        <span class="comment">//屏幕坐标转标准设备坐标</span></span><br><span class="line">        <span class="keyword">const</span> x = (Sx / <span class="built_in">window</span>.innerWidth) * <span class="number">2</span> - <span class="number">1</span>; <span class="comment">//标准设备横坐标</span></span><br><span class="line">        <span class="keyword">const</span> y = -(Sy / <span class="built_in">window</span>.innerHeight) * <span class="number">2</span> + <span class="number">1</span>; <span class="comment">//标准设备纵坐标</span></span><br><span class="line">        <span class="comment">//创建射线投射器对象</span></span><br><span class="line">        <span class="keyword">const</span> raycaster = <span class="keyword">new</span> Raycaster();</span><br><span class="line">        <span class="comment">//返回射线选中的对象</span></span><br><span class="line">        raycaster.setFromCamera(<span class="keyword">new</span> Vector2(x, y), <span class="keyword">this</span>.camera);</span><br><span class="line">        <span class="keyword">const</span> intersects = raycaster.intersectObjects(<span class="keyword">this</span>.scene.children, <span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">const</span> intersect = intersects.filter(<span class="function"><span class="params">intersect</span> =&gt;</span> intersect.object.name !== <span class="string">'skyboxMesh'</span>)</span><br><span class="line">        <span class="keyword">if</span> (intersect.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> result = intersect.filter(<span class="function"><span class="params">item</span> =&gt;</span> item.object.name === <span class="string">'Torso_0'</span>)</span><br><span class="line">            <span class="keyword">if</span> (result.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>.selectAnim(<span class="number">5</span>, <span class="string">'不要乱摸'</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">switch</span> (intersect[<span class="number">0</span>].object.name) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'Head_1'</span>:</span><br><span class="line">                    <span class="keyword">this</span>.selectAnim(<span class="number">3</span>, <span class="string">'摸头杀'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">'Head_2'</span>:</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">'头'</span>)</span><br><span class="line">                    <span class="keyword">this</span>.selectAnim(<span class="number">1</span>, <span class="string">'我的眼睛！！'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">'Torso_1'</span>:</span><br><span class="line">                    <span class="keyword">this</span>.selectAnim(<span class="number">12</span>, <span class="string">'给我捶捶背'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">'FootL'</span>:</span><br><span class="line">                    <span class="keyword">this</span>.selectAnim(<span class="number">3</span>, <span class="string">'左脚可以摸'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">'FootR'</span>:</span><br><span class="line">                    <span class="keyword">this</span>.selectAnim(<span class="number">5</span>, <span class="string">'别碰我的jiong'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> selectAnim(index: <span class="built_in">number</span>, text?: <span class="built_in">string</span>, loop?: <span class="built_in">boolean</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.isAnimate) &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.isAnimate = <span class="literal">true</span></span><br><span class="line">        <span class="comment">// animation</span></span><br><span class="line">        <span class="keyword">this</span>.mixer.uncacheClip(<span class="keyword">this</span>.gltf.animations[<span class="keyword">this</span>.anindex])</span><br><span class="line">        <span class="keyword">this</span>.animation = <span class="keyword">this</span>.mixer.clipAction(<span class="keyword">this</span>.gltf.animations[index])</span><br><span class="line">        <span class="keyword">this</span>.animation.clampWhenFinished = <span class="literal">true</span>;   <span class="comment">//播放完停留在最后一帧</span></span><br><span class="line">        <span class="keyword">if</span> (!loop) &#123;</span><br><span class="line">            <span class="keyword">this</span>.animation.setLoop(LoopOnce, <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.animation.fadeIn(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">this</span>.animation.play()</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.isAnimate = <span class="literal">false</span></span><br><span class="line">        &#125;, <span class="keyword">this</span>.gltf.animations[index].duration * <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">this</span>.anindex = index</span><br><span class="line"></span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'text'</span>).innerText = text</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建场景</span></span><br><span class="line">    <span class="keyword">private</span> initScene(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.scene = <span class="keyword">new</span> Scene();</span><br><span class="line">        <span class="keyword">this</span>.scene.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">this</span>.scene.lookAt(<span class="keyword">this</span>.scene.position);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建相机</span></span><br><span class="line">    <span class="keyword">private</span> initCamera(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.camera = <span class="keyword">new</span> PerspectiveCamera(</span><br><span class="line">            <span class="keyword">this</span>.fov,</span><br><span class="line">            <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth / <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight,</span><br><span class="line">            <span class="number">0.1</span>,</span><br><span class="line">            <span class="number">5000</span></span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">this</span>.camera.position.x = <span class="keyword">this</span>.originalCamera.x</span><br><span class="line">        <span class="keyword">this</span>.camera.position.y = <span class="keyword">this</span>.originalCamera.y</span><br><span class="line">        <span class="keyword">this</span>.camera.position.z = <span class="keyword">this</span>.originalCamera.z</span><br><span class="line">        <span class="keyword">this</span>.camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建3D渲染器</span></span><br><span class="line">    <span class="keyword">private</span> initThree(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.renderer = <span class="keyword">new</span> WebGLRenderer();</span><br><span class="line">        <span class="keyword">this</span>.renderer.setSize(</span><br><span class="line">            <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth,</span><br><span class="line">            <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">this</span>.renderer.setSize(<span class="built_in">window</span>.innerWidth, <span class="built_in">window</span>.innerHeight);</span><br><span class="line">        <span class="keyword">this</span>.renderer.setClearColor(<span class="number">0xb34149</span>, <span class="number">1</span>); <span class="comment">//设置背景颜色</span></span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span>.appendChild(<span class="keyword">this</span>.renderer.domElement);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建光源</span></span><br><span class="line">    <span class="keyword">private</span> initLight(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="comment">// 环境光</span></span><br><span class="line">        <span class="keyword">this</span>.scene.add(<span class="keyword">new</span> AmbientLight(<span class="number">0xd29c96</span>, <span class="number">1</span>));</span><br><span class="line">        <span class="comment">// 平行光</span></span><br><span class="line">        <span class="keyword">let</span> light = <span class="keyword">new</span> DirectionalLight(<span class="number">0xffffff</span>, <span class="number">0.6</span>);</span><br><span class="line">        light.position.set(<span class="number">0</span>, <span class="number">10</span>, <span class="number">5</span>);</span><br><span class="line">        <span class="keyword">this</span>.scene.add(light);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 开启控制器</span></span><br><span class="line">    <span class="keyword">private</span> initControls(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.controls = <span class="keyword">new</span> OrbitControls(<span class="keyword">this</span>.camera, <span class="keyword">this</span>.renderer.domElement);</span><br><span class="line">        <span class="keyword">this</span>.controls.enableDamping = <span class="literal">true</span>; <span class="comment">// 惯性滑动，滑动大小默认0.25</span></span><br><span class="line">        <span class="keyword">this</span>.controls.dampingFactor = <span class="number">0.05</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// //控制</span></span><br><span class="line">        <span class="keyword">this</span>.controls.enableZoom = <span class="literal">true</span>; <span class="comment">// 缩放</span></span><br><span class="line">        <span class="keyword">this</span>.controls.enableKeys = <span class="literal">true</span>; <span class="comment">// 键盘</span></span><br><span class="line">        <span class="keyword">this</span>.controls.enablePan = <span class="literal">false</span>; <span class="comment">// 是否开启右键拖拽</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 旋转速度</span></span><br><span class="line">        <span class="keyword">this</span>.controls.rotateSpeed = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 自动旋转</span></span><br><span class="line">        <span class="keyword">this</span>.controls.autoRotate = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">this</span>.controls.autoRotateSpeed = <span class="number">-0.01</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置仰视角和俯视角,后续进行重置</span></span><br><span class="line">        <span class="keyword">this</span>.controls.maxPolarAngle = <span class="built_in">Math</span>.PI / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">this</span>.controls.minPolarAngle = <span class="built_in">Math</span>.PI / <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">this</span>.controls.zoomSpeed = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//设置相机距离原点的最远距离</span></span><br><span class="line">        <span class="comment">// controls.minDistance = 120;</span></span><br><span class="line">        <span class="comment">//设置相机距离原点的最远距离</span></span><br><span class="line">        <span class="comment">// controls.maxDistance = 120 + 120 * 0.5;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 创建发光点</span></span><br><span class="line">    <span class="keyword">private</span> initPulseCircle(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.mainGroup = <span class="keyword">new</span> Group();</span><br><span class="line">        <span class="keyword">this</span>.scene.add(<span class="keyword">this</span>.mainGroup);</span><br><span class="line">        <span class="keyword">var</span> spriteMap = <span class="keyword">new</span> TextureLoader().load(<span class="string">"./static/img/img.png"</span>);</span><br><span class="line">        <span class="keyword">let</span> pinMaterial = <span class="keyword">new</span> SpriteMaterial(&#123;</span><br><span class="line">            map: spriteMap</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">this</span>.circleGroup = <span class="keyword">new</span> Group();</span><br><span class="line">        <span class="keyword">let</span> container = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">        container.className = <span class="string">'show'</span></span><br><span class="line">        <span class="keyword">let</span> Div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">        Div.className = <span class="string">'text'</span></span><br><span class="line">        Div.id = <span class="string">"text"</span></span><br><span class="line">        Div.style.left = <span class="number">0</span> + <span class="string">'px'</span></span><br><span class="line">        Div.style.top = <span class="number">0</span> + <span class="string">'px'</span></span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(Div)</span><br><span class="line">        <span class="keyword">let</span> pin: Sprite = <span class="keyword">new</span> Sprite(pinMaterial);</span><br><span class="line">        pin.position.set(</span><br><span class="line">            <span class="keyword">this</span>.circleData.x,</span><br><span class="line">            <span class="keyword">this</span>.circleData.y,</span><br><span class="line">            <span class="keyword">this</span>.circleData.z</span><br><span class="line">        );</span><br><span class="line">        pin.scale.set(<span class="number">0.3</span>, <span class="number">0.3</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">this</span>.circleGroup.add(pin);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 发光点DOM文本</span></span><br><span class="line">    <span class="keyword">private</span> textShow(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> worldVector = <span class="keyword">new</span> Vector3(</span><br><span class="line">            <span class="keyword">this</span>.circleData.x,</span><br><span class="line">            <span class="keyword">this</span>.circleData.y,</span><br><span class="line">            <span class="keyword">this</span>.circleData.z</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">let</span> standardVector = worldVector.project(<span class="keyword">this</span>.camera);</span><br><span class="line">        <span class="keyword">let</span> a = <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">let</span> b = <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">let</span> x = <span class="built_in">Math</span>.round(standardVector.x * a + a);</span><br><span class="line">        <span class="keyword">let</span> y = <span class="built_in">Math</span>.round(-standardVector.y * b + b);</span><br><span class="line">        <span class="keyword">let</span> Div: HTMLElement = <span class="built_in">document</span>.getElementById(<span class="string">'text'</span>)</span><br><span class="line">        Div.style.left = x + <span class="number">30</span> + <span class="string">"px"</span>;</span><br><span class="line">        Div.style.top = y + <span class="string">"px"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> initTrace(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> Div: HTMLElement = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">        Div.id = <span class="string">'trace'</span></span><br><span class="line">        Div.className = <span class="string">'text'</span></span><br><span class="line">        Div.textContent = <span class="string">"Moon"</span></span><br><span class="line">        <span class="keyword">var</span> moonLabel = <span class="keyword">new</span> CSS2DObject(Div);</span><br><span class="line">        moonLabel.position.set(<span class="number">0</span>, <span class="number">-3</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">this</span>.scene.add(moonLabel);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.labelRenderer = <span class="keyword">new</span> CSS2DRenderer();</span><br><span class="line">        <span class="keyword">this</span>.labelRenderer.setSize(<span class="built_in">window</span>.innerWidth, <span class="built_in">window</span>.innerHeight);</span><br><span class="line">        <span class="keyword">this</span>.labelRenderer.domElement.style.position = <span class="string">'absolute'</span>;</span><br><span class="line">        <span class="keyword">this</span>.labelRenderer.domElement.style.top = <span class="number">0</span> + <span class="string">'px'</span>;        </span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(<span class="keyword">this</span>.labelRenderer.domElement)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> render(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="built_in">window</span>.requestAnimationFrame(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.render());</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.mixer) &#123;</span><br><span class="line">            <span class="keyword">this</span>.mixer.update(<span class="keyword">this</span>.clock.getDelta());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.controls.update();</span><br><span class="line">        <span class="keyword">this</span>.textShow();</span><br><span class="line">        <span class="keyword">this</span>.renderer.render(<span class="keyword">this</span>.scene, <span class="keyword">this</span>.camera); <span class="comment">// 必须放在这个位置</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">this</span>.labelRenderer.render(<span class="keyword">this</span>.scene, <span class="keyword">this</span>.camera);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> onWindowResize(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.renderer.setSize(<span class="built_in">window</span>.innerWidth, <span class="built_in">window</span>.innerHeight);</span><br><span class="line">        <span class="keyword">this</span>.camera.aspect = <span class="built_in">window</span>.innerWidth / <span class="built_in">window</span>.innerHeight;</span><br><span class="line">        <span class="keyword">this</span>.camera.updateProjectionMatrix();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;方法一：使用Sprite对象&quot;&gt;&lt;a href=&quot;#方法一：使用Sprite对象&quot; class=&quot;headerlink&quot; title=&quot;方法一：使用Sprite对象&quot;&gt;&lt;/a&gt;方法一：使用Sprite对象&lt;/h1&gt;&lt;p&gt;首先实例化一个SpriteMaterial，设置好材质或颜色，可以是透明的&lt;br&gt;&lt;figure class=&quot;highlight ts&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; spriteMap = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TextureLoader().load(&lt;span class=&quot;string&quot;&gt;&quot;./static/img/img.png&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; pinMaterial = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SpriteMaterial(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    map: spriteMap&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后创建一个div或者绑定html上现有的div元素,设置好默认的位置属性，可以用css来设置默认样式&lt;br&gt;&lt;figure class=&quot;highlight ts&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; Div = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;div&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Div.className = &lt;span class=&quot;string&quot;&gt;&#39;text&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Div.id = &lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Div.style.left = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;px&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Div.style.top = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;px&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.appendChild(Div)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后声明一个坐标点并初始化，之后用来保存每次改变后的坐标点&lt;br&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="three.js" scheme="https://hakunamatata052.github.io/categories/JS/three-js/"/>
    
    
      <category term="three.js" scheme="https://hakunamatata052.github.io/tags/three-js/"/>
    
      <category term="threejs" scheme="https://hakunamatata052.github.io/tags/threejs/"/>
    
      <category term="three" scheme="https://hakunamatata052.github.io/tags/three/"/>
    
  </entry>
  
  <entry>
    <title>当年的元歌比露娜还秀</title>
    <link href="https://hakunamatata052.github.io/2020/08/25/yuange/"/>
    <id>https://hakunamatata052.github.io/2020/08/25/yuange/</id>
    <published>2020-08-25T08:25:36.000Z</published>
    <updated>2020-08-26T07:38:10.000Z</updated>
    
    <content type="html"><![CDATA[<video src="/2020/08/25/yuange/4852abda01b06d0270ff57cff566085c.mp4" controls style="display:block;margin:auto"></video>]]></content>
    
    <summary type="html">
    
      
      
        &lt;video src=&quot;/2020/08/25/yuange/4852abda01b06d0270ff57cff566085c.mp4&quot; controls style=&quot;display:block;margin:auto&quot;&gt;&lt;/video&gt;
      
    
    </summary>
    
      <category term="日常" scheme="https://hakunamatata052.github.io/categories/%E6%97%A5%E5%B8%B8/"/>
    
    
      <category term="元歌 王者荣耀" scheme="https://hakunamatata052.github.io/tags/%E5%85%83%E6%AD%8C-%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80/"/>
    
  </entry>
  
  <entry>
    <title>快速搭建webpack4.0+</title>
    <link href="https://hakunamatata052.github.io/2020/08/25/webpack/"/>
    <id>https://hakunamatata052.github.io/2020/08/25/webpack/</id>
    <published>2020-08-25T06:14:00.000Z</published>
    <updated>2020-08-25T08:43:38.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="初始化npm"><a href="#初始化npm" class="headerlink" title="初始化npm"></a>初始化npm</h3><p>使用-y来快速创建<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure></p><h3 id="安装webpack和webpack-cli脚手架"><a href="#安装webpack和webpack-cli脚手架" class="headerlink" title="安装webpack和webpack-cli脚手架"></a>安装webpack和webpack-cli脚手架</h3><p>从webpack4.0开始，webpack打包工具和命令行工具就开成两个包了，需要同时安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack webpack-cli -D</span><br></pre></td></tr></table></figure></p><h3 id="创建工程目录"><a href="#创建工程目录" class="headerlink" title="创建工程目录"></a>创建工程目录</h3><p>新建src目录，之后写的js、html、css等源文件放在这里,在src目录下新建一个index.js作为入口文件<br><code>src/index.js</code>是webpack默认的入口文件目录，因为不需要单独配置，如果不想使用这个路径，需要在<code>webpack.config.js</code>中单独配置<br>此处目录结构应为</p><ul><li>node_modules</li><li>src<ul><li>index.js</li></ul></li><li>package.json</li></ul><h3 id="安装webpack-dev-server"><a href="#安装webpack-dev-server" class="headerlink" title="安装webpack-dev-server"></a>安装webpack-dev-server</h3><p>此时webpack只能每次执行打包命令后才能看到打包结果，开发过程中我们需要实时编译，因此需要一个本地服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack-dev-server -D</span><br></pre></td></tr></table></figure></p><h3 id="安装html-webpack-plugin插件"><a href="#安装html-webpack-plugin插件" class="headerlink" title="安装html-webpack-plugin插件"></a>安装html-webpack-plugin插件</h3><p>虽然现在可以试试打包js，但是我们的html依然不能进行热更新，而且打包上线时，打包的资源文件一般会进行哈希命名，每次打包手动修改index.html文件中的资源文件名着实很费劲<br>因此需要html-webpack-plugin插件帮我们自动完成资源引用并增加热更新功能<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i html-webpack-plugin -D</span><br></pre></td></tr></table></figure></p><p>安装好后在项目根目录下新建<code>webpack.config.js</code>文件，并设置html-webpack-plugin的对应html模板<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports =&#123;</span><br><span class="line">    plugins:[</span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            filename:<span class="string">'index.html'</span>,</span><br><span class="line">            template:<span class="string">"./src/index.html"</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在src下新建index.html文件<br>之后目录应为</p><ul><li>node_modules</li><li>src<ul><li>index.js</li><li>index.html</li></ul></li><li>package.json</li><li>webpack.config.js</li></ul><h3 id="新增命令行"><a href="#新增命令行" class="headerlink" title="新增命令行"></a>新增命令行</h3><p>在<code>package.json</code>的scripts中新增一个命令<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"dev"</span>:<span class="string">"webpack-dev-server --host 192.168.0.2 --hot --https --port 80 --open"</span>,</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">&#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><p>其中<br><code>--host 192.138.0.2</code>表示配置本地服务的ip<br><code>--hot</code>表示开启热更新模式<br><code>--https</code>表示开始https<br><code>--port 80</code>表示端口为80<br><code>--open</code>表示启动后自动打开游览器，后面可以跟游览器的标识，不写表示打开默认游览器<br>到此本地服务就搭建完毕了，接下来需要配置loader和打包选项，今天先更到这里</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;初始化npm&quot;&gt;&lt;a href=&quot;#初始化npm&quot; class=&quot;headerlink&quot; title=&quot;初始化npm&quot;&gt;&lt;/a&gt;初始化npm&lt;/h3&gt;&lt;p&gt;使用-y来快速创建&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;t
      
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="webpack" scheme="https://hakunamatata052.github.io/categories/JS/webpack/"/>
    
    
      <category term="webpack" scheme="https://hakunamatata052.github.io/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>Promise和async/await</title>
    <link href="https://hakunamatata052.github.io/2020/08/25/promise/"/>
    <id>https://hakunamatata052.github.io/2020/08/25/promise/</id>
    <published>2020-08-25T03:18:00.000Z</published>
    <updated>2021-03-12T03:42:42.664Z</updated>
    
    <content type="html"><![CDATA[<h3 id="为什么要用Promise"><a href="#为什么要用Promise" class="headerlink" title="为什么要用Promise"></a>为什么要用Promise</h3><p>一般情况我们一次性调用API就可以完成请求。<br>有些情况需要多次调用服务器API，就会形成一个链式调用，比如为了完成一个功能，我们需要调用API1、API2、API3，依次按照顺序进行调用，这个时候就会出现回调地狱的问题</p><h3 id="Promise的链式结构"><a href="#Promise的链式结构" class="headerlink" title="Promise的链式结构"></a>Promise的链式结构</h3><p>使用Promise可以做到链式结构，即一个请求结束后在then方法中执行下一个异步请求，再下一个异步请求放在上一个异步请求的then方法中,但是需要再每个then方法中return一个Promise对象<br>这样我们就得到了一个扁平的结构而不是回调套回调。<br>eg.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">        res()</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res2, rej2</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">            res2()</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res3, rej4</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">            res3()</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'结束'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><a id="more"></a><p>执行结果是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line">结束</span><br></pre></td></tr></table></figure></p><h3 id="使用all方法"><a href="#使用all方法" class="headerlink" title="使用all方法"></a>使用all方法</h3><p>但是通常在真是项目中，每个请求会有单独的方法封装，而且每个Promise会有独立的then方法，这时可以使用Promise对象的all方法<br>他表示无论三个异步请求谁先执行谁后执行，都等待三个异步请求全部结束后执行all中的函数。<br>如果后一个请求需要得到前一个请求中的数据，那么还是需要使用前面的链式结构才行。<br>如果既要使用已经封装好的Promise函数，有需要按步调用，可以使用ES7中的async/await<br>eg.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>)=&gt;</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">        res()</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>)=&gt;</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">        res()</span><br><span class="line">    &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> promise3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>)=&gt;</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">        res()</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Promise</span>.all([promise1, promise2, promise3]).then(<span class="function"><span class="params">()</span>=&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'结束'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>执行结果是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">结束</span><br></pre></td></tr></table></figure></p><h3 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h3><p>首先封装的方法需要return一个Promise对象，接着在请求的函数前面添加async关键字，在请求函数的内部使用变量或常量接受封装的Promise对象即可，但是封装的Promise对象前需要加await<br>这时接收到的结果就是Promise对象中then方法中return的结果<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            resolve(<span class="string">"666"</span>)</span><br><span class="line">        &#125;, <span class="number">5000</span>);</span><br><span class="line">    &#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">ajaxAsync</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">const</span> r = <span class="keyword">await</span> ajax()    </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(r)    </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line">ajaxAsync()</span><br></pre></td></tr></table></figure></p><p>执行结果是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span>  <span class="comment">// 5s后</span></span><br><span class="line"><span class="number">666</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;为什么要用Promise&quot;&gt;&lt;a href=&quot;#为什么要用Promise&quot; class=&quot;headerlink&quot; title=&quot;为什么要用Promise&quot;&gt;&lt;/a&gt;为什么要用Promise&lt;/h3&gt;&lt;p&gt;一般情况我们一次性调用API就可以完成请求。&lt;br&gt;有些情况需要多次调用服务器API，就会形成一个链式调用，比如为了完成一个功能，我们需要调用API1、API2、API3，依次按照顺序进行调用，这个时候就会出现回调地狱的问题&lt;/p&gt;
&lt;h3 id=&quot;Promise的链式结构&quot;&gt;&lt;a href=&quot;#Promise的链式结构&quot; class=&quot;headerlink&quot; title=&quot;Promise的链式结构&quot;&gt;&lt;/a&gt;Promise的链式结构&lt;/h3&gt;&lt;p&gt;使用Promise可以做到链式结构，即一个请求结束后在then方法中执行下一个异步请求，再下一个异步请求放在上一个异步请求的then方法中,但是需要再每个then方法中return一个Promise对象&lt;br&gt;这样我们就得到了一个扁平的结构而不是回调套回调。&lt;br&gt;eg.&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;res, rej&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    setTimeout(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        res()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;, &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;).then(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;res2, rej2&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setTimeout(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            res2()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;, &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;).then(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;res3, rej4&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setTimeout(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            res3()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;, &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;).then(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;结束&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
    
      <category term="Promise async/await async await 同步异步 异步" scheme="https://hakunamatata052.github.io/tags/Promise-async-await-async-await-%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5-%E5%BC%82%E6%AD%A5/"/>
    
  </entry>
  
  <entry>
    <title>Three.js 入门</title>
    <link href="https://hakunamatata052.github.io/2020/08/24/three.js/"/>
    <id>https://hakunamatata052.github.io/2020/08/24/three.js/</id>
    <published>2020-08-24T08:21:00.000Z</published>
    <updated>2020-08-26T07:39:40.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="安装three-js"><a href="#安装three-js" class="headerlink" title="安装three.js"></a>安装three.js</h3><p>使用npm安装three.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i three -S</span><br></pre></td></tr></table></figure></p><p>导入场景、相机、灯光、渲染器等类<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Scene, PerspectiveCamera, WebGLRenderer ,AmbientLight ,DirectionalLight&#125; <span class="keyword">from</span> <span class="string">"three"</span></span><br></pre></td></tr></table></figure></p><p>创建并暴露一个类，定义场景、相机、灯光等，并设置渲染的DOM容器</p><a id="more"></a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Three</span> </span>&#123;</span><br><span class="line">    private scene: Scene</span><br><span class="line">    private camera: PerspectiveCamera</span><br><span class="line">    private renderer: WebGLRenderer</span><br><span class="line">    private $<span class="built_in">window</span>: HTMLElement</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span> = <span class="built_in">document</span>.querySelector(<span class="string">"#app"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="创建场景"><a href="#创建场景" class="headerlink" title="创建场景"></a>创建场景</h3><p>初始化一个场景,这里我设置了一个私有方法，之后会在constructor中调用<br>scene.position.set可以设置场景在坐标系的位置<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建场景</span></span><br><span class="line">private initScene(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.scene = <span class="keyword">new</span> Scene();</span><br><span class="line">    <span class="keyword">this</span>.scene.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">this</span>.scene.lookAt(<span class="keyword">this</span>.scene.position);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="创建相机"><a href="#创建相机" class="headerlink" title="创建相机"></a>创建相机</h3><p>接着初始化相机,这里使用的是透视相机PerspectiveCamera，相机接受4个参数，分别是</p><ul><li>PerspectiveCamera(fov, aspect, near, far)</li><li>Fov – 相机的视锥体的垂直视野角</li><li>Aspect – 相机视锥体的长宽比</li><li>Near – 相机视锥体的近平面</li><li>Far – 相机视锥体的远平面<br>相机的位置可以使用camera.position.x，camera.position.y，camera.position.z进行赋值来改变<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建相机</span></span><br><span class="line">private initCamera(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.camera = <span class="keyword">new</span> PerspectiveCamera(</span><br><span class="line">        <span class="number">25</span>,</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth / <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight,</span><br><span class="line">        <span class="number">0.1</span>,</span><br><span class="line">        <span class="number">1000</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">this</span>.camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="创建光源"><a href="#创建光源" class="headerlink" title="创建光源"></a>创建光源</h3><p>接着初始化灯光,这里添加了两个灯光，一个环境光，一个平行光，可添加多个光源<br>灯光的构造函数中传入灯光颜色和透明度，颜色必须是0x+16进制色<br>环境光没有位置属性，平行光可以添加光源的位置，使用light.position.set来设置位置，传入三个参数分别是x坐标，y坐标，z坐标<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建光源</span></span><br><span class="line">private initLight(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="comment">// 环境光</span></span><br><span class="line">    <span class="keyword">this</span>.scene.add(<span class="keyword">new</span> AmbientLight(<span class="number">0xd29c96</span>, <span class="number">1</span>));</span><br><span class="line">    <span class="comment">// 平行光</span></span><br><span class="line">    <span class="keyword">let</span> light = <span class="keyword">new</span> DirectionalLight(<span class="number">0xffffff</span>, <span class="number">0.6</span>);</span><br><span class="line">    light.position.set(<span class="number">0</span>, <span class="number">10</span>, <span class="number">5</span>);</span><br><span class="line">    <span class="keyword">this</span>.scene.add(light);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="创建3D渲染器"><a href="#创建3D渲染器" class="headerlink" title="创建3D渲染器"></a>创建3D渲染器</h3><p>接着创建渲染器,使用three内置的WebGLRenderer渲染器来渲染，渲染器可以通过setSize方法设置大小，这里我们设置一个和画布一样大的渲染器，如果渲染尺寸小于画布大小，则超出渲染器大小的位置将不被渲染<br>使用setClearColor方法可以设置渲染区域的背景色<br>最后将渲染器的domElement属性appendChild进需要的DOM标签内即可<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建3D渲染器</span></span><br><span class="line">private initThree(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.renderer = <span class="keyword">new</span> WebGLRenderer();</span><br><span class="line">    <span class="keyword">this</span>.renderer.setSize(</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span>.clientWidth,</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span>.clientHeight</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">this</span>.renderer.setClearColor(<span class="number">0xb34149</span>, <span class="number">1</span>); <span class="comment">//设置背景颜色</span></span><br><span class="line">    <span class="keyword">this</span>.$<span class="built_in">window</span>.appendChild(<span class="keyword">this</span>.renderer.domElement);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>接着将这些方法添加进constructor内，让实例创建时自动执行<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Three</span> </span>&#123;</span><br><span class="line">    private scene: Scene</span><br><span class="line">    private camera: PerspectiveCamera</span><br><span class="line">    private renderer: WebGLRenderer</span><br><span class="line">    private $<span class="built_in">window</span>: HTMLElement</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="keyword">this</span>.$<span class="built_in">window</span> = <span class="built_in">document</span>.querySelector(<span class="string">"#app"</span>);        </span><br><span class="line">        <span class="keyword">this</span>.initScene();</span><br><span class="line">        <span class="keyword">this</span>.initThree();</span><br><span class="line">        <span class="keyword">this</span>.initCamera();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="开启控制器"><a href="#开启控制器" class="headerlink" title="开启控制器"></a>开启控制器</h3><p>接着使用renderer.render方法就可以渲染了，但是这样只能渲染一帧画面，我们需要做鼠标控制，或者3D动画是需要实时渲染的<br>例如加一个鼠标控制<br>首先导入控制器<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; OrbitControls &#125; <span class="keyword">from</span> <span class="string">'three/examples/jsm/controls/OrbitControls'</span>;</span><br></pre></td></tr></table></figure></p><p>接着初始化这个控制器，这里依然使用一个方法,然后添加进constructor<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 开启控制器</span></span><br><span class="line">private initControls(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.controls = <span class="keyword">new</span> OrbitControls(<span class="keyword">this</span>.camera, <span class="keyword">this</span>.renderer.domElement);</span><br><span class="line">    <span class="keyword">this</span>.controls.enableDamping = <span class="literal">true</span>; <span class="comment">// 惯性滑动，滑动大小默认0.25</span></span><br><span class="line">    <span class="keyword">this</span>.controls.dampingFactor = <span class="number">0.05</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// //控制</span></span><br><span class="line">    <span class="keyword">this</span>.controls.enableZoom = <span class="literal">false</span>; <span class="comment">// 缩放</span></span><br><span class="line">    <span class="keyword">this</span>.controls.enableKeys = <span class="literal">false</span>; <span class="comment">// 键盘</span></span><br><span class="line">    <span class="keyword">this</span>.controls.enablePan = <span class="literal">false</span>; <span class="comment">// 是否开启右键拖拽</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 旋转速度</span></span><br><span class="line">    <span class="keyword">this</span>.controls.rotateSpeed = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 自动旋转</span></span><br><span class="line">    <span class="keyword">this</span>.controls.autoRotate = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">this</span>.controls.autoRotateSpeed = <span class="number">-0.01</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置仰视角和俯视角,后续进行重置</span></span><br><span class="line">    <span class="keyword">this</span>.controls.maxPolarAngle = <span class="built_in">Math</span>.PI / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">this</span>.controls.minPolarAngle = <span class="built_in">Math</span>.PI / <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">this</span>.controls.zoomSpeed = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//设置相机距离原点的最远距离</span></span><br><span class="line">    <span class="comment">// controls.minDistance = 120;</span></span><br><span class="line">    <span class="comment">//设置相机距离原点的最远距离</span></span><br><span class="line">    <span class="comment">// controls.maxDistance = 120 + 120 * 0.5;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="渲染"><a href="#渲染" class="headerlink" title="渲染"></a>渲染</h3><p>这样添加的控制器虽然可以控制场景，但是画布不会重新渲染，所以我们需要添加一个渲染函数并且每次调用自身来更新画面<br>这里使用的是requestAnimationFrame函数来调用自身，也可以使用setInterval但是setInterval是固定时间渲染，如果场景过大，过复杂，可能时间到了还没渲染好又得渲染下一帧，这样会导致页面卡死<br>requestAnimationFrame没有固定时间，他会在当前帧渲染完毕后执行下一次，这样就不会导致页面卡死了<br>接着在render方法中使用controls.update()来更新每次的控制，使用renderer.render来更新画面<br>最后在constructor函数中调用render即可<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">private render(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.render());</span><br><span class="line">    <span class="keyword">this</span>.controls.update();</span><br><span class="line">    <span class="keyword">this</span>.renderer.render(<span class="keyword">this</span>.scene, <span class="keyword">this</span>.camera);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>最后在需要需要的地方导入并new Three()就可以了</p><h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><iframe src="/2020/08/24/three.js/three.html" width="600" height="600" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;安装three-js&quot;&gt;&lt;a href=&quot;#安装three-js&quot; class=&quot;headerlink&quot; title=&quot;安装three.js&quot;&gt;&lt;/a&gt;安装three.js&lt;/h3&gt;&lt;p&gt;使用npm安装three.js&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;npm i three -S&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;导入场景、相机、灯光、渲染器等类&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; Scene, PerspectiveCamera, WebGLRenderer ,AmbientLight ,DirectionalLight&amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;three&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;创建并暴露一个类，定义场景、相机、灯光等，并设置渲染的DOM容器&lt;/p&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="three.js" scheme="https://hakunamatata052.github.io/categories/JS/three-js/"/>
    
    
      <category term="three.js" scheme="https://hakunamatata052.github.io/tags/three-js/"/>
    
      <category term="threejs" scheme="https://hakunamatata052.github.io/tags/threejs/"/>
    
      <category term="three" scheme="https://hakunamatata052.github.io/tags/three/"/>
    
  </entry>
  
  <entry>
    <title>制作菱形图片遮罩</title>
    <link href="https://hakunamatata052.github.io/2019/03/01/mark/"/>
    <id>https://hakunamatata052.github.io/2019/03/01/mark/</id>
    <published>2019-03-01T02:56:52.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h1><p>使用box-shadow制作菱形遮罩</p><p>需要在原有结构内增加一个shaow遮罩层</p><h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"img"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://picsum.photos/300/300"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shadow"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>外层div设置相对定位position: relative;<br>将shadow层旋转45度，并设置阴影；<br>box-shadow中的值分别是：<br>box-shadow：水平位移 垂直位移 阴影宽度 模糊程度 颜色<br>这里水平和垂直位移这只为0，即从中间开始向四周出现阴影。 阴影宽度一定要宽于外框，模糊程度可以填0，即不模糊，颜色填白色。</p><h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shadow</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span> <span class="number">200px</span> <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><iframe src="/2019/03/01/mark/mark.html" width="600" height="600" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe><h1 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h1><p>使用两次旋转达到菱形效果</p><h3 id="HTML-1"><a href="#HTML-1" class="headerlink" title="HTML"></a>HTML</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"img"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://picsum.photos/300/300"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="CSS-1"><a href="#CSS-1" class="headerlink" title="CSS"></a>CSS</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.img</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">-o-transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.img</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">250px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">250px</span>;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">-o-transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="效果-1"><a href="#效果-1" class="headerlink" title="效果"></a>效果</h3><iframe src="/2019/03/01/mark/mark2.html" width="650" height="500" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;方法一&quot;&gt;&lt;a href=&quot;#方法一&quot; class=&quot;headerlink&quot; title=&quot;方法一&quot;&gt;&lt;/a&gt;方法一&lt;/h1&gt;&lt;p&gt;使用box-shadow制作菱形遮罩&lt;/p&gt;
&lt;p&gt;需要在原有结构内增加一个shaow遮罩层&lt;/p&gt;
&lt;h3 id=&quot;HTML&quot;&gt;&lt;a href=&quot;#HTML&quot; class=&quot;headerlink&quot; title=&quot;HTML&quot;&gt;&lt;/a&gt;HTML&lt;/h3&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;img&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;https://picsum.photos/300/300&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;shadow&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="CSS" scheme="https://hakunamatata052.github.io/categories/CSS/"/>
    
    
      <category term="CSS CSS3" scheme="https://hakunamatata052.github.io/tags/CSS-CSS3/"/>
    
  </entry>
  
  <entry>
    <title>科学上网（翻墙）神器【蓝灯】</title>
    <link href="https://hakunamatata052.github.io/2019/01/21/lantern/"/>
    <id>https://hakunamatata052.github.io/2019/01/21/lantern/</id>
    <published>2019-01-21T01:08:46.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>给大家介绍一款免费限制流量的科学上网神器<strong>蓝灯lantren</strong><br>下载地址：<a href="https://github.com/HakunaMatata052/lantern-binaries" target="_blank" rel="noopener">Github</a><br>里面包含Windows，Android，macOS三个版本。<br>点击对应拓展名文件进入下载即可<br><a id="more"></a></p><h2 id="以Windows为例"><a href="#以Windows为例" class="headerlink" title="以Windows为例"></a>以Windows为例</h2><p>点击3.0最新版的exe文件<br><img src="/2019/01/21/lantern/01.png"></p><p>点击download下载<br></p><p>下载先来后双击安装即可。<br><img src="/2019/01/21/lantern/03.jpg"><br>速度还可以~~</p><p>每个月有500MB的免费流量，可以升级到专业版，不限制流量。<br>博主500MB基本足够。<br>而且他采用的是只能切换线路，如果访问的是国内站点，是不通过VPN的，也不会消耗流量。只有当你访问被墙网站的时候才会切换vpn线路。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;给大家介绍一款免费限制流量的科学上网神器&lt;strong&gt;蓝灯lantren&lt;/strong&gt;&lt;br&gt;下载地址：&lt;a href=&quot;https://github.com/HakunaMatata052/lantern-binaries&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Github&lt;/a&gt;&lt;br&gt;里面包含Windows，Android，macOS三个版本。&lt;br&gt;点击对应拓展名文件进入下载即可&lt;br&gt;
    
    </summary>
    
    
      <category term="科学上网" scheme="https://hakunamatata052.github.io/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
      <category term="翻墙" scheme="https://hakunamatata052.github.io/tags/%E7%BF%BB%E5%A2%99/"/>
    
  </entry>
  
  <entry>
    <title>一句代码解决bootstrap栅格几个设置5等分</title>
    <link href="https://hakunamatata052.github.io/2019/01/04/bootstrap-offset/"/>
    <id>https://hakunamatata052.github.io/2019/01/04/bootstrap-offset/</id>
    <published>2019-01-04T07:45:01.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>HTML<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"col-xs-offset-1 col-xs-2 text-center"</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"col-xs-2 text-center"</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"col-xs-2 text-center"</span>&gt;</span>番茄<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"col-xs-2 text-center"</span>&gt;</span>石榴<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"col-xs-2 text-center"</span>&gt;</span>芒果<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>正常设置每个栅格2等分，最后会在末尾空余出2等分（共12等分），然后第一个栅格设置col-xs-offset-1，意思是偏移一格，等于把最后的2等分其中一份放在最前面了。<br>这样做可以解决bootstrap栅格5等分的问题，但是最终宽度会比正常窄，可以单独设置container的宽来解决。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;HTML&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;
      
    
    </summary>
    
      <category term="HTML" scheme="https://hakunamatata052.github.io/categories/HTML/"/>
    
      <category term="BOOTSTRAP" scheme="https://hakunamatata052.github.io/categories/HTML/BOOTSTRAP/"/>
    
    
      <category term="bootstrap" scheme="https://hakunamatata052.github.io/tags/bootstrap/"/>
    
      <category term="offset" scheme="https://hakunamatata052.github.io/tags/offset/"/>
    
  </entry>
  
  <entry>
    <title>This is dobby!</title>
    <link href="https://hakunamatata052.github.io/2019/01/03/dobby/"/>
    <id>https://hakunamatata052.github.io/2019/01/03/dobby/</id>
    <published>2019-01-03T09:22:09.000Z</published>
    <updated>2020-08-26T07:38:04.000Z</updated>
    
    <content type="html"><![CDATA[<p><video src="/2019/01/03/dobby/3bc53ac5ca4fde47810af8abb0c0a601.mp4" controls style="display:block;margin:auto"></video><br>这就是Dobby Orz.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;video src=&quot;/2019/01/03/dobby/3bc53ac5ca4fde47810af8abb0c0a601.mp4&quot; controls style=&quot;display:block;margin:auto&quot;&gt;&lt;/video&gt;&lt;br&gt;这就是Dobby Orz.&lt;
      
    
    </summary>
    
      <category term="日常" scheme="https://hakunamatata052.github.io/categories/%E6%97%A5%E5%B8%B8/"/>
    
    
  </entry>
  
  <entry>
    <title>如何使用fonts.googleapis.com使自己的网站增加更多字体</title>
    <link href="https://hakunamatata052.github.io/2019/01/02/fonts-googleapis/"/>
    <id>https://hakunamatata052.github.io/2019/01/02/fonts-googleapis/</id>
    <published>2019-01-02T09:04:17.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先，fonts.googleapis.com解决的是客户端电脑没有安装字体，但是网站主又想客户看到自己想要的字体，通常的做法就是网站的css调用网站内部的字体文件，但是这样做非常不灵活，我们需要更换字体时，不然需要修改css，还需要替换字体文件，于是fonts.googleapis.com就可以解决这个问题。<br><a id="more"></a></p><h1 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h1><p>CSS引入<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;subset=latin,latin-ext"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>链接的具体构成就是：<br>fonts.googleapis.com/css?family=<strong>字体名称</strong>:<strong>加粗程度</strong>,<strong>加粗程度+是否斜体</strong>&amp;subset=latin,latin-ext<br>其中如果需要多种字体用  <strong>|</strong>  隔开，如果有多种加粗程度<br>最后在需要使用的元素上加入font-family属性即可<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'Monda'</span>, <span class="string">'PT Mono'</span> , serif;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">48px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>fonts.googleapis.com还有一种ajax请求方式，这里不推荐使用，css是最快也最容易维护的方式。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先，fonts.googleapis.com解决的是客户端电脑没有安装字体，但是网站主又想客户看到自己想要的字体，通常的做法就是网站的css调用网站内部的字体文件，但是这样做非常不灵活，我们需要更换字体时，不然需要修改css，还需要替换字体文件，于是fonts.googleapis.com就可以解决这个问题。&lt;br&gt;
    
    </summary>
    
      <category term="HTML" scheme="https://hakunamatata052.github.io/categories/HTML/"/>
    
    
      <category term="googleapis" scheme="https://hakunamatata052.github.io/tags/googleapis/"/>
    
      <category term="字体" scheme="https://hakunamatata052.github.io/tags/%E5%AD%97%E4%BD%93/"/>
    
  </entry>
  
  <entry>
    <title>Hexo添加置顶功能和标识</title>
    <link href="https://hakunamatata052.github.io/2018/12/29/hexo-top/"/>
    <id>https://hakunamatata052.github.io/2018/12/29/hexo-top/</id>
    <published>2018-12-29T09:29:09.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先看下效果<br><img src="https://i.loli.net/2018/12/29/5c273ed38214d.png" alt="效果图"><br><a id="more"></a></p><h2 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h2><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm uninstall hexo-generator-index --save</span><br><span class="line">$ npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure><h3 id="新建-修改-文章"><a href="#新建-修改-文章" class="headerlink" title="新建/修改 文章"></a>新建/修改 文章</h3><p>新建或修改文章时在文章<strong>Front-matter</strong>中加入<strong>top: true</strong>即可<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 无JS实现在线客服的切换效果</span><br><span class="line">date: 2018-12-20 15:05:17</span><br><span class="line">tags:</span><br><span class="line">    - css</span><br><span class="line">    - css3</span><br><span class="line">categories: CSS</span><br><span class="line">top: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><blockquote><p>到此为止，文章的置顶功能就实现了,但是我们还需要给置顶的文章加个标识，如<br><img src="https://i.loli.net/2018/12/29/5c2740bd13582.png" alt><br>So，我们需要加一个图标或者文字标签<br>这里我做了一个简单的，你可以修改一下，做一个好看的图标</p></blockquote><h3 id="添加标识"><a href="#添加标识" class="headerlink" title="添加标识"></a>添加标识</h3><p>如果你使用的是<strong>next</strong>的主题，打开目录<strong>themes/next/layout/_macro</strong>，找到文件post.swig，搜索<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;/&#123;% if theme.seo %&#125;h2&#123;% else %&#125;h1&#123;% endif %&#125;&gt;</span><br></pre></td></tr></table></figure></p><p>大概在65行，在他上面添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if post.top %&#125;</span><br><span class="line">    &lt;span style=&quot;color:#f00;border:1px solid #f00;padding:2px 5px;font-size:12px;&quot;&gt;置顶&lt;/span&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p><p>这是你会发现标识出现了，但是高度有些错位，在<strong>themes/next/source/_custom</strong>中找到<strong>custom.styl</strong>文件，添加一行<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-title</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>:<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>这时你就可以看到具体的效果了</p><blockquote><p>当然你可以添加更好看的图标，只需要修改HTML和CSS即可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先看下效果&lt;br&gt;&lt;img src=&quot;https://i.loli.net/2018/12/29/5c273ed38214d.png&quot; alt=&quot;效果图&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="hexo" scheme="https://hakunamatata052.github.io/categories/hexo/"/>
    
    
      <category term="Hexo" scheme="https://hakunamatata052.github.io/tags/Hexo/"/>
    
      <category term="next" scheme="https://hakunamatata052.github.io/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>利用iconfont.cn快速制作前端图标</title>
    <link href="https://hakunamatata052.github.io/2018/12/22/iconfont/"/>
    <id>https://hakunamatata052.github.io/2018/12/22/iconfont/</id>
    <published>2018-12-22T02:28:36.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>以前不会用iconfont.cn的时候，只知道这是个图标库，可以吧图片下载下来，然后制作成图片，在写入HTML。<br>其实没有这么麻烦，iconfont支持三种图片引入方式——Unicode，字体，svg</p></blockquote><a id="more"></a><h2 id="注册账号"><a href="#注册账号" class="headerlink" title="注册账号"></a>注册账号</h2><p>首先登录<a href="https://iconfont.cn" target="_blank" rel="noopener">iconfont</a> 这里我使用的是Github账号直接登录，你可以使用微博账号登录<br><img src="/2018/12/22/iconfont/01.jpg"></p><h2 id="搜索图标"><a href="#搜索图标" class="headerlink" title="搜索图标"></a>搜索图标</h2><p>然后再首页搜索你需要的图标，可以使用中文搜索（建议英文）<br><img src="/2018/12/22/iconfont/02.jpg"></p><p>找到想要的图标之后不要点击下载按钮，要点击购物车按钮，这样才能将多个图片集合到一个项目里<br><img src="/2018/12/22/iconfont/03.jpg"></p><p>通常一个项目或网站肯定不止一个图，这时你可以继续搜素其他图标并加入购物车<br>当你需要将所有图标制作成网站需要的字体文件或者svg文件引入时，点击右上角的购物车按钮<br><img src="/2018/12/22/iconfont/04.jpg"></p><p>这里的三个选项分别是：<br><img src="/2018/12/22/iconfont/05.jpg"></p><table><thead><tr><th>名称</th><th style="text-align:center">解释</th></tr></thead><tbody><tr><td>添加至项目</td><td style="text-align:center">添加到新建或已有的项目（后期可继续添加图标）</td></tr><tr><td>下载素材</td><td style="text-align:center">下载购物车里的图标素材，最后可以下载AI，SVG,PNG格式的图片文件</td></tr><tr><td>下载代码</td><td style="text-align:center">下载生成的引入文件 包含CSS，font，svg等，与添加项目类似，但是后期无法继续添加图标</td></tr></tbody></table><p>这里为了后期能够继续增加或删除图标，我们尽量选择添加至项目，如果没有项目，他会提示你新建项目，根据提示操作就好，这里不再赘述。</p><h2 id="引用图标"><a href="#引用图标" class="headerlink" title="引用图标"></a>引用图标</h2><p>制作好的图标可以在我的项目中看到,可以选择引用iconfont的远程地址（CDN方式），也可以下载到本地引入，如果是使用CDN方式，需要依次点击查看在线链接–生成链接<br><img src="/2018/12/22/iconfont/06.jpg"></p><h3 id="Unicode方式"><a href="#Unicode方式" class="headerlink" title="Unicode方式"></a>Unicode方式</h3><p>需要在你的css中加入上面的代码<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'iconfont'</span>;  <span class="comment">/* project id 978636 */</span></span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_978636_9jco6oz9c8i.eot'</span>);</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_978636_9jco6oz9c8i.eot?#iefix'</span>) <span class="built_in">format</span>(<span class="string">'embedded-opentype'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_978636_9jco6oz9c8i.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_978636_9jco6oz9c8i.ttf'</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_978636_9jco6oz9c8i.svg#iconfont'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>如果某个地方需要使用图标，HTML和CSS分别是这样</p><h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"dome"</span>&gt;</span></span><br><span class="line">    <span class="symbol">&amp;#xe654;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="css"><a href="#css" class="headerlink" title="css"></a>css</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.dome</span>&#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'iconfont'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里的&amp; # x e 6 5 4;就是图标对应代码<br><img src="/2018/12/22/iconfont/07.jpg"></p><h3 id="Font-class"><a href="#Font-class" class="headerlink" title="Font class"></a>Font class</h3><p>font class是一个链接，需要用link引入</p><h4 id="html"><a href="#html" class="headerlink" title="html"></a>html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"//at.alicdn.com/t/font_978636_9jco6oz9c8i.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"dome"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="css-1"><a href="#css-1" class="headerlink" title="css"></a>css</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.dome</span>&#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'iconfont'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="symbol引用"><a href="#symbol引用" class="headerlink" title="symbol引用"></a>symbol引用</h3><p>拷贝项目下面生成的symbol代码：</p><h4 id="HTML-1"><a href="#HTML-1" class="headerlink" title="HTML"></a>HTML</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//at.alicdn.com/t/font_8d5l8fzk5b87iudi.js</span><br></pre></td></tr></table></figure><p>加入通用css代码：</p><h4 id="css-2"><a href="#css-2" class="headerlink" title="css"></a>css</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icon</span> &#123;</span><br><span class="line">       <span class="attribute">width</span>: <span class="number">1em</span>; <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">       <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">       <span class="attribute">fill</span>: currentColor;</span><br><span class="line">       <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>挑选相应图标并获取类名，应用于页面</p><h4 id="html-1"><a href="#html-1" class="headerlink" title="html"></a>html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">"icon"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">"#icon-xxx"</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这里的#icon-XXX对应图标代码 如icon-menu</p><blockquote><p>最后，墙裂建议使用Font class方式引入，兼容度最高，图标大小可以通过font-size控制，颜色可以通过color控制，很方便。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;以前不会用iconfont.cn的时候，只知道这是个图标库，可以吧图片下载下来，然后制作成图片，在写入HTML。&lt;br&gt;其实没有这么麻烦，iconfont支持三种图片引入方式——Unicode，字体，svg&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="HTML" scheme="https://hakunamatata052.github.io/categories/HTML/"/>
    
    
      <category term="inconfont" scheme="https://hakunamatata052.github.io/tags/inconfont/"/>
    
      <category term="图标" scheme="https://hakunamatata052.github.io/tags/%E5%9B%BE%E6%A0%87/"/>
    
  </entry>
  
  <entry>
    <title>利用Github上传并引用video资源</title>
    <link href="https://hakunamatata052.github.io/2018/12/21/github-video/"/>
    <id>https://hakunamatata052.github.io/2018/12/21/github-video/</id>
    <published>2018-12-21T07:56:58.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>很多网站都有背景视频的元素，利用的是【HTML5】的新特性————【video】标签<br>例如：<a href="http://www.hearttrip.net/tourlist.html" target="_blank" rel="noopener">点击打开</a> 里面的banner背景，就是一个视频</p></blockquote><a id="more"></a><p>具体代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"video.mp4"</span> <span class="attr">controls</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">您的浏览器不支持 video 标签。</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>但是对于很多服务器来说，视频太站资源，太耗流量，但是将视频上传到优酷、腾讯视频上又无法获得视频真实地址（video标签中的视频必须是视频的物理地址，即必须以.mp4等的拓展名结束的地址），而且还有广告<br>这里推荐一个简单的方法：</p><blockquote><p>使用GitHub等git托管网站上传视频</p></blockquote><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><h3 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h3><p>首先注册一个GitHub账号 <a href="https://github.com/" target="_blank" rel="noopener">点我注册</a><br><img src="/2018/12/21/github-video/01.jpg"></p><h3 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h3><p>点击New新建一个项目，名称可以随便取，但是不能写中文,填写好后点击【Create repository】</p><blockquote><p>需要注意的是 必须选中Initialize this repository with a README这个选项，否则你需要安装git使用指令将视频传上去。</p></blockquote><img src="/2018/12/21/github-video/02.jpg"><img src="/2018/12/21/github-video/03.jpg"><h3 id="上传视频"><a href="#上传视频" class="headerlink" title="上传视频"></a>上传视频</h3><p>新建号项目你将看到这样的界面，点击【Upload files】上传你的视频就可以，最后上传完了之后点击【Commit changes】<br><img src="/2018/12/21/github-video/04.jpg"><br><img src="/2018/12/21/github-video/05.jpg"></p><h3 id="引用视频"><a href="#引用视频" class="headerlink" title="引用视频"></a>引用视频</h3><p>上传完毕后就能在项目中看到你的视频，点击视频后再复制【View Raw】的连接就可以获得视频的真实地址了，例如我的连接是：<a href="https://github.com/HakunaMatata052/video/blob/master/a.mp4?raw=true" target="_blank" rel="noopener">https://github.com/HakunaMatata052/video/blob/master/a.mp4?raw=true</a><br>注意：视频最后的 ?raw=true 不能删除，否则视频无法播放<br><img src="/2018/12/21/github-video/06.jpg"></p><p>最后放在代码里看一下<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"https://github.com/HakunaMatata052/video/blob/master/a.mp4?raw=true"</span> <span class="attr">controls</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">您的浏览器不支持 video 标签。</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>效果：</p><video src="https://github.com/HakunaMatata052/video/blob/master/a.mp4?raw=true" controls="controls" autoplay="autoplay"><br>您的浏览器不支持 video 标签。<br></video><blockquote><p>如果想让视频当背景用的话，需要设video为自动播放，可以设置autoplay=”autoplay”具体代码如下</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"https://github.com/HakunaMatata052/video/blob/master/a.mp4?raw=true"</span> <span class="attr">controls</span>=<span class="string">"controls"</span>  <span class="attr">autoplay</span>=<span class="string">"autoplay"</span>&gt;</span></span><br><span class="line">您的浏览器不支持 video 标签。</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果需要隐藏播放控件可以去掉 controls=”controls” ，也可以使用css<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">video</span><span class="selector-pseudo">::-webkit-media-controls</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>:none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;很多网站都有背景视频的元素，利用的是【HTML5】的新特性————【video】标签&lt;br&gt;例如：&lt;a href=&quot;http://www.hearttrip.net/tourlist.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;点击打开&lt;/a&gt; 里面的banner背景，就是一个视频&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="HTML" scheme="https://hakunamatata052.github.io/categories/HTML/"/>
    
    
      <category term="github" scheme="https://hakunamatata052.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>Vue全局公用函数</title>
    <link href="https://hakunamatata052.github.io/2018/12/21/vue-global-function/"/>
    <id>https://hakunamatata052.github.io/2018/12/21/vue-global-function/</id>
    <published>2018-12-21T03:00:29.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>经常在做项目的时候会遇到一个函数在很多组件和页面中调用，如计算时间差，刷新token等操作，这时就需要定义一个全局都能调用的函数</p></blockquote><a id="more"></a><h2 id="新建js文件"><a href="#新建js文件" class="headerlink" title="新建js文件"></a>新建js文件</h2><p>可以放在src的utils文件中，命名index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">exports.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123;</span><br><span class="line">    Vue.prototype.changeData = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">'执行成功'</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h2><p>在需要调用函数的组件内引入Vue和该函数文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>               <span class="comment">//引入Vue</span></span><br><span class="line"><span class="keyword">import</span> base <span class="keyword">from</span> <span class="string">'../../utils'</span>      <span class="comment">//引入新建的公用函数js</span></span><br><span class="line">Vue.use(base);                      <span class="comment">//使用新建的公用函数js</span></span><br></pre></td></tr></table></figure><blockquote><p>如果需要全局引用，则将调用函数写在main.js中即可</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;经常在做项目的时候会遇到一个函数在很多组件和页面中调用，如计算时间差，刷新token等操作，这时就需要定义一个全局都能调用的函数&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
      <category term="VUE" scheme="https://hakunamatata052.github.io/categories/JS/VUE/"/>
    
    
      <category term="vue" scheme="https://hakunamatata052.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>无JS实现在线客服的切换效果</title>
    <link href="https://hakunamatata052.github.io/2018/12/20/nojs-toggle/"/>
    <id>https://hakunamatata052.github.io/2018/12/20/nojs-toggle/</id>
    <published>2018-12-20T07:05:17.000Z</published>
    <updated>2020-08-25T06:12:08.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先可以看下效果<br><a href="http://www.lofly.cn/" target="_blank" rel="noopener">点我查看</a></p><p>这里利用HTML的 【checkbox】类型的【input】和【label】元素的【for】属性<br>和CSS的【:checked】选择器以及【~】选择器</p><p>主要的原理是点击【label】使【label】的【for】属性指定id【input】改变选中状态（【:checked】），<br>【input】选中状态改变后，使用css改变【input】后面的元素的显示或隐藏（或定位）。</p><a id="more"></a><h1 id="首先你必须知道元素的for属性可以控制【checkbox】类型的【input】"><a href="#首先你必须知道元素的for属性可以控制【checkbox】类型的【input】" class="headerlink" title="首先你必须知道元素的for属性可以控制【checkbox】类型的【input】"></a>首先你必须知道<label>元素的for属性可以控制【checkbox】类型的【input】</label></h1><blockquote><p>例如：</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"dome"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"dome"</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>效果:</p></blockquote><iframe src="/2018/12/20/nojs-toggle/01.html" width="600" height="100" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe><h1 id="然后利用CSS的-选择器-设置input被选中后紧跟的元素的样式"><a href="#然后利用CSS的-选择器-设置input被选中后紧跟的元素的样式" class="headerlink" title="然后利用CSS的 ~ 选择器 设置input被选中后紧跟的元素的样式"></a>然后利用CSS的 ~ 选择器 设置input被选中后紧跟的元素的样式</h1><blockquote><p>多提一句<br>~ 选择器表示元素后的同胞元素<br>如：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>~<span class="selector-tag">ul</span>&#123;</span><br><span class="line">　　<span class="attribute">background</span>:<span class="number">#ff0000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>快乐生活<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">li</span>&gt;</span>生活<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">li</span>&gt;</span>生活<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">li</span>&gt;</span>生活<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>会给p元素后所有的ul元素加背景</p><p>那么我们需要做的就是为input后的元素做隐藏显示（或改变定位）<br>如何判断需要显示还是隐藏呢？<br>需要用到input的checked属性</p><blockquote><p>如果需要改变默认状态可以给input加checked=”checked”</p></blockquote><h1 id="最后具体代码如下"><a href="#最后具体代码如下" class="headerlink" title="最后具体代码如下"></a>最后具体代码如下</h1><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"dome"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"toggle"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"open"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"toggle"</span>&gt;</span>关闭<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        打开以后你看到的</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"close"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"toggle"</span>&gt;</span>打开<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        关闭以后你看到的</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#toggle</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#toggle</span>~<span class="selector-class">.open</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#toggle</span>~<span class="selector-class">.close</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#toggle</span><span class="selector-pseudo">:checked</span>~<span class="selector-class">.open</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#toggle</span><span class="selector-pseudo">:checked</span>~<span class="selector-class">.close</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>效果：</p></blockquote><iframe src="/2018/12/20/nojs-toggle/02.html" width="600" height="500" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes"></iframe>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先可以看下效果&lt;br&gt;&lt;a href=&quot;http://www.lofly.cn/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;点我查看&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这里利用HTML的 【checkbox】类型的【input】和【label】元素的【for】属性&lt;br&gt;和CSS的【:checked】选择器以及【~】选择器&lt;/p&gt;
&lt;p&gt;主要的原理是点击【label】使【label】的【for】属性指定id【input】改变选中状态（【:checked】），&lt;br&gt;【input】选中状态改变后，使用css改变【input】后面的元素的显示或隐藏（或定位）。&lt;/p&gt;
    
    </summary>
    
      <category term="CSS" scheme="https://hakunamatata052.github.io/categories/CSS/"/>
    
    
      <category term="css3" scheme="https://hakunamatata052.github.io/tags/css3/"/>
    
      <category term="css" scheme="https://hakunamatata052.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>javascript思维导图</title>
    <link href="https://hakunamatata052.github.io/2018/12/20/js-mind-map/"/>
    <id>https://hakunamatata052.github.io/2018/12/20/js-mind-map/</id>
    <published>2018-12-20T00:40:43.000Z</published>
    <updated>2020-08-21T02:57:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>下面附上十张javascript思维导图，如果把里面的内容全部掌握，那就是高手了。思维导图提供给我们一个整体的知识体系，也可以说是一种工具，废话不多说，上图：<br><a id="more"></a></p><h2 id="javascript数据类型"><a href="#javascript数据类型" class="headerlink" title="javascript数据类型"></a>javascript数据类型</h2><img src="/2018/12/20/js-mind-map/01.gif"><h2 id="javascript数组"><a href="#javascript数组" class="headerlink" title="javascript数组"></a>javascript数组</h2><img src="/2018/12/20/js-mind-map/02.gif"><h2 id="javascript运算符"><a href="#javascript运算符" class="headerlink" title="javascript运算符"></a>javascript运算符</h2><img src="/2018/12/20/js-mind-map/03.gif"><h2 id="javascript正则表达式"><a href="#javascript正则表达式" class="headerlink" title="javascript正则表达式"></a>javascript正则表达式</h2><img src="/2018/12/20/js-mind-map/04.gif"><h2 id="javascript字符串函数"><a href="#javascript字符串函数" class="headerlink" title="javascript字符串函数"></a>javascript字符串函数</h2><img src="/2018/12/20/js-mind-map/05.gif"><h2 id="window对象"><a href="#window对象" class="headerlink" title="window对象"></a>window对象</h2><img src="/2018/12/20/js-mind-map/06.gif"><h2 id="DOM基本操作"><a href="#DOM基本操作" class="headerlink" title="DOM基本操作"></a>DOM基本操作</h2><img src="/2018/12/20/js-mind-map/07.gif"><h2 id="javascript变量"><a href="#javascript变量" class="headerlink" title="javascript变量"></a>javascript变量</h2><img src="/2018/12/20/js-mind-map/08.gif"><h2 id="javascript函数基础"><a href="#javascript函数基础" class="headerlink" title="javascript函数基础"></a>javascript函数基础</h2><img src="/2018/12/20/js-mind-map/09.gif"><h2 id="javascript流程控制"><a href="#javascript流程控制" class="headerlink" title="javascript流程控制"></a>javascript流程控制</h2><img src="/2018/12/20/js-mind-map/10.gif"><blockquote><p>本文转自<a href="https://www.cnblogs.com/xianyulaodi/p/5886128.html" target="_blank" rel="noopener">咸鱼老弟https://www.cnblogs.com/xianyulaodi/p/5886128.html</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;下面附上十张javascript思维导图，如果把里面的内容全部掌握，那就是高手了。思维导图提供给我们一个整体的知识体系，也可以说是一种工具，废话不多说，上图：&lt;br&gt;
    
    </summary>
    
      <category term="JS" scheme="https://hakunamatata052.github.io/categories/JS/"/>
    
    
      <category term="js" scheme="https://hakunamatata052.github.io/tags/js/"/>
    
      <category term="javascript" scheme="https://hakunamatata052.github.io/tags/javascript/"/>
    
  </entry>
  
</feed>
